System.register("chunks:///_virtual/ad_event.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"4fbfa3OTWBNpol0YEh2m8Qu","ad_event",void 0);E("PrerollAdEvent",function(E){return E.AD_BREAK_DONE="H5GA_EVENT_PREROLL_AD_BREAK_DONE",E}({})),E("InterstitialAdEvent",function(E){return E.BEFORE_AD="H5GA_EVENT_INTERSTITIAL_BEFORE_AD",E.AFTER_AD="H5GA_EVENT_INTERSTITIAL_AFTER_AD",E.AD_BREAK_DONE="H5GA_EVENT_INTERSTITIAL_AD_BREAK_DONE",E}({})),E("RewardedVideoAdEvent",function(E){return E.BEFORE_AD="H5GA_EVENT_REWARDED_VIDEO_BEFORE_AD",E.AFTER_AD="H5GA_EVENT_REWARDED_VIDEO_AFTER_AD",E.AD_BREAK_DONE="H5GA_EVENT_REWARDED_VIDEO_AD_BREAK_DONE",E.BEFORE_REWARD="H5GA_EVENT_REWARDED_VIDEO_BEFORE_REWARD",E.AD_DISMISSED="H5GA_EVENT_REWARDED_VIDEO_AD_DISMISSED",E.AD_VIEWED="H5GA_EVENT_REWARDED_VIDEO_AD_VIEWED",E}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/App.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRes.ts","./AppHelper.ts","./AppNative.ts","./AppLayoutHelper.ts","./AppAudio.ts","./AppData.ts","./AppUser.ts","./PopData.ts","./AppViewMgr.ts","./AppUI.ts","./Common.ts","./Utils.ts","./AppAdHelper.ts","./AppStoreHelper.ts","./AppRemoteConfig.ts","./AppHotUpdate.ts"],(function(t){var p,n,e,o,i,s,d,a,l,r,u,A,c,g,f,h,m,C,H,U,v,y,L;return{setters:[function(t){p=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy,o=t._decorator,i=t.Component,s=t.js,d=t.instantiate},function(t){a=t.AppRes},function(t){l=t.AppHelper},function(t){r=t.AppNative},function(t){u=t.AppLayoutHelper},function(t){A=t.AppAudio},function(t){c=t.AppDataCtl},function(t){g=t.AppUser},function(t){f=t.PopDataCtl},function(t){h=t.AppViewMgr},function(t){m=t.AppUI},function(t){C=t.BUNDLE},function(t){H=t.Utils},function(t){U=t.AppAdHelper},function(t){v=t.AppStoreHelper},function(t){y=t.AppRemoteConfig},function(t){L=t.AppHotUpdate}],execute:function(){var N;e._RF.push({},"f39fdwhJ9lMkLbJ00uMsLKA","App",void 0);var R=o.ccclass,w=(o.property,t("AppStarter",R("AppStarter")(N=function(t){function n(){return t.apply(this,arguments)||this}return p(n,t),n.prototype.onLoad=function(){M.init(this.node)},n}(i))||N),function(){function p(){this._node=null}var e=p.prototype;return e.init=function(p){console.log(s.getClassName(this)+".init()"),this.node?console.warn(s.getClassName(this)+".init() only need to init one time."):(this.node=p||H.createPersistNode(s.getClassName(this)),t("gAppHelper",this.node.addComponent(l)),t("gAppLayoutHelper",this.node.addComponent(u)),t("gAppAudio",this.node.addComponent(A)),t("gAppNative",this.node.addComponent(r)),t("gAppViewMgr",this.node.addComponent(h)),t("gAppUI",this.node.addComponent(m)),t("gAppAdHelper",this.node.addComponent(U)),t("gAppStoreHelper",this.node.addComponent(v)),t("gAppHotUpdate",this.node.addComponent(L)),this.node.addComponent(y),this.node.addComponent(c),this.node.addComponent(g),this.node.addComponent(f))},e.loadRes=function(p){var n=this;H.loadBundleRes(C.app,s.getClassName(a),(function(e){var o=d(e);o.parent=n.node,t("gAppRes",o.getComponent(a)),p&&p()}))},n(p,[{key:"node",get:function(){return this._node},set:function(t){this._node=t}}]),p}()),M=t("gApp",new w);t("gAppHelper",null),t("gAppLayoutHelper",null),t("gAppRes",null),t("gAppAudio",null),t("gAppNative",null),t("gAppViewMgr",null),t("gAppUI",null),t("gAppAdHelper",null),t("gAppStoreHelper",null),t("gAppHotUpdate",null);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppAboutUsUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var e,n,i,r,o,l,a,s,u,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.TextAsset,s=t.RichText,u=t.Node,c=t.Component},function(t){p=t.gAppHelper}],execute:function(){var b,f,A,h,g,y,d,v,U;o._RF.push({},"bafaaTLMbZFvbHSE2fO4rIp","AppAboutUsUI",void 0);var x=l.ccclass,C=l.property;t("AppAboutUsUI",(b=x("AppAboutUsUI"),f=C(a),A=C(s),h=C(u),b((d=e((y=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"txtAsset",d,r(e)),i(e,"labelContent",v,r(e)),i(e,"loading",U,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){var t=this;p.showPanel(this),this.scheduleOnce((function(){t.labelContent.string=t.txtAsset.text,t.loading.active=!1}),.2)},o.onCloseClick=function(){p.closePanel(this)},e}(c)).prototype,"txtAsset",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"labelContent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(y.prototype,"loading",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppAdHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppUser.ts","./Config.ts","./AppData.ts"],(function(e){var n,t,i,d,a,s,r,o,A,h,u,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,d=e.sys,a=e.randomRangeInt,s=e.Component},function(e){r=e.gAppNative,o=e.gAppUI,A=e.gAppHelper},function(e){h=e.gUserData},function(e){u=e.Config},function(e){c=e.gAppData}],execute:function(){var p;t._RF.push({},"9de03e1NpFHqpsEdldKfY+Q","AppAdHelper",void 0);var R=i.ccclass;i.property,e("AppAdHelper",R("AppAdHelper")(p=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),d=0;d<t;d++)i[d]=arguments[d];return(n=e.call.apply(e,[this].concat(i))||this)._isRewardedAdReady=!1,n.RewardedAdShowedTime=0,n._isInterstitialAdReady=!1,n.interstitialAdShowedTime=0,n.bannerAdShowing=!1,n}n(t,e);var i=t.prototype;return i.start=function(){var e=this;r.node.on(r.MSG_INTERSTITIAL_AD_READY,(function(n){e._isInterstitialAdReady="1"==n}),this),r.node.on(r.MSG_REWARDED_AD_READY,(function(n){e._isRewardedAdReady="1"==n}),this),r.node.on(r.MSG_REWARDED_AD_BONUS,this.onRewardedAdBonus,this),this.schedule((function(){e.canLoadAd()&&!e.isRewardedAdReady()&&r.requestRewardedAd()}),60,1e3,60),this.schedule((function(){h.adRemoved||e.canLoadAd()&&!e.isInterstitialAdReady()&&r.requestInterstitialAd()}),60,1e3,60)},i.canLoadAd=function(){return c.appDuration>1800||u.testing},i.isRewardedAdReady=function(){var e=!1;return e=d.os===d.OS.ANDROID?this._isRewardedAdReady:r.isRewardedAdReady(),console.log("isRewardedAdReady():",e),e},i.showRewardedAd=function(){this.isRewardedAdReady()&&(this.RewardedAdShowedTime=d.now(),r.showRewardedAd())},i.onRewardedAdBonus=function(){o.showRewardMessage(a(5,10),(function(){}))},i.isInterstitialAdReady=function(){var e=!1;return e=d.os===d.OS.ANDROID?this._isInterstitialAdReady:r.isInterstitialAdReady(),console.log("isInterstitialAdReady():",e),e},i.isTimeToShowInterstitialAd=function(){var e=u.testing?10:1e3*u.interstitial_ad_interval;return d.now()-this.interstitialAdShowedTime>e&&d.now()-this.RewardedAdShowedTime>e},i.showInterstitialAd=function(){this.isInterstitialAdReady()&&this.isTimeToShowInterstitialAd()&&(this.interstitialAdShowedTime=d.now(),r.showInterstitialAd())},i.isBannerAdEnabled=function(){return!(!(A.isChannelApproved()||c.launchCount>5&&c.appDuration>10800)||h.adRemoved)},i.isBannerAdShowing=function(){return this.bannerAdShowing},i.showBannerAd=function(){this.isBannerAdEnabled()&&(this.bannerAdShowing=!0,r.showBannerAd())},i.hideBannerAd=function(){this.bannerAdShowing=!1,r.hideBannerAd()},t}(s))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./AppData.ts"],(function(o){var u,i,e,n,t,c,s,r,l,d,p;return{setters:[function(o){u=o.applyDecoratedDescriptor,i=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){t=o.cclegacy,c=o._decorator,s=o.AudioSource,r=o.clamp01,l=o.Component},function(o){d=o.Utils},function(o){p=o.gAppData}],execute:function(){var a,m,A,h,S,f,y;t._RF.push({},"da0b3BIJdFBp4tjGTZOhZUB","AppAudio",void 0);var v=c.ccclass,g=c.property;o("AppAudio",(a=v("AppAudio"),m=g(s),A=g(s),a((f=u((S=function(o){function u(){for(var u,i=arguments.length,t=new Array(i),c=0;c<i;c++)t[c]=arguments[c];return u=o.call.apply(o,[this].concat(t))||this,e(u,"musicAudioSource",f,n(u)),e(u,"soundAudioSource",y,n(u)),u.curPlayingMusic=null,u}i(u,o);var t=u.prototype;return t.onLoad=function(){this.musicAudioSource=d.addComponentNodeTo(s,this.node),this.soundAudioSource=d.addComponentNodeTo(s,this.node)},t.start=function(){console.log("AppAudio.start()"),this.musicAudioSource.volume=p.musicVolume,this.soundAudioSource.volume=p.soundVolume},t.pauseMusic=function(){this.musicAudioSource.pause()},t.playMusic=function(o,u){var i=this;this.musicAudioSource.volume<.5||(o?this.curPlayingMusic!=o&&(this.musicAudioSource.stop(),this.musicAudioSource.clip=null,this.scheduleOnce((function(){i.musicAudioSource.loop=!0,i.musicAudioSource.clip=o,i.musicAudioSource.play(),i.curPlayingMusic=o}))):console.warn("clip is null"))},t.playSound=function(o){this.soundAudioSource.volume<.5||(o?this.soundAudioSource.playOneShot(o,1):console.warn("clip is null"))},t.setMusicVolume=function(o){o=r(o),p.musicVolume=o,this.musicAudioSource.volume=o},t.setSoundVolume=function(o){p.soundVolume=o,this.soundAudioSource.volume=o},t.openMusic=function(){this.setMusicVolume(1)},t.closeMusic=function(){this.setMusicVolume(0)},t.openSound=function(){this.setSoundVolume(1)},t.closeSound=function(){this.setSoundVolume(0)},u}(l)).prototype,"musicAudioSource",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=u(S.prototype,"soundAudioSource",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/AppAudioSounds.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,n,i,r,t,l,u,a,b,c,p,f;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){t=e.cclegacy,l=e._decorator,u=e.AudioClip,a=e.log,b=e.js,c=e.warn,p=e.assetManager,f=e.Component}],execute:function(){var m,d,g,y,w,C,s,z,G,S,J,v,h,A,B,M,D,R,L,I,P,E,H,N,F,O,_,j,k,T,x,Z,q,K,Q,U,V,W,X,Y,$,ee,oe,ne,ie,re,te,le,ue,ae,be,ce,pe,fe,me,de,ge,ye,we,Ce,se,ze,Ge,Se,Je,ve,he,Ae,Be,Me,De,Re,Le,Ie,Pe,Ee,He,Ne,Fe,Oe,_e,je,ke,Te,xe,Ze,qe,Ke,Qe,Ue,Ve,We,Xe,Ye;t._RF.push({},"e40d9+RpidMZ7sJmBrjRyl3","AppAudioSounds",void 0);var $e=l.ccclass,eo=l.property,oo=e("AppAudioSounds",(m=$e("AppAudioSounds"),d=eo(u),g=eo(u),y=eo(u),w=eo(u),C=eo(u),s=eo(u),z=eo(u),G=eo(u),S=eo(u),J=eo(u),v=eo(u),h=eo(u),A=eo(u),B=eo(u),M=eo(u),D=eo(u),R=eo(u),L=eo(u),I=eo(u),P=eo(u),E=eo(u),H=eo(u),N=eo(u),F=eo(u),O=eo(u),_=eo(u),j=eo(u),k=eo(u),T=eo(u),x=eo(u),Z=eo(u),q=eo(u),K=eo(u),Q=eo(u),U=eo(u),V=eo(u),W=eo(u),X=eo(u),Y=eo(u),$=eo(u),ee=eo(u),oe=eo(u),ne=eo(u),ie=eo({type:u}),re=eo({type:u}),m(((Ye=function(o){function t(){for(var e,n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return e=o.call.apply(o,[this].concat(t))||this,i(e,"BuyMagics",ue,r(e)),i(e,"CalcRemaining",ae,r(e)),i(e,"CalcRemainingEnd",be,r(e)),i(e,"Hit",ce,r(e)),i(e,"PopStar",pe,r(e)),i(e,"Firework",fe,r(e)),i(e,"GainBonus",me,r(e)),i(e,"GameOver",de,r(e)),i(e,"LevelEnd",ge,r(e)),i(e,"MainMenuBg",ye,r(e)),i(e,"GamePlayBg",we,r(e)),i(e,"MoveDown",Ce,r(e)),i(e,"MoveDown2",se,r(e)),i(e,"NewHighScore",ze,r(e)),i(e,"ReplaceGem",Ge,r(e)),i(e,"Select",Se,r(e)),i(e,"SelectGem",Je,r(e)),i(e,"StageIntroIn",ve,r(e)),i(e,"StageIntroOut",he,r(e)),i(e,"StartGame",Ae,r(e)),i(e,"TargetClear",Be,r(e)),i(e,"Bomb",Me,r(e)),i(e,"Shuffle",De,r(e)),i(e,"AddGold",Re,r(e)),i(e,"ReduceGold",Le,r(e)),i(e,"GoodJob",Ie,r(e)),i(e,"GoodJob1",Pe,r(e)),i(e,"GoodJob2",Ee,r(e)),i(e,"GoodJob3",He,r(e)),i(e,"GoodJob4",Ne,r(e)),i(e,"GoodJob5",Fe,r(e)),i(e,"Combo1",Oe,r(e)),i(e,"Combo2",_e,r(e)),i(e,"Combo3",je,r(e)),i(e,"Combo4",ke,r(e)),i(e,"Combo5",Te,r(e)),i(e,"Combo6",xe,r(e)),i(e,"Combo7",Ze,r(e)),i(e,"Combo8",qe,r(e)),i(e,"Combo9",Ke,r(e)),i(e,"Combo10",Qe,r(e)),i(e,"Combo11",Ue,r(e)),i(e,"Combo12",Ve,r(e)),i(e,"GoodJobs",We,r(e)),i(e,"Combos",Xe,r(e)),e}return n(t,o),t.prototype.onLoad=function(){a(b.getClassName(this)+".onLoad()"),no=e("SND",this)},t.loadClips=function(){var e=this;if(a("AppAudioSounds.loadClips()"),this.bLoaded)c("bLoaded already loaded.");else{var o="audio";p.loadBundle(o,(function(o,n){if(o)c("loadBundle(audio) error!");else{var i=n,r="./";a("loadDir(./)"),i.loadDir(r,(function(o,n){o?a("loadDir(./) error!"):(n.forEach((function(e){no[e.name]=e})),no.GoodJobs=[no.GoodJob1,no.GoodJob2,no.GoodJob3,no.GoodJob4,no.GoodJob5],no.Combos=[no.Combo1,no.Combo2,no.Combo3,no.Combo4,no.Combo5,no.Combo6,no.Combo7,no.Combo8,no.Combo9,no.Combo10,no.Combo11,no.Combo12],e.bLoaded=!0)}))}}))}},t}(f)).bLoaded=!1,ue=o((le=Ye).prototype,"BuyMagics",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=o(le.prototype,"CalcRemaining",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=o(le.prototype,"CalcRemainingEnd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=o(le.prototype,"Hit",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=o(le.prototype,"PopStar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=o(le.prototype,"Firework",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=o(le.prototype,"GainBonus",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=o(le.prototype,"GameOver",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=o(le.prototype,"LevelEnd",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=o(le.prototype,"MainMenuBg",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=o(le.prototype,"GamePlayBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=o(le.prototype,"MoveDown",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=o(le.prototype,"MoveDown2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=o(le.prototype,"NewHighScore",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=o(le.prototype,"ReplaceGem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=o(le.prototype,"Select",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=o(le.prototype,"SelectGem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=o(le.prototype,"StageIntroIn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=o(le.prototype,"StageIntroOut",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=o(le.prototype,"StartGame",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=o(le.prototype,"TargetClear",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=o(le.prototype,"Bomb",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=o(le.prototype,"Shuffle",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=o(le.prototype,"AddGold",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=o(le.prototype,"ReduceGold",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=o(le.prototype,"GoodJob",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=o(le.prototype,"GoodJob1",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=o(le.prototype,"GoodJob2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=o(le.prototype,"GoodJob3",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=o(le.prototype,"GoodJob4",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=o(le.prototype,"GoodJob5",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=o(le.prototype,"Combo1",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=o(le.prototype,"Combo2",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=o(le.prototype,"Combo3",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=o(le.prototype,"Combo4",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=o(le.prototype,"Combo5",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=o(le.prototype,"Combo6",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=o(le.prototype,"Combo7",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=o(le.prototype,"Combo8",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=o(le.prototype,"Combo9",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=o(le.prototype,"Combo10",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=o(le.prototype,"Combo11",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=o(le.prototype,"Combo12",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=o(le.prototype,"GoodJobs",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=o(le.prototype,"Combos",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=le))||te)),no=e("SND",new oo);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppBlockerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,c=t.Component}],execute:function(){var n;r._RF.push({},"da6cefnN2RMXpm9tLQHPl1z","AppBlockerUI",void 0);var p=o.ccclass;o.property,t("AppBlockerUI",p("AppBlockerUI")(n=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.prototype.start=function(){},r}(c))||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/AppCoinInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppUser.ts","./Config.ts","./App.ts","./AppLayoutAdaptor.ts"],(function(n){var o,t,i,e,r,a,l,s,c,u,p,d,f,h,y,b,C,g;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Label,s=n.Node,c=n.v3,u=n.tween,p=n.find,d=n.Component},function(n){f=n.gUserData,h=n.gAppUser,y=n.AppUser},function(n){b=n.Config},function(n){C=n.gAppUI},function(n){g=n.AppLayoutAdaptor}],execute:function(){var A,v,w,I,m,L,O,P,S,V;r._RF.push({},"3a6cboYSqNJMriulId73y4m","AppCoinInfo",void 0);var _=a.ccclass,z=a.property;n("AppCoinInfo",(A=_("AppCoinInfo"),v=z(l),w=z(s),I=z(s),A(((V=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=n.call.apply(n,[this].concat(r))||this,i(o,"labelCoinValue",O,e(o)),i(o,"nodeSymbolAdd",P,e(o)),i(o,"nodeCoinIcon",S,e(o)),o}t(o,n);var r=o.prototype;return r.start=function(){var n=this;this.labelCoinValue.string=f.coin.toString(),h.node.on(y.EVT_COIN_CHANGED,(function(){n.updateCoin()}),this),this.scheduleOnce((function(){o.coinWorldPos=c(n.nodeCoinIcon.worldPosition)})),this.nodeSymbolAdd.active=b.storeEnabled,this.scheduleOnce((function(){}))},r.updateCoin=function(){var n=this;this.node.active||(this.node.active=!0),this.showOnTopLayer(),this.labelCoinValue.string=f.coin.toString(),u(this.labelCoinValue.node).to(.1,{scale:c(1.2,1.2,1.2)}).to(.1,{scale:c(1,1,1)}).delay(1).call((function(){n.showOnOriginLayer()})).start()},r.showOnTopLayer=function(){var n=c(this.node.worldPosition);this.node.parent=p("Canvas"),this.node.setWorldPosition(n)},r.showOnOriginLayer=function(){var n=this.getComponent(g);if(n){var o=c(this.node.worldPosition);n.updateLayout(),this.node.setWorldPosition(o)}},r.onAddClick=function(){b.storeEnabled&&C.showStore()},o}(d)).coinWorldPos=c(),O=o((L=V).prototype,"labelCoinValue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=o(L.prototype,"nodeSymbolAdd",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=o(L.prototype,"nodeCoinIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=L))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./Utils.ts","./Config.ts"],(function(t){var a,o,n,i,e,p,s,c,r;return{setters:[function(t){a=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.log,e=t.macro,p=t.Component},function(t){s=t.VM},function(t){c=t.Utils},function(t){r=t.Config}],execute:function(){var u;o._RF.push({},"9e145cP+2pFOpxwWcS0W4Ed","AppData",void 0);var l=n.ccclass,h=(n.property,t("gAppData",new function(){this.version=r.version,this.launchCount=0,this.appDuration=0,this.musicVolume=.8,this.soundVolume=1,this.privacyPolicyAccepted=!1,this.ratedVersion="0.1",this.inAppRatingFirstShowTime=0,this.inAppRatingShowedCount=0,this.dataImportedFrom=""})),d="AppDataV2",f="gAppData",g=h,D=(t("AppDataCtl",l("AppDataCtl")(u=function(o){function n(){return o.apply(this,arguments)||this}a(n,o);var p=n.prototype;return p.onLoad=function(){i("AppDataCtl.onLoad()"),D||(D=t("gAppDataCtl",this),this.loadData(),this.bindVM()),g.launchCount++,this.schedule(this.updateAppStats,5,e.REPEAT_FOREVER,1)},p.updateAppStats=function(t){g.appDuration+=t,g.appDuration=Math.floor(g.appDuration)},p.bindVM=function(){var t=this;s.add(g,f,!0),s.bindPath(f,(function(a,o,n){t.scheduleOnce((function(){t.saveData()}))}),this)},p.loadData=function(){var t="AppData",a=localStorage.getItem(t);if(a&&a.length>0){i("Loading previous data of AppData, "+a),c.loadObject(t,g),localStorage.removeItem(t);var o="AppStats",n=localStorage.getItem(o);return n&&n.length>0&&(c.loadObject(o,g),localStorage.removeItem(o)),void this.saveData()}c.loadObject(d,g)},p.saveData=function(){c.saveObject(d,g)},n}(p))||u),t("gAppDataCtl",null));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppDebugUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Config.ts","./Common.ts","./Utils.ts"],(function(e){var t,n,i,o,s,a,r,c,l,p,u,g,d;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.find,s=e.instantiate,a=e.Label,r=e.game,c=e.Component},function(e){l=e.gAppHelper,p=e.gAppHotUpdate},function(e){u=e.Config},function(e){g=e.setObjKeysAsValues},function(e){d=e.Utils}],execute:function(){var h;n._RF.push({},"5e1f5jjR2FC6oy+akTBhHaN","AppDebugUI",void 0);var f=i.ccclass,m=(i.property,function(e){return e.testing="",e.storeEnabled="",e.isVideoAdEnabled="",e.clearHotUpdateCache="",e}(m||{}));g(m);e("AppDebugUI",f("AppDebugUI")(h=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var i=n.prototype;return i.start=function(){for(var e=o("Panel/Configs",this.node),t=Object.getOwnPropertyNames(m),n=0;n<t.length;n++){var i=t[n],a=n<e.children.length?e.children[n]:s(e.children[0]);a.parent=e,a.name=i,d.bindClick(a,this.onItemClick,this,i)}this.updateItems(),l.showPanel(this)},i.updateItems=function(){o("Panel/Configs",this.node).children.forEach((function(e){e.getChildByName("LabelTitle").getComponent(a).string=e.name,e.getChildByName("LabelValue").getComponent(a).string=u[e.name]}))},i.onItemClick=function(e){e==m.testing?u.testing=!u.testing:e==m.storeEnabled?u.storeEnabled=!u.storeEnabled:e==m.clearHotUpdateCache&&(p.clearAssetsDir(),r.restart()),this.updateItems()},i.onOKClick=function(){l.closePanel(this)},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppFadeOutUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,o,a,p;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.UIOpacity,a=t.tween,p=t.Component}],execute:function(){var c;r._RF.push({},"722ebr1z/VDKpYFkvYWjQw5","AppFadeOutUI",void 0);var i=n.ccclass;n.property,t("AppFadeOutUI",i("AppFadeOutUI")(c=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).interval=.6,e}return e(r,t),r.prototype.start=function(){var t=this.getComponent(o);t.opacity=255,a(t).to(this.interval,{opacity:0}).start()},r}(p))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/AppGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,r,e,a,s,o,h;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator,e=t.UITransform,a=t.size,s=t.log,o=t.Layout,h=t.Component}],execute:function(){var c;i._RF.push({},"c27a0zNCclLF6YUWY0yXurM","AppGrid",void 0);var p=r.ccclass;r.property,t("AppGrid",p("AppGrid")(c=function(t){function i(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).trans=null,n.transContainer=null,n.transContainerSize=a(0,0),n}n(i,t);var r=i.prototype;return r.start=function(){this.trans=this.getComponent(e),this.transContainer=this.node.parent.getComponent(e),this.transContainerSize=a(this.transContainer.width,this.transContainer.height)},r.update=function(t){if(this.transContainer.width!=this.transContainerSize.width||this.transContainer.height!=this.transContainerSize.height){this.transContainerSize=a(this.transContainer.width,this.transContainer.height),s("AppGrid.update(), new grid container size:",Math.floor(this.transContainerSize.width),Math.floor(this.transContainerSize.height));var n=Math.floor(Math.min(this.transContainerSize.width,this.transContainerSize.height));this.trans.width=this.trans.height=n,s("new grid size:",Math.floor(this.trans.width),Math.floor(this.trans.height));var i=this.getComponent(o);i&&i.constraintNum&&(i.cellSize=a(n/i.constraintNum,n/i.constraintNum))}},i}(h))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/AppHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppData.ts","./Config.ts","./App.ts","./AppHotUpdate.ts"],(function(t){var n,e,o,a,r,s,i,p,l,c,u,f,d,C,g,v,h;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.log,r=t.js,s=t.error,i=t.v3,p=t.tween,l=t.UIOpacity,c=t.instantiate,u=t.find,f=t.Component},function(t){d=t.gAppData},function(t){C=t.Config},function(t){g=t.gAppHotUpdate,v=t.gAppUI},function(t){h=t.AppHotUpdate}],execute:function(){e._RF.push({},"3b8ffWEH7ZA0oqNs4C+Aa2k","AppHelper",void 0);o.ccclass,o.property,t("AppHelper",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.start=function(){var t=this;window.addEventListener("storage",(function(t){C.testing||localStorage.setItem(t.key,t.oldValue)})),g.node.on(h.EVT_NEW_VERSION_FOUND,(function(){a(r.getClassName(t)+",on:EVT_NEW_VERSION_FOUND"),g.updateNow()}),this),this.scheduleOnce((function(){g.checkUpdate()}),1)},o.showPanel=function(t){var n=t.node.getChildByName("Panel");n?(n.setScale(i(0,0,1)),p(n).to(.1,{scale:i(1,1,1)}).start()):s(r.getClassName(t)+".Can't find Panel node.")},o.closePanel=function(t,n){v.antiDoubleClicks();var e=t.node.getChildByName("Panel");if(e){var o=e.getComponent(l);o&&p(o).to(.1,{opacity:0}).start(),p(e).to(.2,{scale:i(0,0,1)}).call((function(){n&&n(),t.node.destroy()})).start()}else s(r.getClassName(t)+".Can't find Panel node.")},o.instantiateComponent=function(t,n){a("AppHelper.instantiateComponent()");var e=r.getClassName(n);a("getClassName(classConstructor):",e);var o=c(t);if(!o)return s("instantiate error! "+e),null;var i=o.getComponent(n);return i||(s("getComponent("+e+") error!"),null)},o.showComponentPrefab=function(t,n,e,o){var a=this.instantiateComponent(t,n);e&&e(a),a.node.parent=o||u("Canvas")},o.isChannelApproved=function(){if(d.launchCount>=10&&d.appDuration>=10800)return!0;var t=parseFloat(C.channel_approved_version)>=parseFloat(C.channel_version);return t||a("approved:",t),t},o.isVersionRated=function(){return d.ratedVersion==C.channel_version},e}(f));e._RF.pop()}}}));

System.register("chunks:///_virtual/AppHotUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,s,n,i,r,c,o;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,s=e._decorator,n=e.log,i=e.js,r=e.sys,c=e.native,o=e.Component}],execute:function(){var l,_;a._RF.push({},"4f9a9uH7btNhpp1oWom3Yug","AppHotUpdate",void 0);var E=s.ccclass,d=(s.property,"project.manifest"),u="hotupdate_assets";e("AppHotUpdate",E("AppHotUpdate")(((_=function(e){function a(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this)._assetsManager=null,t._checking=!1,t._updateCallbackCalled=!1,t.newVersionFound=!1,t._updating=!1,t._checkUpdateCallbackCalled=!1,t.newVersionDownloaded=!1,t._retryCount=0,t}t(a,e);var s=a.prototype;return s.start=function(){n(i.getClassName(this)+".start()"),this.initHotUpdate()},s.initHotUpdate=function(){if(r.isNative){n(i.getClassName(this)+".initHotUpdate()");var e=c.fileUtils.getWritablePath();console.log("WritablePath:",JSON.stringify(e));var t=e+u+"/"+d,a=c.fileUtils.isFileExist(t)?t:d;this._assetsManager=new c.AssetsManager(a,e+"/hotupdate_storage"),this._assetsManager.setVerifyCallback((function(e,t){var a=t.compressed,s=t.md5,i=t.path;t.size;return a?(n("Verification passed : "+i),!0):(n("Verification passed : "+i+" ("+s+")"),!0)})),this.scheduleOnce((function(){}),1)}},s.getLocalVersion=function(){return this._assetsManager.getLocalManifest().getVersion()},s.getRemoteVersion=function(){return this._assetsManager.getRemoteManifest().getVersion()},s.getProgress=function(){var e=this._assetsManager.getTotalBytes(),t=this._assetsManager.getDownloadedBytes();return e>0?t/e:0},s.clearAssetsDir=function(){var e=c.fileUtils.getWritablePath();c.fileUtils.removeDirectory(e+"/"+u)},s.funcCheckCb=function(e){var t=this;n("AppHotUpdate.funcCheckCb().Code: "+e.getEventCode());var s,i,r,o=e.getEventCode();switch(o){case c.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case c.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case c.EventAssetsManager.ERROR_PARSE_MANIFEST:n("Error code:"+o);break;case c.EventAssetsManager.ALREADY_UP_TO_DATE:n("Already up to date with the latest remote version."),t.node.emit(a.EVT_ALREADY_UP_TO_DATE);break;case c.EventAssetsManager.NEW_VERSION_FOUND:n("New version found, please try to update. ("+Math.ceil(this._assetsManager.getTotalBytes()/1024)+"kb)");var l=t._assetsManager.getLocalManifest(),_=t._assetsManager.getRemoteManifest(),E=l.getVersion(),d=_.getVersion();n("localVersion:"+E+",remoteVersion:"+d);var u=(s=d,i=E.match(/[0-9]+[\s\S][0-9]+/),r=s.match(/[0-9]+[\s\S][0-9]+/),i.toString()==r.toString());n("versionMatchable:"+u),u&&(t.newVersionFound=!0,t.scheduleOnce((function(){t.node.emit(a.EVT_NEW_VERSION_FOUND)}),.1));break;default:return}t._assetsManager.setEventCallback(null),t._checking=!1,this._checkUpdateCallbackCalled=!0},s.checkUpdate=function(){var e=this;r.isNative&&(n("AppHotUpdate.checkUpdate()"),this._checking?n("Already checking or updating ..."):(this.newVersionFound=!1,this._checkUpdateCallbackCalled=!1,this._checking=!0,this._assetsManager.setEventCallback((function(t){e.funcCheckCb(t)})),this._assetsManager.checkUpdate(),this.scheduleOnce((function(){e._checkUpdateCallbackCalled||(e._checking=!1)}),30)))},s.funcUpdateCb=function(e){var t=this,s=this,i=e.getEventCode();switch(i){case c.EventAssetsManager.UPDATE_PROGRESSION:break;case c.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:case c.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case c.EventAssetsManager.ERROR_PARSE_MANIFEST:case c.EventAssetsManager.ERROR_UPDATING:case c.EventAssetsManager.ERROR_DECOMPRESS:n("error code:"+i+", message:"+e.getMessage());break;default:n("default:code:"+i)}switch(i){case c.EventAssetsManager.ALREADY_UP_TO_DATE:case c.EventAssetsManager.UPDATE_FAILED:case c.EventAssetsManager.UPDATE_FINISHED:i==c.EventAssetsManager.UPDATE_FAILED?(n("code == native.EventAssetsManager.UPDATE_FAILED"),s._retryCount<3&&(s._retryCount++,s.scheduleOnce((function(){s.updateNow()}),1))):i==c.EventAssetsManager.UPDATE_FINISHED&&(n("code == native.EventAssetsManager.UPDATE_FINISHED"),s.newVersionDownloaded=!0,s.scheduleOnce((function(){t.node.emit(a.EVT_NEED_RESTART)}),.1)),s._updating=!1,s._assetsManager.setEventCallback(null)}this._updateCallbackCalled=!0},s.updateNow=function(){var e=this;r.isNative&&(n("AppHotUpdate.updateNow()"),this.newVersionFound?this._updating?n("Already checking or updating ..."):(this._updateCallbackCalled=!1,this._updating=!0,this._assetsManager.setEventCallback((function(t){e.funcUpdateCb(t)})),this._assetsManager.update(),this.scheduleOnce((function(){e._updateCallbackCalled||(e._updating=!1)}),30)):n("this.newVersionFound:"+this.newVersionFound))},a}(o)).EVT_ALREADY_UP_TO_DATE="EVT_ALREADY_UP_TO_DATE",_.EVT_NEW_VERSION_FOUND="EVT_NEW_VERSION_FOUND",_.EVT_NEED_RESTART="EVT_NEED_RESTART",l=_))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/AppHotUpdateTestUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppHotUpdate.ts"],(function(e){var t,n,o,i,r,a,l,s,u,c,p,f,b,d,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Button,s=e.Node,u=e.Label,c=e.log,p=e.js,f=e.game,b=e.Component},function(e){d=e.gAppHotUpdate,h=e.gAppHelper},function(e){g=e.AppHotUpdate}],execute:function(){var V,I,_,A,U,E,T,R,m,w,y,C,D,N,v,z,H;r._RF.push({},"d8cc3BrAmBMi4fYPNAFr5/g","AppHotUpdateTestUI",void 0);var L=a.ccclass,k=a.property;e("AppHotUpdateTestUI",(V=L("AppHotUpdateTestUI"),I=k(l),_=k(l),A=k(s),U=k(u),E=k(s),T=k(u),R=k(u),V((y=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"buttonUpdate",y,i(t)),o(t,"buttonRelaunch",C,i(t)),o(t,"currentVersionInfo",D,i(t)),o(t,"labelCurrentVersion",N,i(t)),o(t,"latestVersionInfo",v,i(t)),o(t,"labelLatestVersion",z,i(t)),o(t,"labelInfos",H,i(t)),t}n(t,e);var r=t.prototype;return r.start=function(){var e=this;this.buttonUpdate.interactable=!1,this.buttonRelaunch.interactable=!1,this.currentVersionInfo.active=!1,this.latestVersionInfo.active=!1,d.node.on(g.EVT_ALREADY_UP_TO_DATE,(function(){c(p.getClassName(e)+",on:EVT_ALREADY_UP_TO_DATE"),e.updateInfos()}),this),d.node.on(g.EVT_NEW_VERSION_FOUND,(function(){c(p.getClassName(e)+",on:EVT_NEW_VERSION_FOUND"),e.updateInfos(),e.buttonUpdate.interactable=!0}),this),d.node.on(g.EVT_NEED_RESTART,(function(){c(p.getClassName(e)+",on:EVT_NEED_RESTART"),e.buttonRelaunch.interactable=!0}),this),h.showPanel(this)},r.updateInfos=function(){this.currentVersionInfo.active=!0,this.latestVersionInfo.active=!0,this.labelCurrentVersion.string=d.getLocalVersion(),this.labelLatestVersion.string=d.getRemoteVersion(),this.labelInfos.string="progress:"+100*d.getProgress()+"%",this.labelInfos.string+=", newVersionFound:"+d.newVersionFound,this.labelInfos.string+=", Downloaded:"+d.newVersionDownloaded},r.onCheckClick=function(){d.checkUpdate()},r.onUpdateClick=function(){d.updateNow()},r.onRelaunchClick=function(){f.restart()},r.onClearCachesClick=function(){d.clearAssetsDir()},r.onOKClick=function(){h.closePanel(this)},t}(b)).prototype,"buttonUpdate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"buttonRelaunch",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"currentVersionInfo",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(w.prototype,"labelCurrentVersion",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"latestVersionInfo",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"labelLatestVersion",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(w.prototype,"labelInfos",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Common.ts"],(function(t){var e,i,n,r,a,o,s,u,h,l,g,p,c,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.UITransform,u=t.rect,h=t.director,l=t.log,g=t.js,p=t.view,c=t.Component},function(t){d=t.gAppLayoutHelper},function(t){f=t.EVT}],execute:function(){var b,y,w,m,H,M,L,z,A,C,V,v,R,_,I,F,T,E,S,x,B,D,P;a._RF.push({},"11b662hPcpOyKHeC4MDoGPp","AppLayout",void 0);var W=o.ccclass,G=o.property;t("AppLayout",(b=W("AppLayout"),y=G(s),w=G(s),m=G(s),H=G(s),M=G(s),L=G(s),z=G(s),A=G(s),C=G(s),V=G(s),b((_=e((R=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"transHeader",_,r(e)),n(e,"transVCenter",I,r(e)),n(e,"transFooter",F,r(e)),n(e,"transLeft",T,r(e)),n(e,"transContent",E,r(e)),n(e,"transRight",S,r(e)),n(e,"transMarginTop",x,r(e)),n(e,"transMarginLeft",B,r(e)),n(e,"transMarginRight",D,r(e)),n(e,"transMarginBottom",P,r(e)),e.designH=960,e.designW=640,e.designContentW=640,e.designContentH=640,e.designHeaderH=220,e.designFooterH=100,e.designHeaderMinH=20,e.designFooterMinH=20,e._rectView=u(0,0,0,0),e}i(e,t);var a=e.prototype;return a.onLoad=function(){d.marginTop=this.designHeaderMinH,d.marginBottom=this.designFooterMinH},a.start=function(){var t=this;h.on(f.VIEW_SIZE_CHANGE,(function(e,i){l(g.getClassName(t)+"."+f.VIEW_SIZE_CHANGE),t.updateLayout()}),this)},a.updateLayout=function(){this.updateLayoutItems(d.canvasSize,d.safeArea),this.updateSafeArea(d.canvasSize,d.safeArea)},a.updateSafeArea=function(t,e){var i=e.x,n=e.y,r=Math.floor(t.width-(e.origin.x+e.width)),a=Math.floor(t.height-(e.origin.y+e.height));this.transMarginTop&&(this.transMarginTop.height=n),this.transMarginLeft&&(this.transMarginLeft.width=i),this.transMarginRight&&(this.transMarginRight.width=r),this.transMarginBottom&&(this.transMarginBottom.height=a)},a.updateLayoutItems=function(t,e){l("AppLayout.updateLayoutItems()"),d.shouldLandscape()?this.transHeader.height=this.designHeaderMinH:this.transHeader.height=this.designHeaderH+Math.max(0,e.height-this.designH)/2,l("transHeader.height:"+this.transHeader.height),this.transFooter.height=Math.max(0,e.height-this.transHeader.height-this.transContent.height),this.transLeft.width=this.transRight.width=Math.max(0,(e.width-this.transContent.width)/2)},a.update=function(t){this._rectView.width==p.getViewportRect().width&&this._rectView.height==p.getViewportRect().height||(this._rectView=u(p.getViewportRect()),d.updateView())},e}(c)).prototype,"transHeader",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(R.prototype,"transVCenter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(R.prototype,"transFooter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(R.prototype,"transLeft",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(R.prototype,"transContent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(R.prototype,"transRight",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(R.prototype,"transMarginTop",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(R.prototype,"transMarginLeft",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(R.prototype,"transMarginRight",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(R.prototype,"transMarginBottom",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=R))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayoutAdaptor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Common.ts","./AppSetterForEditor.ts"],(function(t){var e,a,r,n,i,o,p,s,u,c,l,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,p=t.Node,s=t.log,u=t.js,c=t.director,l=t.Component},function(t){d=t.gAppLayoutHelper},function(t){h=t.EVT},null],execute:function(){var y,f,v,A,g,L,m,P;i._RF.push({},"3b8485v56JCuqDtO1v6rvHR","AppLayoutAdaptor",void 0);var C=o.ccclass,E=o.property,b=o.executeInEditMode;t("AppLayoutAdaptor",(y=C("AppLayoutAdaptor"),f=b(!0),v=E(p),A=E(p),y(g=f((m=e((L=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"landscapeParent",m,n(e)),r(e,"portraitParent",P,n(e)),e}a(e,t);var i=e.prototype;return i.start=function(){var t=this;s(u.getClassName(this)+".start"),this.updateLayout(),c.on(h.VIEW_SIZE_CHANGE,(function(e){s(u.getClassName(t)+".VIEW_SIZE_CHANGE"),t.updateLayout()}),this)},i.updateLayout=function(){if(s(u.getClassName(this)+".updateLayout"),this.landscapeParent&&this.portraitParent){var t=d.isLandscape?this.landscapeParent:this.portraitParent;if(this.node.parent!=t){var e=t.getChildByName(this.node.name);e&&(e.active=!1),this.node.parent=t}}},e}(l)).prototype,"landscapeParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"portraitParent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=L))||g)||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppLayoutHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts"],(function(t){var e,i,a,r,n,s,o,c,h,g,p,u,l,w,d;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){a=t.cclegacy,r=t._decorator,n=t.Enum,s=t.size,o=t.rect,c=t.view,h=t.sys,g=t.log,p=t.js,u=t.ResolutionPolicy,l=t.director,w=t.Component},function(t){d=t.EVT}],execute:function(){var f,S;a._RF.push({},"9e6c7g4u6ZBsJj1I0qzVmRP","AppLayoutHelper",void 0);var v=r.ccclass,_=(r.property,t("AppLayoutHelperOrientation",function(t){return t[t.Unknown=0]="Unknown",t[t.Portrait=1]="Portrait",t[t.Landscape=2]="Landscape",t}({})));n(_);var A=640,E=960;t("AppLayoutHelper",v("AppLayoutHelper")(((S=function(t){function a(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).landscapeRatio=1.6,e.canvasSize=s(A,E),e.safeArea=o(0,0,A,E),e.marginTop=20,e.marginBottom=20,e.designOrientation=_.Portrait,e.orientation=_.Unknown,e._rectView=o(0,0,0,0),e}e(a,t);var r=a.prototype;return r.shouldLandscape=function(){var t=c.getViewportRect();return t.width/t.height>=this.landscapeRatio},r.getSafeArea=function(){var t=o(),e=c.getScaleX(),i=c.getScaleY(),a=s(this._rectView.width/e,this._rectView.height/i);if(h.isNative){var r=h.getSafeAreaRect();t=a.width>a.height?o(r.x,0,r.width,a.height):r}else t=o(10/e,10/i,a.width-20/e,a.height-20/i);return t},r.updateView=function(){this._rectView=o(c.getViewportRect()),g(p.getClassName(this)+".updateView(), new viewPortRect:",this._rectView.toString());var t=s(this._rectView.width/c.getScaleX(),this._rectView.height/c.getScaleY()),e=this.getSafeArea();g("szCanvas size:"+t.toString()+",safeArea size:"+e.toString());var i=t.height-e.height,r=t.width/t.height>A/E,n=r&&this.shouldLandscape(),h=n?E:A,w=n?A:E;w+=n?this.marginTop+this.marginBottom:0,w=i>0?w/(1-i/t.height):w;var d=r?u.FIXED_HEIGHT:u.FIXED_WIDTH;c.setDesignResolutionSize(h,w,d),g("view.setDesignResolutionSize(dw:"+h+",dh:"+w+", "+(d==u.FIXED_HEIGHT?"FIXED_HEIGHT":"FIXED_WIDTH")+")"),this.orientation=n?_.Landscape:_.Portrait,this.canvasSize=s(this._rectView.width/c.getScaleX(),this._rectView.height/c.getScaleY()),this.safeArea=this.getSafeArea(),g("szCanvasNew size:"+this.canvasSize.toString()+",safeArea size:"+this.safeArea.toString()),l.emit(a.EVT_SIZE_CHANGE,this,this.canvasSize,this.safeArea)},r.update=function(t){},i(a,[{key:"isLandscape",get:function(){return this.orientation==_.Landscape}},{key:"isPortrait",get:function(){return this.orientation==_.Portrait}}]),a}(w)).EVT_SIZE_CHANGE=d.VIEW_SIZE_CHANGE,f=S))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/AppLuckyButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppUser.ts","./AppLuckyUI.ts"],(function(t){var n,e,i,o,a,r,c,u,l,p,s,y,f,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Node,u=t.tween,l=t.v3,p=t.Component},function(t){s=t.gAppUI,y=t.gAppHelper},function(t){f=t.gUserData},function(t){h=t.AppLuckyUI}],execute:function(){var d,v,A,b,g,w;a._RF.push({},"ae30fUL4dhBHZaicoPAjioj","AppLuckyButton",void 0);var L=r.ccclass,k=r.property;t("AppLuckyButton",(d=L("AppLuckyButton"),v=k(c),d((g=n((b=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"icon",g,o(n)),i(n,"alwaysValid",w,o(n)),n.twAvailable=null,n}e(n,t);var a=n.prototype;return a.onload=function(){},a.start=function(){var t=this;this.twAvailable=u(this.icon).delay(1).by(.3,{position:l(0,20,0)},{easing:"bounceInOut"}).by(.3,{position:l(0,-20,0)},{easing:"bounceOut"}).by(2,{angle:360}).delay(1).union().repeatForever(),this.updateIcon(),this.schedule((function(){t.updateIcon()}),5,100)},a.onButtonClick=function(){s.showLuckyCompass()},a.updateIcon=function(){(this.node.active=y.isChannelApproved()&&f.coin<200,this.node.active)&&(h.isLuckyBonusAvailable()?this.twAvailable.start():(this.twAvailable.stop(),this.alwaysValid))},n}(p)).prototype,"icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(b.prototype,"alwaysValid",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=b))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/AppLuckyUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppUser.ts","./App.ts","./Config.ts"],(function(n){var t,i,e,o,l,r,s,a,u,c,h,b,p,g,d,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){l=n.cclegacy,r=n._decorator,s=n.Label,a=n.Node,u=n.Button,c=n.sys,h=n.math,b=n.tween,p=n.Component},function(n){g=n.gUserData},function(n){d=n.gAppHelper},function(n){f=n.Config}],execute:function(){var R,v,m,y,T,k,B,I,w,A,D;l._RF.push({},"32b10gh3vBLlYKeccgcou1q","AppLuckyUI",void 0);var L=r.ccclass,_=r.property;n("AppLuckyUI",(R=L("AppLuckyUI"),v=_(s),m=_(a),y=_(u),T=_(u),R((I=t((B=function(n){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=n.call.apply(n,[this].concat(l))||this,e(t,"labelTimer",I,o(t)),e(t,"nodeBoard",w,o(t)),e(t,"buttonRoll",A,o(t)),e(t,"buttonRollDisabled",D,o(t)),t.isRolling=!1,t.bonusTime=0,t.bonusInterval=1800,t.cbRollFinished=null,t}i(t,n);var l=t.prototype;return l.setParams=function(n){this.cbRollFinished=n},l.start=function(){this.bonusTime=g.luckyBonusTime,this.bonusInterval=f.testing?10:f.lucky_bonus_interval,this.updateTimer(),this.schedule(this.updateTimer,1),d.showPanel(this)},l.prefixInteger=function(n,t){return(Array(t).join("0")+n).slice(-t)},l.updateTimer=function(){if(!this.isRolling){var n=(c.now()-this.bonusTime)/1e3,t=this.bonusInterval;if(n<t){var i=t-n,e=Math.floor(i/60),o=Math.floor(i%60),l=this.prefixInteger(e,2)+":"+this.prefixInteger(o,2);this.labelTimer.string=l,this.buttonRoll.node.active=!1,this.buttonRollDisabled.node.active=!0}else this.labelTimer.string="",this.buttonRollDisabled.node.active=!1,this.buttonRoll.node.active=!0}},l.onCloseClick=function(){d.closePanel(this)},l.onRollClick=function(){var n=this;if(!this.isRolling){var t=h.randomRange(5,8),i=2*(360+1440*Math.random());t+=i/360;var e=i;console.log("fRotation:"+e),this.nodeBoard.angle=0,b(this.nodeBoard).by(t,{angle:e},{easing:"backInOut"}).call((function(){n.onRollingStopped()})).start(),this.buttonRoll.node.active=!1,this.buttonRollDisabled.node.active=!0,this.isRolling=!0}},l.onRollingStopped=function(){this.isRolling=!1;var n=this.getRollingResult();this.bonusTime=c.now(),g.luckyBonusTime=this.bonusTime,console.log("bonus:"+n),this.cbRollFinished&&this.cbRollFinished(n)},l.getRollingResult=function(){var n=this.nodeBoard.angle%360,t=Math.floor(n/30);console.log("fRotation:"+this.nodeBoard.angle),console.log("iMod: "+n),console.log("iNum: "+t);var i=1;return 0==t||6==t?i=1:1==t||7==t?i=2:2==t?i=10:8==t?i=3:3==t||9==t?i=4:4==t||10==t?i=5:5!=t&&11!=t||(i=6),console.log("iBonus: "+i),i},t.isLuckyBonusAvailable=function(){return(c.now()-g.luckyBonusTime)/1e3>=(f.testing?10:f.lucky_bonus_interval)},t}(p)).prototype,"labelTimer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(B.prototype,"nodeBoard",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(B.prototype,"buttonRoll",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(B.prototype,"buttonRollDisabled",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=B))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/AppMessageBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var n,t,l,i,r,o,a,s,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Label,s=e.Component},function(e){c=e.gAppHelper}],execute:function(){var u,p,f,b,h,g,C,y,v;r._RF.push({},"e75d9MGQRJFvJgXJdkOCELD","AppMessageBoxUI",void 0);var O=o.ccclass,K=o.property;e("AppMessageBoxUI",(u=O("AppMessageBoxUI"),p=K(a),f=K(a),b=K(a),u((C=n((g=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,l(n,"labelTitle",C,i(n)),l(n,"labelContent",y,i(n)),l(n,"labelOK",v,i(n)),n.funcOK=null,n.funcClose=null,n}t(n,e);var r=n.prototype;return r.setParams=function(e,n,t,l,i){this.labelTitle.string=e,this.labelContent.string=n,l&&l.length&&(this.labelOK.string=l),this.funcOK=t,this.funcClose=i},r.start=function(){c.showPanel(this)},r.onOKClick=function(){var e=this;c.closePanel(this,(function(){e.funcOK&&e.funcOK()}))},r.onCloseClick=function(){var e=this;c.closePanel(this,(function(){e.funcClose&&e.funcClose()}))},n}(s)).prototype,"labelTitle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(g.prototype,"labelContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(g.prototype,"labelOK",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppNative.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./AppPlatformWeb.ts"],(function(t){var n,e,i,r,o,s,a,c,u,l,d,A,_;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,r=t._decorator,o=t.log,s=t.js,a=t.warn,c=t.sys,u=t.native,l=t.Component},function(t){d=t.Utils},function(t){A=t.AppPlatformWeb,_=t.gAppPlatformWeb}],execute:function(){i._RF.push({},"72e77oKpuFJiYIw+l9mMk4u","AppNative",void 0);var R=t("AppNativeF",function(t){return t.isInterstitialAdReady="",t.requestInterstitialAd="",t.showInterstitialAd="",t.isRewardedAdReady="",t.requestRewardedAd="",t.showRewardedAd="",t.isRewardedInterstitialAdReady="",t.requestRewardedInterstitialAd="",t.showRewardedInterstitialAd="",t.setBannerAdMaxHeight="",t.showBannerAd="",t.hideBannerAd="",t.showInAppRating="",t.openAppStoreReview="",t.purchaseProduct="",t.restorePurchase="",t.reportScore="",t.reportMagics="",t.showRank="",t.showShareMenu="",t.getDeviceModel="",t.getSystemVersion="",t.canOpenURL="",t.setupConfigs="",t.loadModule="",t.getInfos="",t}({}));d.enumSetKeysAsValues(R);var S=R;r.ccclass,r.property;t("AppNative",function(t){function i(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).MSG_SHARE_COMPLETE="MSG_SHARE_COMPLETE",n.MSG_SYS_SHARE_COMPLETE="MSG_SYS_SHARE_COMPLETE",n.MSG_IAP_PURCHASE_BEGIN="MSG_IAP_PURCHASE_BEGIN",n.MSG_IAP_PURCHASE_FINISHED="MSG_IAP_PURCHASE_FINISHED",n.MSG_IAP_PURCHASE_RESTORED="MSG_IAP_PURCHASE_RESTORED",n.MSG_IAP_PURCHASE_FAILED="MSG_IAP_PURCHASE_FAILED",n.MSG_BANNER_AD_CLOSE_CLICKED="MSG_BANNER_AD_CLOSE_CLICKED",n.MSG_INTERSTITIAL_AD_READY="MSG_INTERSTITIAL_AD_READY",n.MSG_REWARDED_AD_READY="MSG_REWARDED_AD_READY",n.MSG_REWARDED_AD_BONUS="MSG_REWARDED_AD_BONUS",n.MSG_REWARDED_INSTERSTITIAL_AD_READY="MSG_REWARDED_INSTERSTITIAL_AD_READY",n.MSG_REWARDED_INSTERSTITIAL_AD_BONUS="MSG_REWARDED_INSTERSTITIAL_AD_BONUS",n._infos=null,n}n(i,t);var r=i.prototype;return r.onLoad=function(){var t=this;if(o(s.getClassName(this)+" onLoad()"),i._instance)return a(s.getClassName(this)+"} instance already existed!"),void(this.node.active=!1);i._instance=this,window.gNative=this,c.isNative&&(u.bridge.onNative=function(n,e){t.notify(n,e)}),c.isBrowser&&this.node.addComponent(A)},r.callFunction=function(t,n){console.log("AppNative::callFunction():"+t+" param:"+n);var e="";return n=n||"",c.isNative?c.os===c.OS.ANDROID?u.bridge.sendToNative(t,n):c.os!==c.OS.IOS&&c.os!==c.OS.OSX||(e=u.reflection.callStaticMethod("NativeHelper",t+":",n)):c.platform==c.Platform.WECHAT_GAME||c.isBrowser&&(e=_.onCallFunction(t,n)),console.log("AppNative::callFunction() typeof(result):"+typeof e),console.log("AppNative::callFunction() return:"+e),e},r.notify=function(t,n){console.log("AppNative::notify():"+t+" param:"+n),this.node.emit(t,n)},r.showBannerAd=function(){return this.callFunction(S.showBannerAd)},r.hideBannerAd=function(){return this.callFunction(S.hideBannerAd)},r.isInterstitialAdReady=function(){return"1"==this.callFunction(S.isInterstitialAdReady)},r.requestInterstitialAd=function(){return this.callFunction(S.requestInterstitialAd)},r.showInterstitialAd=function(){return this.callFunction(S.showInterstitialAd)},r.isRewardedAdReady=function(){return"1"==this.callFunction(S.isRewardedAdReady)},r.requestRewardedAd=function(){return this.callFunction(S.requestRewardedAd)},r.showRewardedAd=function(){return this.callFunction(S.showRewardedAd)},r.isRewardedInterstitialAdReady=function(){return"1"==this.callFunction(S.isRewardedInterstitialAdReady)},r.requestRewardedInterstitialAd=function(){return this.callFunction(S.requestRewardedInterstitialAd)},r.showRewardedInterstitialAd=function(){return this.callFunction(S.showRewardedInterstitialAd)},r.showInAppRating=function(){return this.callFunction(S.showInAppRating)},r.openAppStoreReview=function(){return this.callFunction(S.openAppStoreReview)},r.purchaseProduct=function(t){return this.callFunction(S.purchaseProduct,t)},r.restorePurchase=function(){return this.callFunction(S.restorePurchase)},r.showShareMenu=function(t,n){return this.callFunction(S.showShareMenu,JSON.stringify({content:t,url:n}))},r.getDeviceModel=function(){return this.callFunction(S.getDeviceModel)},r.getSystemVersion=function(){return this.callFunction(S.getSystemVersion)},r.reportScore=function(t){return this.callFunction(S.reportScore,t.toString())},r.reportMagics=function(t){return this.callFunction(S.reportMagics,t.toString())},r.showRank=function(){return this.callFunction(S.showRank)},r.canOpenURL=function(t){return"1"==this.callFunction(S.canOpenURL,t)},r.getInfos=function(){if(!this._infos){var t=this.callFunction(S.getInfos);t&&t.length>0&&(this._infos=JSON.parse(t))}return this._infos},r.setupConfigs=function(t){return this.callFunction(S.setupConfigs,t)},r.loadModule=function(t){return this.callFunction(S.loadModule,t)},e(i,null,[{key:"instance",get:function(){return i._instance}}]),i}(l))._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/AppPlatformWeb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppNative.ts","./ad_event.ts","./h5_games_ads.ts","./interstitial_type.ts"],(function(e){var t,d,o,i,n,r,a,s,A,l,c,R;return{setters:[function(e){t=e.inheritsLoose},function(e){d=e.cclegacy,o=e._decorator,i=e.game,n=e.Component},function(e){r=e.AppNativeF},function(e){a=e.InterstitialAdEvent,s=e.RewardedVideoAdEvent},function(e){A=e.showRewardedAd,l=e.requestRewardedAd,c=e.showInterstitialAd},function(e){R=e.InterstitialType}],execute:function(){var f;d._RF.push({},"9c3adxZeFJHs5+q9eECwyeE","AppPlatformWeb",void 0);var w=o.ccclass;o.property,e("AppPlatformWeb",w("AppPlatformWeb")(f=function(d){function o(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=d.call.apply(d,[this].concat(o))||this)._isInterstitalAdReady=!1,e._isRewardedVideoAdReady=!1,e}t(o,d);var n=o.prototype;return n.onLoad=function(){e("gAppPlatformWeb",this)},n.start=function(){i.on(a.BEFORE_AD,this.onInterstitialBeforeAd,this),i.on(a.AFTER_AD,this.onInterstitialAfterAd,this),i.on(a.AD_BREAK_DONE,this.onInterstitialAdBreakDone,this),i.on(s.BEFORE_AD,this.onRewardedVideoBeforeAd,this),i.on(s.AFTER_AD,this.onRewardedVideoAfterAd,this),i.on(s.AD_BREAK_DONE,this.onRewardedVideoAdBreakDone,this),i.on(s.BEFORE_REWARD,this.onRewardedVideoBeforeReward,this),i.on(s.AD_VIEWED,this.onRewardedVideoAdViewed,this),i.on(s.AD_DISMISSED,this.onRewardedVideoAdDismissed,this)},n.onCallFunction=function(e,t){console.log("AppPlatformWeb::callFunction():"+e+" param:"+t);var d="";switch(t=t||"",e){case r.showInterstitialAd:c(R.NEXT,"placement_name");break;case r.isInterstitialAdReady:d=this.isInterstitalAdReady();break;case r.requestRewardedAd:l("get_free_coins");break;case r.isRewardedAdReady:d=this.isRewardedVideoAdReady();break;case r.showRewardedAd:A()}return d},n.isInterstitalAdReady=function(){return"1"},n.isRewardedVideoAdReady=function(){return this._isRewardedVideoAdReady?"1":""},n.onInterstitialBeforeAd=function(){console.log("H5GA Interstitial Before Ad"),this._isInterstitalAdReady=!1},n.onInterstitialAfterAd=function(){console.log("H5GA Interstitial After Ad"),this._isInterstitalAdReady=!1},n.onInterstitialAdBreakDone=function(){console.log("H5GA Interstitial Ad Break Done"),this._isInterstitalAdReady=!0},n.onRewardedVideoBeforeAd=function(){console.log("H5GA Rewarded Video Before Ad"),this._isRewardedVideoAdReady=!1},n.onRewardedVideoAfterAd=function(){console.log("H5GA Rewarded Video After Ad")},n.onRewardedVideoAdBreakDone=function(){console.log("H5GA Rewarded Video Ad Break Done"),this._isRewardedVideoAdReady=!0},n.onRewardedVideoBeforeReward=function(){console.log("H5GA Rewarded Video Before Reward"),this._isRewardedVideoAdReady=!1},n.onRewardedVideoAdViewed=function(){console.log("H5GA Rewarded Video Ad Viewed")},n.onRewardedVideoAdDismissed=function(){console.log("H5GA Rewarded Video Ad Dismissed")},o}(n))||f),e("gAppPlatformWeb",null);d._RF.pop()}}}));

System.register("chunks:///_virtual/AppPrivacyDialogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var n,c,o,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){c=t.cclegacy,o=t._decorator,i=t.Component},function(t){r=t.gAppHelper}],execute:function(){var e;c._RF.push({},"26e17MkgrFDdId2dZlUDugY","AppPrivacyDialogUI",void 0);var s=o.ccclass;o.property,t("AppPrivacyDialogUI",s("AppPrivacyDialogUI")(e=function(t){function c(){for(var n,c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).funcOK=null,n}n(c,t);var o=c.prototype;return o.start=function(){this.show()},o.show=function(){r.showPanel(this)},o.close=function(){r.closePanel(this)},o.onAcceptClick=function(){this.funcOK&&this.funcOK(),this.close()},c}(i))||e);c._RF.pop()}}}));

System.register("chunks:///_virtual/AppPrivacyPolicy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var i,r,e,o,n,c,l,a,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,l=t.TextAsset,a=t.Component},function(t){s=t.gAppUI}],execute:function(){var p,u,y,P,f,v,x;n._RF.push({},"8d1287GlERPIo30TYtiKAKt","AppPrivacyPolicy",void 0);var d=c.ccclass,h=c.property;t("AppPrivacyPolicy",(p=d("AppPrivacyPolicy"),u=h(l),y=h(l),p((v=i((f=function(t){function i(){for(var i,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return i=t.call.apply(t,[this].concat(n))||this,e(i,"txtPrivacyPolicy",v,o(i)),e(i,"txtTermsCondition",x,o(i)),i}r(i,t);var n=i.prototype;return n.start=function(){},n.onPrivacyPolicyClick=function(){s.showTextViewer(this.txtPrivacyPolicy.text,"Privacy Policy")},n.onTermsConditionClick=function(){s.showTextViewer(this.txtTermsCondition.text,"Terms&Conditions")},i}(a)).prototype,"txtPrivacyPolicy",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(f.prototype,"txtTermsCondition",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=f))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppRatingBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppData.ts","./Config.ts"],(function(t){var e,n,i,o,r,a,c,s,l,p,u,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,s=t.Component},function(t){l=t.gAppHelper,p=t.gAppUI,u=t.gAppNative},function(t){h=t.gAppData},function(t){f=t.Config}],execute:function(){var g,d,v,A,C,R,I;r._RF.push({},"518e4YdwaJDcqexFhoGsroi","AppRatingBoxUI",void 0);var S=a.ccclass,w=a.property;t("AppRatingBoxUI",(g=S("AppRatingBoxUI"),d=w(c),v=w(c),g((R=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"coinInfo",R,o(e)),i(e,"stars",I,o(e)),e.cbOK=null,e.selectedStar=5,e}n(e,t);var r=e.prototype;return r.start=function(){this.coinInfo.active=l.isChannelApproved(),l.showPanel(this)},r.onRatingClick=function(){var t=this;l.isVersionRated()||(h.ratedVersion=f.channel_version,l.scheduleOnce((function(){p.showRewardCollect(t.selectedStar+5,(function(){}))}),10)),h.inAppRatingShowedCount++,h.inAppRatingShowedCount<4?u.showInAppRating():u.openAppStoreReview(),this.cbOK&&this.cbOK(this.selectedStar),this.onCloseClick()},r.onCloseClick=function(){l.closePanel(this)},r.onStarClick=function(t){var e=t.target;if(e&&(console.log("onStarClick(), type:",e.name),this.selectedStar=parseInt(e.name),this.selectedStar>0))for(var n=this.stars.children,i=0;i<n.length;i++){var o=n[i];if(o.children.length>0){var r=o.children[0],a=parseInt(o.name);r.active=a<=this.selectedStar}}},e}(s)).prototype,"coinInfo",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(C.prototype,"stars",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=C))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppRatingButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var n,o,e,i,p,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Component},function(t){p=t.gAppHelper,r=t.gAppUI}],execute:function(){var c;o._RF.push({},"1110cbEl9tOdaJaF8pZYr0A","AppRatingButton",void 0);var s=e.ccclass;e.property,t("AppRatingButton",s("AppRatingButton")(c=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.start=function(){p.isChannelApproved()?p.isVersionRated()&&(this.node.active=!1):this.node.active=!1},e.onClick=function(){r.showRatingBox((function(t){}))},o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppRemoteConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Utils.ts"],(function(o){var e,t,n,c,i,a;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,c=o.Component},function(o){i=o.Config},function(o){a=o.Utils}],execute:function(){var l,r;t._RF.push({},"415edTcpihJUbJRhAQEdujR","AppRemoteConfig",void 0);var s=n.ccclass,p=(n.property,"AppRemoteConfig"),d=i;o("AppRemoteConfig",s("AppRemoteConfig")(((r=function(o){function t(){for(var e,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return(e=o.call.apply(o,[this].concat(n))||this).downloaded=!1,e}e(t,o);var n=t.prototype;return n.onLoad=function(){var o=this;console.log("AppRemoteConfigCtl onLoad()"),this.loadData(),console.log("RemoteConfig:",d),this.schedule((function(){o.downloaded||o.downloadRemote()}),60,3,1)},n.start=function(){console.log("AppRemoteConfigCtl start()")},n.loadData=function(){a.loadObject(p,d)},n.saveData=function(){},n.downloadRemote=function(){var o=this,e=d.remote_config_url;a.request(e,(function(e,n){if(console.log(n),!e){var c=n;try{c=JSON.parse(n)}catch(o){console.error(n)}"good"==c.secrect_code?(console.log("AppRemoteConfig:good!"),a.saveObject(p,c),o.loadData(),o.downloaded=!0,o.node.emit(t.EVT_UPDATED)):console.log("AppRemoteConfig: no valid secrect.")}}))},t}(c)).EVT_UPDATED="EVT_UPDATED",l=r))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/AppRes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,t,n,p,l,a,o;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){p=e.cclegacy,l=e._decorator,a=e.Prefab,o=e.Component}],execute:function(){var u,c,b,A,f,s,U,g,I,y,w,z,d,m,R,D,B,T,v,L,_,h,x,M,P,E,F,V,k,S,O,C,H,W,N,j,Y,q;p._RF.push({},"4daaba2wvBNcozRYTWNz5ba","AppRes",void 0);var G=l.ccclass,J=l.property;e("AppRes",(u=G("AppRes"),c=J(a),b=J(a),A=J(a),f=J(a),s=J(a),U=J(a),g=J(a),I=J(a),y=J(a),w=J(a),z=J(a),d=J(a),m=J(a),R=J(a),D=J(a),B=J(a),T=J(a),u(((q=function(e){function r(){for(var r,i=arguments.length,p=new Array(i),l=0;l<i;l++)p[l]=arguments[l];return r=e.call.apply(e,[this].concat(p))||this,t(r,"AppAboutUsUI",_,n(r)),t(r,"AppBlockerUI",h,n(r)),t(r,"AppFadeOutUI",x,n(r)),t(r,"AppLuckyUI",M,n(r)),t(r,"AppMessageBoxUI",P,n(r)),t(r,"AppPrivacyDialogUI",E,n(r)),t(r,"AppRewardCollectUI",F,n(r)),t(r,"AppRewardMessageUI",V,n(r)),t(r,"AppSceneLoaderUI",k,n(r)),t(r,"AppStoreUI",S,n(r)),t(r,"AppTextViewerUI",O,n(r)),t(r,"AppTipsUI",C,n(r)),t(r,"AppWaitingUI",H,n(r)),t(r,"AppVideoAdMessageUI",W,n(r)),t(r,"AppRatingBoxUI",N,n(r)),t(r,"AppDebugUI",j,n(r)),t(r,"AppHotUpdateTestUI",Y,n(r)),r}return i(r,e),r.prototype.start=function(){},r}(o)).EVT_PREFAB_LOADED="EVT_PREFAB_LOADED",_=r((L=q).prototype,"AppAboutUsUI",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(L.prototype,"AppBlockerUI",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(L.prototype,"AppFadeOutUI",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=r(L.prototype,"AppLuckyUI",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(L.prototype,"AppMessageBoxUI",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(L.prototype,"AppPrivacyDialogUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(L.prototype,"AppRewardCollectUI",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=r(L.prototype,"AppRewardMessageUI",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(L.prototype,"AppSceneLoaderUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(L.prototype,"AppStoreUI",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=r(L.prototype,"AppTextViewerUI",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(L.prototype,"AppTipsUI",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=r(L.prototype,"AppWaitingUI",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=r(L.prototype,"AppVideoAdMessageUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(L.prototype,"AppRatingBoxUI",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(L.prototype,"AppDebugUI",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=r(L.prototype,"AppHotUpdateTestUI",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=L))||v));p._RF.pop()}}}));

System.register("chunks:///_virtual/AppRewardCollectUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppCoinInfo.ts","./AppUser.ts","./AppAudioSounds.ts"],(function(o){var n,t,i,e,l,c,r,a,s,u,p,d,f,h,C,g,y,b,v,w;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){l=o.cclegacy,c=o._decorator,r=o.Node,a=o.Label,s=o.v3,u=o.tween,p=o.quat,d=o.find,f=o.Component,h=o.instantiate,C=o.bezier},function(o){g=o.gAppHelper,y=o.gAppAudio},function(o){b=o.AppCoinInfo},function(o){v=o.gAppUser},function(o){w=o.SND}],execute:function(){var A,I,S,P,m,O,z,U,x;l._RF.push({},"38dbcTKQupCa7BuY0YeJSmZ","AppRewardCollectUI",void 0);var R=c.ccclass,D=c.property;o("AppRewardCollectUI",(A=R("AppRewardCollectUI"),I=D(r),S=D(r),P=D(a),A((z=n((O=function(o){function n(){for(var n,t=arguments.length,l=new Array(t),c=0;c<t;c++)l[c]=arguments[c];return n=o.call.apply(o,[this].concat(l))||this,i(n,"lighting",z,e(n)),i(n,"coinIcon",U,e(n)),i(n,"labelCount",x,e(n)),n.destroyOnClose=!1,n.onComplete=null,n.count=0,n.coinScaleOrg=s(1,1,1),n}t(n,o);var l=n.prototype;return l.setParams=function(o,n){this.destroyOnClose=!0,this.count=o,this.onComplete=n},l.onLoad=function(){this.coinScaleOrg=s(this.coinIcon.scale),this.labelCount.node.active=!1},l.start=function(){this.show()},l.show=function(){g.showPanel(this),u(this.coinIcon).set({scale:s(0,0,1)}).to(.2,{scale:this.coinScaleOrg}).start(),this.scheduleOnce(this.onGiftClick,.5)},l.close=function(){g.closePanel(this)},l.onGiftClick=function(){var o=this;u(this.lighting).by(10,{rotation:p(0,0,1,0)}).repeatForever().start(),this.coinIcon.active=!0;var n=this.collectCoins();this.scheduleOnce((function(){o.onComplete&&o.onComplete(),o.close()}),n)},l.collectCoins=function(){for(var o=this,n=s(b.coinWorldPos),t=d("Canvas"),i=.1,e=this.count,l=function(l){var c=l,r=h(o.coinIcon);r.parent=t;r.worldPosition;u(r).delay(i).call((function(){o.labelCount.node.active=!0,o.labelCount.string=(l+1).toString()})).to(.5,{scale:s(.1,.1,1)},{onUpdate:function(o,t){var i=C(r.worldPosition.x,r.worldPosition.x+20,n.x+20,n.x,t),e=C(r.worldPosition.y,r.worldPosition.y+20,n.y+20,n.y,t);r.worldPosition=s(i,e,r.worldPosition.z)}}).call((function(){c<e-1?(v.addCoin(1),y.playSound(w.AddGold)):(v.addCoin(1),y.playSound(w.BuyMagics),u(o.coinIcon).to(.1,{scale:s(1.5*o.coinScaleOrg.x,1.5*o.coinScaleOrg.y,1)}).delay(.1).to(.1,{scale:o.coinScaleOrg}).start())})).removeSelf().start(),i+=l<9?.1:.01},c=0;c<e;c++)l(c);return i+=.8},n}(f)).prototype,"lighting",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(O.prototype,"coinIcon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(O.prototype,"labelCount",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=O))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/AppRewardMessageUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppCoinInfo.ts","./AppUser.ts"],(function(e){var t,n,o,i,r,l,a,s,c,u,p,d,f,g,h,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Label,s=e.Node,c=e.Button,u=e.v3,p=e.tween,d=e.find,f=e.Component,g=e.instantiate},function(e){h=e.gAppUI},function(e){C=e.AppCoinInfo},function(e){b=e.gAppUser}],execute:function(){var w,y,v,I,R,A,m,P,U,z,O;r._RF.push({},"0be0eviaolFFJi0XuVBpoZW","AppRewardMessageUI",void 0);var B=l.ccclass,F=l.property;e("AppRewardMessageUI",(w=B("AppRewardMessageUI"),y=F(a),v=F(s),I=F(c),R=F(s),w((P=t((m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"labelRewardCount",P,i(t)),o(t,"nodeCoinIcon",U,i(t)),o(t,"buttonOK",z,i(t)),o(t,"lighting",O,i(t)),t.destroyOnClose=!1,t.funcCollected=null,t}n(t,e);var r=t.prototype;return r.setParams=function(e,t){this.destroyOnClose=!0,this.labelRewardCount.string=e.toString(),this.funcCollected=t},r.start=function(){this.show()},r.show=function(){var e=this.node.getChildByName("Panel");e.setScale(u(0,0,1)),p(e).to(.1,{scale:u(1,1,1)}).start(),p(this.lighting).by(5,{angle:-360}).union().repeatForever().start()},r.close=function(){var e=this,t=this.node.getChildByName("Panel");p(t).to(.1,{scale:u(0,0,1)}).call((function(){e.destroyOnClose?e.node.destroy():e.node.active=!1})).start()},r.onOKClick=function(){var e=parseInt(this.labelRewardCount.string);h.showRewardCollect(e,this.funcCollected),this.close()},r.onCloseClick=function(){h.antiDoubleClicks(),this.close()},r.collectCoins=function(){for(var e,t=this,n=u(C.coinWorldPos),o=d("Canvas"),i=0,r=parseInt(this.labelRewardCount.string),l=0;l<r;l++)e=void 0,(e=g(t.nodeCoinIcon)).parent=o,p(e).delay(i).call((function(){t.labelRewardCount.string=(parseInt(t.labelRewardCount.string)-1).toString()})).to(.5,{worldPosition:n,scale:u(.1,.1,1)}).call((function(){b.addCoin(1)})).removeSelf().start(),i+=.1;return i},t}(f)).prototype,"labelRewardCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(m.prototype,"nodeCoinIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(m.prototype,"buttonOK",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(m.prototype,"lighting",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=m))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppRewardUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,n,o;return{setters:[function(r){t=r.inheritsLoose},function(r){e=r.cclegacy,n=r._decorator,o=r.Component}],execute:function(){var p;e._RF.push({},"1913fVrUIxBaJIMrFKF/kWJ","AppRewardUI",void 0);var c=n.ccclass;n.property,r("AppRewardUI",c("AppRewardUI")(p=function(r){function e(){return r.apply(this,arguments)||this}t(e,r);var n=e.prototype;return n.start=function(){},n.update=function(r){},e}(o))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppSafeArea.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var a,e,n,s,i,r,o,h,c,f;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,s=t.find,i=t.UITransform,r=t.size,o=t.sys,h=t.log,c=t.Widget,f=t.Component}],execute:function(){var p;e._RF.push({},"b25e6Q+sdVC4rcOBZ5Ys+cz","AppSafeArea",void 0);var l=n.ccclass;n.property,t("AppSafeArea",l("AppSafeArea")(p=function(t){function e(){for(var a,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(a=t.call.apply(t,[this].concat(n))||this).transSelf=null,a.transCanvas=null,a.canvasSize=r(0,0),a}a(e,t);var n=e.prototype;return n.start=function(){this.transCanvas=s("Canvas").getComponent(i),this.transSelf=this.getComponent(i)},n.update=function(t){if(this.transCanvas.width!=this.canvasSize.width||this.transCanvas.height!=this.canvasSize.height){this.canvasSize=r(this.transCanvas.width,this.transCanvas.height);var a=o.getSafeAreaRect(),e=Math.floor(this.canvasSize.width-(a.origin.x+a.width)),n=Math.floor(this.canvasSize.height-(a.origin.y+a.height));h("safeArea,x,y,w,h:"+a.x+", "+a.y+", "+a.width+", "+a.height),h("safeArea(): "+a.toString(),"safeRight:"+e,"safeBottom:"+n);var s=this.getComponent(c);s.left=a.x,s.top=a.y,s.bottom=n,s.right=e}},e}(f))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppSceneLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,c,a;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.Component}],execute:function(){var p,s,u;i._RF.push({},"d1308oTurVIfKF7Vfh1eHhA","AppSceneLoader",void 0);var l=c.ccclass,f=c.property;e("AppSceneLoader",l("AppSceneLoader")((u=r((s=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,n(r,"sceneToLoad",u,o(r)),r}return t(r,e),r.prototype.start=function(){},r}(a)).prototype,"sceneToLoad",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=s))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/AppSceneLoaderUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,n,o,c,r,a,i,s,p;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,c=e.UIOpacity,r=e.tween,a=e.director,i=e.Label,s=e.Component},function(e){p=e.gAppUI}],execute:function(){var l;n._RF.push({},"caac5sBN5FBRaQDTAWvcO/t","AppSceneLoaderUI",void 0);var u=o.ccclass;o.property,e("AppSceneLoaderUI",u("AppSceneLoaderUI")(l=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).strScene="",t}return t(n,e),n.prototype.start=function(){var e,t=this,n=this.node.getComponent(c);n||console.error("compnent missing: UIOpacity"),n.opacity=0,r(n).to(.3,{opacity:255}).call((function(){a.loadScene(t.strScene,(function(e,t){p.showFadeOut()}))})).start();var o=null==(e=this.node.getChildByName("LabelLoading"))?void 0:e.getComponent(i);o&&r(o.node).hide().delay(3).show().call((function(){var e=o.string,n=0,c=[".","..","..."];t.schedule((function(){o.string=e+c[n++%c.length]}),.5,100)})).start()},n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppSetterForEditor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,i,n,o,a,c;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Component}],execute:function(){var p,s,u,l,d;o._RF.push({},"64f8ciH2c5LkIz8BBAHk9Zq","AppSetterForEditor",void 0);var f=a.ccclass,E=a.property,y=a.executeInEditMode;t("AppSetterForEditor",f("AppSetterForEditor")(p=y(!0)(((d=function(t){function r(){for(var r,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,i(r,"isPortrait",u,n(r)),i(r,"isLandscape",l,n(r)),r}e(r,t);var o=r.prototype;return o.start=function(){},o.update=function(t){},r}(c)).EVT_SETTING_CHANGE="EVT_SETTING_CHANGE",d.landscaping=!1,d.portraiting=!1,u=r((s=d).prototype,"isPortrait",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=r(s.prototype,"isLandscape",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=s))||p)||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppShareButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./PopData.ts","./Config.ts"],(function(t){var o,n,r,e,a,i,c,s,p;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,e=t.log,a=t.sys,i=t.Component},function(t){c=t.gAppNative},function(t){s=t.gPopData},function(t){p=t.Config}],execute:function(){var u;n._RF.push({},"028c1csa6xN8bru2DBisTgv","AppShareButton",void 0);var h=r.ccclass;r.property,t("AppShareButton",h("AppShareButton")(u=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var r=n.prototype;return r.start=function(){},r.onClick=function(){e("AppShareButton.onClick()");var t=p.share_url,o="My HighScore:("+s.highScore+").\n Come play with me in PopStar Game.";a.isBrowser?navigator.share&&navigator.share({title:o,url:t}).then((function(){console.log("Thanks for sharing!")})).catch(console.error):c.showShareMenu(o,t)},n}(i))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppSoundButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppData.ts"],(function(t){var n,o,e,u,i,r,c,a,p,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,u=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,c=t.Node,a=t.Component},function(t){p=t.gAppAudio},function(t){s=t.gAppData}],execute:function(){var l,d,f,h,m,v,y;i._RF.push({},"ccd241YjN9FT7PenXEdTmLy","AppSoundButton",void 0);var A=r.ccclass,g=r.property;t("AppSoundButton",(l=A("AppSoundButton"),d=g(c),f=g(c),l((v=n((m=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,e(n,"soundOn",v,u(n)),e(n,"soundOff",y,u(n)),n}o(n,t);var i=n.prototype;return i.start=function(){this.updateButtton()},i.updateButtton=function(){this.soundOn.active=s.musicVolume>=.5,this.soundOff.active=!this.soundOn.active},i.onClick=function(){var t=s.musicVolume>.5?0:1;p.setMusicVolume(t),p.setSoundVolume(t),this.updateButtton()},n}(a)).prototype,"soundOn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(m.prototype,"soundOff",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppStarterScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts","./Utils.ts"],(function(e){var r,t,o,s,n,i,a,c,l,p,u,g,d,h,f,b,S,m,y,v;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,a=e.ProgressBar,c=e.Label,l=e.Node,p=e.director,u=e.warn,g=e.log,d=e.js,h=e.tween,f=e.v3,b=e.view,S=e.easing,m=e.Component},function(e){y=e.SCENE},function(e){v=e.Utils}],execute:function(){var w,B,L,P,R,M,z,A,H;n._RF.push({},"21dacNMjJFAhLgZMZpSPOWf","AppStarterScene",void 0);var C=i.ccclass,N=i.property;e("AppStarterScene",(w=C("AppStarterScene"),B=N(a),L=N(c),P=N(l),w((z=r((M=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r=e.call.apply(e,[this].concat(n))||this,o(r,"progressBar",z,s(r)),o(r,"labelProgress",A,s(r)),o(r,"rocket",H,s(r)),r.bResLoaded=!1,r.bHomeViewLoad=!1,r.bReady=!1,r.bSceneLoaded=!1,r}t(r,e);var n=r.prototype;return n.start=function(){var e=this;if(window&&document){var r=document.getElementById("loading");r&&r.remove()}this.progressBar.progress=0;var t=y.MainScene;p.preloadScene(t,(function(r,t,o){t>0&&(e.progressBar.progress=r/t)}),(function(r,t){r?u("preloadScene error!"):e.showHomeScene()}))},n.updateProgress=function(){var e=v.formatFloat(this.progressBar.progress+.01,3);this.progressBar.progress=Math.min(1,e),this.labelProgress.string=Math.floor(100*this.progressBar.progress)+"%",this.progressBar.progress>=1&&this.showHomeScene()},n.readyGo=function(){var e=this;g(d.getClassName(this)+".readGo()"),this.bHomeViewLoad&&this.bResLoaded&&(this.bReady||(this.bReady=!0,g(d.getClassName(this)+".bReady=true;"),this.schedule((function(){e.updateProgress()}),.01,100)))},n.showHomeScene=function(){this.bSceneLoaded||(this.bSceneLoaded=!0,h(this.rocket).by(.5,{position:f(0,b.getVisibleSize().height,0)},{easing:S.expoOut}).call((function(){p.loadScene(y.MainScene)})).start())},r}(m)).prototype,"progressBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(M.prototype,"labelProgress",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=r(M.prototype,"rocket",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=M))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppStoreHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./App.ts","./AppUser.ts"],(function(e){var n,o,r,t,i,c,s,u,a,p;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,t=e.log,i=e.Component},function(e){c=e.Config},function(e){s=e.gAppNative,u=e.gAppUI,a=e.gAppAdHelper},function(e){p=e.gUserData}],execute:function(){var d;o._RF.push({},"84e49ZktYlMFITaEYqCgy+T","AppStoreHelper",void 0);var h=r.ccclass;r.property,e("AppStoreHelper",h("AppStoreHelper")(d=function(e){function o(){for(var n,o=arguments.length,r=new Array(o),t=0;t<o;t++)r[t]=arguments[t];return(n=e.call.apply(e,[this].concat(r))||this).isPurchasing=!1,n}n(o,e);var r=o.prototype;return r.start=function(){var e=this;s.node.on(s.MSG_IAP_PURCHASE_BEGIN,(function(n){console.log("MSG_IAP_PURCHASE_BEGIN:"+n),u.showWaiting(),e.isPurchasing=!0})),s.node.on(s.MSG_IAP_PURCHASE_FINISHED,(function(n){console.log("MSG_IAP_PURCHASE_FINISHED:"+n),e.handlePurchaseFinished(n),u.hideWaiting(),e.isPurchasing=!1})),s.node.on(s.MSG_IAP_PURCHASE_FAILED,(function(n){console.log("MSG_IAP_PURCHASE_FAILED:"+n),u.hideWaiting(),n&&n.length>0?"user_canceled"!=n&&u.showTips("Purchase error:, "+n):u.showTips("Purchase error!"),e.isPurchasing=!1})),s.node.on(s.MSG_IAP_PURCHASE_RESTORED,(function(n){console.log("MSG_IAP_PURCHASE_RESTORED:"+n),e.handlePurchasedRestored(n),u.hideWaiting(),e.isPurchasing=!1}))},r.purchase=function(e){t("AppStoreHelper.purchase("+e+")");var n=c.products.find((function(n,o,r){return n.id==e}));n||u.showTips("No product found for:"+e),s.purchaseProduct(n.id)},r.restorePurchasedItems=function(){s.restorePurchase()},r.coinsOfProduct=function(e){var n=0,o=c.products.find((function(n,o,r){return n.id==e}));return o&&(n=o.count),n},r.handlePurchaseFinished=function(e){var n=this.coinsOfProduct(e);n>0?u.showRewardCollect(n,(function(){})):e==c.product_remove_ad&&(p.adRemoved=!0,a.hideBannerAd())},r.handlePurchasedRestored=function(e){e==c.product_remove_ad&&(p.adRemoved=!0,a.hideBannerAd(),u.showTips("Purchased item restoring completed!"))},o}(i))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppStoreItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts"],(function(e){var t,i,n,r,l,o,a,c,u,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Node,c=e.Label,u=e.log,s=e.Component},function(e){p=e.Config}],execute:function(){var b,h,m,f,d,I,y,g,C,v,S,w,z,_,D,A,P,T,x,E;l._RF.push({},"9b0a0DP75lNzb064Qosogds","AppStoreItem",void 0);var L=o.ccclass,R=o.property;e("AppStoreItemInfo",(function(){this.id="",this.icon="coin",this.xSymbol="x",this.count=0,this.description="",this.currency="$",this.price="0.99",this.hot=!1})),e("AppStoreItem",(b=L("AppStoreItem"),h=R(a),m=R(c),f=R(c),d=R(c),I=R(c),y=R(c),g=R(a),C=R(a),b(((E=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"icon",w,r(t)),n(t,"labelX",z,r(t)),n(t,"labelCount",_,r(t)),n(t,"labelDescriptioin",D,r(t)),n(t,"labelCurrency",A,r(t)),n(t,"labelPrice",P,r(t)),n(t,"hotItem",T,r(t)),n(t,"adRewardItem",x,r(t)),t.itemId="",t}i(t,e);var l=t.prototype;return l.start=function(){u("AppStoreItem.start()")},l.update=function(e){},l.updateItem=function(e){this.itemId=e.id,this.icon.active=e.icon.length>0,this.labelX.string=e.xSymbol,this.labelX.node.active=e.xSymbol.length>0,this.labelCount.string=""+e.count,this.labelCount.node.active=e.xSymbol.length>0,this.labelDescriptioin.string=e.description,this.labelDescriptioin.string.length>0&&(this.labelDescriptioin.fontSize=26),this.labelCurrency.string=e.currency,this.labelCurrency.node.active=e.currency.length>0,this.labelPrice.string=e.price,this.labelCurrency.node.active||(this.labelPrice.fontSize=26),this.hotItem.active=e.hot,this.adRewardItem.active=this.itemId==p.product_rewarded_ad},l.onItemButtonClick=function(e){u("AppStoreItem.onItemButtonClick()"),u("itemId: "+this.itemId),this.node.emit(t.EVT_ITEM_CLICK,this.itemId)},t}(s)).EVT_ITEM_CLICK="EVT_ITEM_CLICK",w=t((S=E).prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"labelX",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(S.prototype,"labelCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"labelDescriptioin",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"labelCurrency",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(S.prototype,"labelPrice",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(S.prototype,"hotItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(S.prototype,"adRewardItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=S))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/AppStoreUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppStoreItem.ts","./Config.ts"],(function(e){var t,n,i,r,o,a,c,s,l,u,p,d,g,h,f,b,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,s=e.Label,l=e.instantiate,u=e.log,p=e.Component},function(e){d=e.gAppHelper,g=e.gAppUI,h=e.gAppAdHelper,f=e.gAppStoreHelper},function(e){b=e.AppStoreItem},function(e){w=e.Config}],execute:function(){var C,y,A,m,v,I,P,k,S,_,R;o._RF.push({},"2418cOEU4JDOLqbYuSUKLnv","AppStoreUI",void 0);var U=a.ccclass,O=a.property,T=w.products;e("AppStoreUI",(C=U("AppStoreUI"),y=O(c),A=O(c),m=O(s),v=O(c),C((k=t((P=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"content",k,r(t)),i(t,"waiting",S,r(t)),i(t,"labelWaiting",_,r(t)),i(t,"loading",R,r(t)),t.waitingTicks=0,t.strWaitingOrg="Please Wait",t.waitingClickCount=0,t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;this.strWaitingOrg=this.labelWaiting.string,d.showPanel(this);var t=this.content.children[0];this.content.children.forEach((function(e){e.active=!1})),this.scheduleOnce((function(){for(var n=0;n<T.length;n++){var i=T[n],r=n<e.content.children.length?e.content.children[n]:l(t);r.parent=e.content,r.active=!0,r.getComponent(b).updateItem(i),r.on(b.EVT_ITEM_CLICK,e.onItemButtonClick,e)}e.scheduleOnce((function(){e.loading.active=!1}))}),.2)},o.onItemButtonClick=function(e){u("AppStoreUI.onItemButtonClick("+e+")"),g.antiDoubleClicks(),w.product_rewarded_ad==e?h.isRewardedAdReady()?g.showVideoAdMessage((function(){h.showRewardedAd()})):g.showTips("Rewarded video is not ready.\nPlease try again later."):w.product_restore_purchased==e?this.onRestorePurchasedClick():this.buy(e)},o.onCloseClick=function(){d.closePanel(this)},o.buy=function(e){f.isPurchasing?g.showTips("Purchase item is under progressing."):w.testing?g.showRewardCollect(f.coinsOfProduct(e),(function(){})):f.purchase(e)},o.onRestorePurchasedClick=function(){f.isPurchasing?g.showTips("Purchase item is under progressing."):(g.antiDoubleClicks(),f.restorePurchasedItems())},t}(p)).prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(P.prototype,"waiting",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(P.prototype,"labelWaiting",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(P.prototype,"loading",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=P))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppTextViewerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,n,i,o,l,r,s,a,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,s=e.Label,a=e.RichText,c=e.Node,u=e.Component},function(e){p=e.gAppHelper}],execute:function(){var f,h,b,g,C,w,y,T,d;l._RF.push({},"fa59fT21NxKapz0eo1XT8YK","AppTextViewerUI",void 0);var v=r.ccclass,x=r.property;e("AppTextViewerUI",(f=v("AppTextViewerUI"),h=x(s),b=x(a),g=x(c),f((y=t((w=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,i(t,"labelTitle",y,o(t)),i(t,"labelContent",T,o(t)),i(t,"loading",d,o(t)),t.strContent="",t.onClose=null,t}n(t,e);var l=t.prototype;return l.setParams=function(e,t,n){this.strContent=e,this.labelTitle.string=t,this.onClose=n},l.start=function(){this.show()},l.show=function(){var e=this;p.showPanel(this),this.scheduleOnce((function(){e.labelContent.string=e.strContent,e.loading.active=!1}),.5)},l.close=function(){p.closePanel(this)},l.onCloseClick=function(){this.onClose&&this.onClose(),this.close()},t}(u)).prototype,"labelTitle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(w.prototype,"labelContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(w.prototype,"loading",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=w))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/AppTipsUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var e,n,i,r,o,s,a,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Label,l=t.Component},function(t){p=t.gAppHelper}],execute:function(){var c,u,h,f,y;o._RF.push({},"e5b47hu9+lBB7l10N5DRXNy","AppTipsUI",void 0);var b=s.ccclass,d=s.property;t("AppTipsUI",(c=b("AppTipsUI"),u=d(a),c((y=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"labelContent",y,r(e)),e.duration=3,e}n(e,t);var o=e.prototype;return o.setPrarams=function(t,e){this.labelContent.string=t,e&&(this.duration=e)},o.start=function(){var t=this;p.showPanel(this),this.scheduleOnce((function(){p.closePanel(t)}),this.duration)},e}(l)).prototype,"labelContent",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRewardCollectUI.ts","./AppRewardMessageUI.ts","./AppMessageBoxUI.ts","./AppTipsUI.ts","./AppStoreUI.ts","./AppAboutUsUI.ts","./AppBlockerUI.ts","./AppFadeOutUI.ts","./AppPrivacyDialogUI.ts","./AppTextViewerUI.ts","./AppLuckyUI.ts","./App.ts","./Common.ts","./AppVideoAdMessageUI.ts","./AppDebugUI.ts","./AppWaitingUI.ts","./AppRatingBoxUI.ts","./AppHotUpdateTestUI.ts"],(function(t){var n,e,o,i,s,a,p,r,c,u,h,f,d,A,m,U,l,C,I,g,w,v,y,B,R,b,k;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.log,s=t.js,a=t.error,p=t.Component},function(t){r=t.AppRewardCollectUI},function(t){c=t.AppRewardMessageUI},function(t){u=t.AppMessageBoxUI},function(t){h=t.AppTipsUI},function(t){f=t.AppStoreUI},function(t){d=t.AppAboutUsUI},function(t){A=t.AppBlockerUI},function(t){m=t.AppFadeOutUI},function(t){U=t.AppPrivacyDialogUI},function(t){l=t.AppTextViewerUI},function(t){C=t.AppLuckyUI},function(t){I=t.gAppRes,g=t.gAppHelper,w=t.gAppAdHelper},function(t){v=t.findCanvas},function(t){y=t.AppVideoAdMessageUI},function(t){B=t.AppDebugUI},function(t){R=t.AppWaitingUI},function(t){b=t.AppRatingBoxUI},function(t){k=t.AppHotUpdateTestUI}],execute:function(){var x;e._RF.push({},"03fd28/pahI4KZ2XuVPmlY0","AppUI",void 0);var P=o.ccclass;o.property,t("AppUI",P("AppUI")(x=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.instantiateComponent=function(t){i("AppUI.instantiateComponent()");var n=s.getClassName(t),e=I[n];if(e)return this.removeComponent(t),g.instantiateComponent(e,t);a("!prefab!!!"+s.getClassName(this)+":"+n)},o.removeComponent=function(t){var n=v().getChildByName(""+s.getClassName(t));n&&n.destroy()},o.showTips=function(t){var n=this.instantiateComponent(h);n.setPrarams(t),n.node.parent=v()},o.showTextViewer=function(t,n,e){var o=this.instantiateComponent(l);o.setParams(t,n,e),o.node.parent=v()},o.showLuckyCompass=function(){var t=this,n=this.instantiateComponent(C);n.setParams((function(n){t.showRewardCollect(n,(function(){w.showInterstitialAd()}))})),n.node.parent=v()},o.showRewardMessage=function(t,n){var e=this.instantiateComponent(c);e.setParams(t,n),e.node.parent=v()},o.showRewardCollect=function(t,n){var e=this.instantiateComponent(r);e.setParams(t,n),e.node.parent=v()},o.showMessageBox=function(t,n,e,o){var i=this.instantiateComponent(u);i.setParams(t,n,e,o),i.node.parent=v()},o.showStore=function(){this.instantiateComponent(f).node.parent=v()},o.showPrivacyDialog=function(t){var n=this.instantiateComponent(U);n.funcOK=t,n.node.parent=v()},o.showAboutUs=function(){this.instantiateComponent(d).node.parent=v()},o.showVideoAdMessage=function(t){var n=this.instantiateComponent(y);t&&(n.cbOK=t),n.node.parent=v()},o.showRatingBox=function(t){var n=this.instantiateComponent(b);t&&(n.cbOK=t),n.node.parent=v()},o.showDebug=function(){this.instantiateComponent(B).node.parent=v()},o.showHotUpdateTest=function(){this.instantiateComponent(k).node.parent=v()},o.showFadeOut=function(){this.instantiateComponent(m).node.parent=v()},o.showBlocker=function(){this.instantiateComponent(A).node.parent=v()},o.hideBlocker=function(){var t=v().getChildByName(""+s.getClassName(A));t&&t.destroy()},o.showWaiting=function(t){var n=this.instantiateComponent(R);t&&(n.maxTouchCount=t),n.node.parent=v()},o.hideWaiting=function(){var t=v().getChildByName(""+s.getClassName(R));t&&t.destroy()},o.antiDoubleClicks=function(){var t=this;this.showBlocker(),this.scheduleOnce((function(){t.hideBlocker()}),.3)},e}(p))||x);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppUser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./Utils.ts"],(function(t){var e,n,o,a,s,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,a=t.log,s=t.Component},function(t){i=t.VM},function(t){r=t.Utils}],execute:function(){var c,u;n._RF.push({},"17b89CEjGZEz7deG939ysEa","AppUser",void 0);var p=o.ccclass,d=(o.property,t("gUserData",new function(){this.userId="",this.userName="",this.coin=100,this.purchasedCoin=0,this.adRemoved=!1,this.luckyBonusTime=0})),l="UserDataV2",h="gUserData",f=d,v=(t("AppUser",p("AppUser")(((u=function(n){function o(){return n.apply(this,arguments)||this}e(o,n);var s=o.prototype;return s.onLoad=function(){a("AppDataCtl.onLoad()"),v||(v=t("gAppUser",this),this.loadData(),this.bindVM())},s.bindVM=function(){var t=this;i.add(f,h,!0),i.bindPath(h,(function(e,n,o){t.scheduleOnce((function(){t.saveData()}))}),this)},s.loadData=function(){var t="AppUser",e=localStorage.getItem(t);if(e&&e.length>0)return a("Loading previous data of AppUser, "+e),r.loadObject(t,f),this.saveData(),void localStorage.removeItem(t);r.loadObject(l,f)},s.saveData=function(){r.saveObject(l,f)},s.addCoin=function(t){f.coin+=t,this.node.emit(o.EVT_COIN_CHANGED)},s.setAdRemoved=function(){f.adRemoved=!0},o}(s)).EVT_COIN_CHANGED="EVT_COIN_CHANGED",c=u))||c),t("gAppUser",null));n._RF.pop()}}}));

System.register("chunks:///_virtual/AppVideoAdButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(t){var e,o,i,n,r,s,p,a,d,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,p=t.Node,a=t.UITransform,d=t.Component},function(t){u=t.gAppAdHelper,c=t.gAppUI}],execute:function(){var l,h,f,A,y;r._RF.push({},"dc1beZ8tXdDm6HYXo5WKbNi","AppVideoAdButton",void 0);var v=s.ccclass,b=s.property;t("AppVideoAdButton",(l=v("AppVideoAdButton"),h=b(p),l((y=e((A=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"symbol",y,n(e)),e.width=60,e}o(e,t);var r=e.prototype;return r.start=function(){this.width=this.node.getComponent(a).width,this.updateButton(),this.schedule(this.updateButton,60,100,10)},r.updateButton=function(){this.node.active=u.isRewardedAdReady()},r.onClick=function(){var t=this;this.symbol.active=!1,c.showVideoAdMessage((function(){u.showRewardedAd(),t.node.active=!1}))},e}(d)).prototype,"symbol",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=A))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppVideoAdMessageUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,n,o,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,s=e.Component},function(e){c=e.gAppHelper}],execute:function(){var i;n._RF.push({},"bdc87M4T65EF5oad3LdS549","AppVideoAdMessageUI",void 0);var r=o.ccclass;o.property,e("AppVideoAdMessageUI",r("AppVideoAdMessageUI")(i=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).cbOK=null,t}t(n,e);var o=n.prototype;return o.start=function(){c.showPanel(this)},o.onWatchClick=function(){this.cbOK&&this.cbOK(),c.closePanel(this)},o.onCloseClick=function(){c.closePanel(this)},n}(s))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/AppViewMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts"],(function(e){var n,i,r,a,o,t,u,l,c,d,s;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,r=e._decorator,a=e.log,o=e.warn,t=e.resources,u=e.assetManager,l=e.instantiate,c=e.find,d=e.Component},function(e){s=e.VIEW}],execute:function(){var w;i._RF.push({},"5c8feWruf1Gt7OwIVmO9x0g","AppViewMgr",void 0);var p=r.ccclass,f=(r.property,e("ViewInfo",(function(){this.bundleName="",this.viewName=""})),new Map);e("AppViewMgr",p("AppViewMgr")(w=function(e){function i(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).curView=null,n}n(i,e);var r=i.prototype;return r.onLoad=function(){for(var e in s)if(Object.prototype.hasOwnProperty.call(s,e)){var n=s[e];f.set(e,{bundle:null,bundleName:n.bundleName,viewName:n.viewName})}},r._loadView=function(e,n){a("AppViewMgr._loadView()");var i=f.get(e.viewName);if(i){var r=function(){var e=""+i.viewName;i.bundle.load(e,(function(i,r){i?o("bundle.load("+e+") error!"):n&&n(r)}))};i.bundle?r():i.bundleName.length<=0?i.bundle=t:u.loadBundle(i.bundleName,(function(e,n){e?o("loadBundle("+i.bundleName+"), error!"):(i.bundle=n,r())}))}else o("no view found for "+e.viewName)},r.preloadView=function(e,n){this._loadView(e,n)},r.loadView=function(e,n){var i=this;a("AppViewMgr.loadView()"),this._loadView(e,(function(e){i.curView&&i.curView.isValid&&(i.curView.destroy(),i.curView=null);var r=l(e),a=c("Canvas/LayerView");r.parent=a||c("Canvas"),n&&n(),i.curView=r}))},i}(d))||w);i._RF.pop()}}}));

System.register("chunks:///_virtual/AppWaitingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,c,u;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.find,r=t.Label,c=t.Node,u=t.Component}],execute:function(){var a;o._RF.push({},"bad78TgmNtDiZ82YEvbcxs7","AppWaitingUI",void 0);var s=e.ccclass;e.property,t("AppWaitingUI",s("AppWaitingUI")(a=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).maxTouchCount=100,n.touchCount=0,n}return n(o,t),o.prototype.start=function(){var t=this,n=i("Panel/Label",this.node),o=n?n.getComponent(r):null;if(o){var e=0,u=o.string,a=[".","..","...",""];this.schedule((function(){o.string=u+a[e++%a.length]}),1,100)}i("Bg",this.node).on(c.EventType.TOUCH_START,(function(){t.touchCount++,t.touchCount>=t.maxTouchCount&&t.node.destroy()}),this)},o}(u))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/Base64.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"3680ebkJiNOnp75gr6sVjFL","Base64",void 0);var e=r("Base64",function(){function r(){this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}var t=r.prototype;return t.encode=function(r){return this._encode(r)},t.decode=function(r){return this._decode(r)},t._encode=function(r){var t,e,o,n,a,h,c,i="",d=0;for(r=this._utf8_encode(r);d<r.length;)n=(t=r.charCodeAt(d++))>>2,a=(3&t)<<4|(e=r.charCodeAt(d++))>>4,h=(15&e)<<2|(o=r.charCodeAt(d++))>>6,c=63&o,isNaN(e)?h=c=64:isNaN(o)&&(c=64),i=i+this._keyStr.charAt(n)+this._keyStr.charAt(a)+this._keyStr.charAt(h)+this._keyStr.charAt(c);return i},t._decode=function(r){var t,e,o,n,a,h,c="",i=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<r.length;)t=this._keyStr.indexOf(r.charAt(i++))<<2|(n=this._keyStr.indexOf(r.charAt(i++)))>>4,e=(15&n)<<4|(a=this._keyStr.indexOf(r.charAt(i++)))>>2,o=(3&a)<<6|(h=this._keyStr.indexOf(r.charAt(i++))),c+=String.fromCharCode(t),64!==a&&(c+=String.fromCharCode(e)),64!==h&&(c+=String.fromCharCode(o));return c=this._utf8_decode(c)},t._utf8_encode=function(r){r=r.replace(/\r\n/g,"\n");for(var t="",e=0;e<r.length;e++){var o=r.charCodeAt(e);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},t._utf8_decode=function(r){for(var t="",e=0,o=0,n=0,a=0;e<r.length;)(o=r.charCodeAt(e))<128?(t+=String.fromCharCode(o),e++):o>191&&o<224?(n=r.charCodeAt(e+1),t+=String.fromCharCode((31&o)<<6|63&n),e+=2):(n=r.charCodeAt(e+1),a=r.charCodeAt(e+2),t+=String.fromCharCode((15&o)<<12|(63&n)<<6|63&a),e+=3);return t},r}());r("base64",new e);t._RF.pop()}}}));

System.register("chunks:///_virtual/Common.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.find}],execute:function(){function a(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var t=e[n];("string"!=typeof t||t.trim().length<=0)&&isNaN(Number(n))&&(e[n]=n)}}e({findCanvas:function(){return t("Canvas")},setObjKeysAsValues:a}),n._RF.push({},"6ea82GJ2EJE8YPYWmusSLV1","Common",void 0);e("Constant",{landscapeRatio:1.6});var o=e("BUNDLE",function(e){return e.app="",e.popstar="",e}({}));a(o);e("VIEW",{HomeView:{viewName:"HomeView",bundleName:o.app},PopView:{viewName:"PopView",bundleName:o.popstar}});a(e("STR",function(e){return e.Canvas="",e}({}))),a(e("DIR",function(e){return e.prefab="",e.audio="",e.testgem="",e}({}))),a(e("EVT",function(e){return e.VIEW_SIZE_CHANGE="",e}({}))),a(e("SCENE",function(e){return e.MainScene="",e.HomeScene="",e.HomeTestScene="",e.PopMenuScene="",e.PopGameScene="",e.PopTestScene="",e.NativeTestScene="",e}({}))),a(e("PREFAB",function(e){return e.AppMessageBox="",e.AppFadeOut="",e.AppBlocker="",e.AppSceneLoader="",e.AppTips="",e.AppWaiting="",e.ParticleEraseGem="",e}({}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(o){var c;return{setters:[function(o){c=o.cclegacy}],execute:function(){c._RF.push({},"2d717OtshRGPZVmPL45lZP5","Config",void 0);var r="rewarded_ad",t="com.cocosbear.PopStarDash.buy5stars",i="com.cocosbear.PopStarDash.buy18stars",e="com.cocosbear.PopStarDash.buy35stars",n="com.cocosbear.PopStarDash.buy50stars",s="com.cocosbear.PopStarDash.buy100stars",a="com.cocosbear.PopStarDash.removeAd",u="product_restore_purchased";o("Config",{testing:!1,version:"3.6",channel_version:"3.6",channel_approved_version:"1.0",share_url:"https://popstar.cc",remote_config_url:"https://popstar.cc/api/ios/app_config.json",storeEnabled:!0,isVideoAdEnabled:!0,isInterstitialAdEnabled:!1,maxSkillsToEquip:3,interstitial_ad_interval:300,lucky_bonus_interval:1800,product_rewarded_ad:r,product_buy5:t,product_buy18:i,product_buy35:e,product_buy50:n,product_buy100:s,product_remove_ad:a,product_restore_purchased:u,products:[{id:r,icon:"coin",xSymbol:"x",count:5,description:"",currency:"",price:"FREE",hot:!1},{id:t,icon:"coin",xSymbol:"x",count:5,description:"",currency:"$",price:"0.99",hot:!1},{id:i,icon:"coin",xSymbol:"x",count:18,description:"",currency:"$",price:"2.99",hot:!1},{id:e,icon:"coin",xSymbol:"x",count:35,description:"",currency:"$",price:"5.99",hot:!1},{id:n,icon:"coin",xSymbol:"x",count:50,description:"",currency:"$",price:"8.99",hot:!1},{id:s,icon:"coin",xSymbol:"x",count:100,description:"",currency:"$",price:"9.99",hot:!0},{id:a,icon:"",xSymbol:"",count:1,description:"REMOVE ADS",currency:"$",price:"0.99",hot:!1},{id:u,icon:"",xSymbol:"",count:1,description:"PURCHASED ITEM",currency:"",price:"RESTORE",hot:!1}]});c._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingSmokes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,n,i,e,r,s,a,c,l,u;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.log,r=t.randomRangeInt,s=t.randomRange,a=t.tween,c=t.v3,l=t.view,u=t.Component}],execute:function(){var p;n._RF.push({},"ac3ddVvx5RM7aNSR0KfnNEG","FloatingSmokes",void 0);var g=i.ccclass;i.property,t("FloatingSmokes",g("FloatingSmokes")(p=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var i=n.prototype;return i.start=function(){e("FloatingSmokes.start()");for(var t=this.node.children,o=function(){var o=t[n],i=r(-30,-100),e=r(-10,10),u=s(3,5);a(o).by(u,{position:c(i,e,1)}).by(u,{position:c(i,-e,1)}).call((function(){o.position.x<-l.getVisibleSize().width&&(o.position=c(l.getVisibleSize().width,o.position.y,o.position.z))})).union().repeatForever().start()},n=0;n<t.length;n++)o()},i.update=function(t){},n}(u))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingStone.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,r,i,a,s,u,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.log,i=t.randomRangeInt,a=t.randomRange,s=t.tween,u=t.v3,c=t.Component}],execute:function(){var p;o._RF.push({},"48bf2N4eDRERIUJAeuiiDT+","FloatingStone",void 0);var l=e.ccclass,g=(e.property,e.executeInEditMode);t("FloatingStone",l("FloatingStone")(p=g(!0)(p=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.start=function(){r("FloatingStone.start()");var t=i(-10,10),n=i(-50,50),o=a(3,5);s(this.node).by(o,{position:u(t,n,1)}).by(2*o,{position:u(-t,-n,1)}).union().repeatForever().start()},e.update=function(t){},o}(c))||p)||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingStones.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,i,r,a,s,c,l,u,p,h;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.log,r=t.UIOpacity,a=t.tween,s=t.view,c=t.instantiate,l=t.randomRangeInt,u=t.randomRange,p=t.v3,h=t.Component}],execute:function(){var g;e._RF.push({},"688363hcR1MVK8rNHmzg/ir","FloatingStones",void 0);var d=o.ccclass;o.property,t("FloatingStones",d("FloatingStones")(g=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){var t=this;i("FloatingSmokes.start()");var n=this.getComponent(r);n&&a(n).set({opacity:0}).to(.2,{opacity:255}).start(),this.scheduleOnce((function(){for(var n=s.getVisibleSize().width/128,e=t.node.children.length,o=Math.min(5,n-e),i=0;i<o;i++){c(t.node.children[l(0,e)]).parent=t.node}t.scheduleOnce((function(){for(var n=t.node.children,e=0;e<n.length;e++){var o=n[e],i=l(-10,10),r=l(-50,50),s=u(3,5);a(o).by(s,{position:p(i,r,1)}).by(2*s,{position:p(-i,-r,1)}).union().repeatForever().start()}}))}))},e}(h))||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/FollowCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,r,i,s,n,a,l,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createClass},function(t){n=t.cclegacy,a=t._decorator,l=t.Vec3,c=t.Node,d=t.Component}],execute:function(){var u,p,h,g,P,f;n._RF.push({},"db75bbNJnxHYIdxo63CSRnv","FollowCamera",void 0);var y=a.ccclass,w=a.property,_=new l;function m(t,e,o){return Math.min(o,Math.max(e,t))}t("FollowCamera",(u=w(c),y((g=e((h=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,r(e,"focusTarget",g,i(e)),r(e,"speedFactor",P,i(e)),r(e,"_distance",f,i(e)),e.enableLimit=!0,e.minX=-1/0,e.maxX=1/0,e.minZ=-1/0,e.maxZ=1/0,e._tweenFollow=void 0,e._targetWorldPos=new l,e._lastTargetPos=new l,e}o(e,t);var n=e.prototype;return n.start=function(){this._lastTargetPos.set(this.focusTarget.worldPosition),this._updateTargetWorldPos(),this.node.setWorldPosition(this._targetWorldPos)},n._updateTargetWorldPos=function(){this._targetWorldPos.set(this.focusTarget.worldPosition),this.enableLimit&&(this._targetWorldPos.x=m(this._targetWorldPos.x,this.minX,this.maxX),this._targetWorldPos.z=m(this._targetWorldPos.z,this.minZ,this.maxZ)),this._targetWorldPos.add(this.node.forward.multiplyScalar(-1*this.distance))},n.update=function(){this._lastTargetPos.equals(this.focusTarget.worldPosition)||(this._lastTargetPos.set(this.focusTarget.worldPosition),this._updateTargetWorldPos()),_.set(this._targetWorldPos);var t=_.subtract(this.node.worldPosition);t.lengthSqr()>.01&&(this.node.worldPosition.add(t.multiplyScalar(this.speedFactor)),this.node.setWorldPosition(this.node.worldPosition))},n.resetPos=function(){this._updateTargetWorldPos(),this.node.setWorldPosition(this._targetWorldPos)},s(e,[{key:"distance",get:function(){return this._distance},set:function(t){this._distance=t,this._updateTargetWorldPos()}},{key:"preview",get:function(){return!1},set:function(t){this.resetPos()}},{key:"autoSetDistance",get:function(){return!1}},{key:"autuSetDistance",set:function(t){this.distance=this.node.worldPosition.clone().subtract(this.focusTarget.worldPosition).length()}}]),e}(d)).prototype,"focusTarget",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(h.prototype,"speedFactor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),f=e(h.prototype,"_distance",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),e(h.prototype,"distance",[w],Object.getOwnPropertyDescriptor(h.prototype,"distance"),h.prototype),e(h.prototype,"preview",[w],Object.getOwnPropertyDescriptor(h.prototype,"preview"),h.prototype),e(h.prototype,"autoSetDistance",[w],Object.getOwnPropertyDescriptor(h.prototype,"autoSetDistance"),h.prototype),p=h))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"340cdcWrqhJvqFL4ezyRihh","Global",void 0);var c=e("Global",(function(){}));c.testing=!1,c.isVideoAdEnabled=!0,c.isInterstitialAdEnabled=!1,c.maxSkillsToEquip=3,c.product500Gold="com.zeeyogo.chequeredknight.500gold",c.product10Diamonds="com.zeeyogo.chequeredknight.10diamonds",c.product6000Gold="com.zeeyogo.chequeredknight.6000gold",c.product100Diamonds="com.zeeyogo.chequeredknight.100diamonds",o._RF.pop()}}}));

System.register("chunks:///_virtual/Guid.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"8da0cYoMkRMC79Ax4bNKZ1d","Guid",void 0);var e=n("Guid",function(){function n(){}var t=n.prototype;return t.gen=function(){return this.generate(8,16)},t.generate=function(n,t){var e,r,u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(t=t||u.length,n)for(e=0;e<n;e++)i[e]=u[0|Math.random()*t];else for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",e=0;e<36;e++)i[e]||(r=0|16*Math.random(),i[e]=u[19==e?3&r|8:r]);return i.join("")},n}());n("guid",new e);t._RF.pop()}}}));

System.register("chunks:///_virtual/h5_games_ads.ts",["cc","./ad_event.ts"],(function(e){var t,n,o,i,r;return{setters:[function(e){t=e.cclegacy,n=e.game},function(e){o=e.PrerollAdEvent,i=e.InterstitialAdEvent,r=e.RewardedVideoAdEvent}],execute:function(){e({requestRewardedAd:function(e){try{var t=n;d({type:"reward",name:e,beforeAd:function(){t.emit(r.BEFORE_AD)},afterAd:function(){t.emit(r.AFTER_AD)},adBreakDone:function(e){t.emit(r.AD_BREAK_DONE)},beforeReward:function(e){a=e,t.emit(r.BEFORE_REWARD)},adDismissed:function(){t.emit(r.AD_DISMISSED)},adViewed:function(){t.emit(r.AD_VIEWED)}})}catch(e){console.log(e)}},showInterstitialAd:function(e,t){try{var o=n;d({type:e,name:t,beforeAd:function(){o.emit(i.BEFORE_AD)},afterAd:function(){o.emit(i.AFTER_AD)},adBreakDone:function(e){o.emit(i.AD_BREAK_DONE)}})}catch(e){console.log(e)}},showPrerollAd:function(){try{var e=n;d({type:"preroll",adBreakDone:function(t){e.emit(o.AD_BREAK_DONE)}})}catch(e){console.log(e)}},showRewardedAd:function(){if(!a)return void console.log("No Rewarded Ad available");a(),a=null}}),t._RF.push({},"0f18bycLixDfo5bPZTtcC0r","h5_games_ads",void 0);var a,c=window.adsbygoogle,d=function(e){c.push(e)};t._RF.pop()}}}));

System.register("chunks:///_virtual/HomeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppAudioSounds.ts","./Common.ts","./AppData.ts","./AppHotUpdate.ts","./PopData.ts","./Config.ts"],(function(t){var e,o,n,i,a,r,s,c,p,l,u,d,f,g,y,h,w,A,b,v,m,V,C,D,S,H,U,N,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,c=t.Label,p=t.AudioClip,l=t.log,u=t.tween,d=t.v3,f=t.easing,g=t.sys,y=t.js,h=t.game,w=t.UIOpacity,A=t.Component},function(t){b=t.gAppViewMgr,v=t.gAppUI,m=t.gAppHotUpdate,V=t.gAppAudio,C=t.gAppNative},function(t){D=t.AppAudioSounds},function(t){S=t.VIEW},function(t){H=t.gAppData},function(t){U=t.AppHotUpdate},function(t){N=t.gPopData},function(t){R=t.Config}],execute:function(){var k,E,P,I,O,_,z,L,M,T,F,j,x;a._RF.push({},"8e4034OXxdIgoirUjFf2uQQ","HomeView",void 0);var B=r.ccclass,Q=r.property,G=!1,W=!1;t("HomeView",(k=B("HomeView"),E=Q(s),P=Q(s),I=Q(c),O=Q(p),_=Q([s]),k((M=e((L=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"title",M,i(e)),n(e,"loading",T,i(e)),n(e,"labelVersion",F,i(e)),n(e,"audioStart",j,i(e)),n(e,"arrAnimNodes",x,i(e)),e}o(e,t);var a=e.prototype;return a.onLoad=function(){},a.onDestroy=function(){l("HomeView.onDestroy()")},a.start=function(){var t=this;b.preloadView(S.PopView,(function(){G=!0,D.loadClips()}));for(var e=function(e){var o=t.arrAnimNodes[e];if(o){var n=o.getComponent(w);if(n){var i=n.opacity;n.opacity=0,t.scheduleOnce((function(){n.opacity=i;var t=d(o.scale);u(o).set({scale:d(0,0,1)}).delay(.3+.15*e).to(.3,{scale:t},{easing:f.backOut}).start()}))}}},o=0;o<this.arrAnimNodes.length;o++)e(o);u(this.title).by(1.2,{position:d(3,10,0)},{easing:f.sineInOut}).by(2.4,{position:d(-3,-10,0)},{easing:f.sineInOut}).union().repeatForever().start(),H.privacyPolicyAccepted||v.showPrivacyDialog((function(){H.privacyPolicyAccepted=!0})),this.labelVersion.string="v"+(g.isNative?m.getLocalVersion():R.version),g.isNative&&this.scheduleOnce((function(){l("newVersionDownloaded:"+m.newVersionDownloaded+", bHotUpdateMsgShowed:"+W),m.newVersionDownloaded?W||t.showHotUpdateMsg():m.node.on(U.EVT_NEED_RESTART,(function(){l(y.getClassName(t)+",on:EVT_NEED_RESTART"),W||t.showHotUpdateMsg()}),t)}),.2)},a.showHotUpdateMsg=function(){v.showMessageBox("Update","Resource update is available. \nApply update now?",(function(){h.restart()}),"Apply"),W=!0},a.onStartClick=function(){var t=this;G||(this.loading.active=!0,u(this.loading.getComponent(w)).set({opacity:0}).delay(1).to(.3,{opacity:255}).call((function(){u(t.loading.getChildByName("Label").getComponent(w)).to(.2,{opacity:0}).to(.2,{opacity:255}).delay(1).union().repeat(60).start()})).start()),V.playSound(this.audioStart),b.loadView(S.PopView)},a.onSettingClick=function(){},a.onRankClick=function(){C.reportScore(N.highScore),this.scheduleOnce((function(){C.showRank()}),.1)},a.onInfoClick=function(){v.showAboutUs()},a.onGiftClick=function(){g.openURL("https://popstar.cc")},a.update=function(t){},e}(A)).prototype,"title",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(L.prototype,"loading",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(L.prototype,"labelVersion",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(L.prototype,"audioStart",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(L.prototype,"arrAnimNodes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=L))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/HomeViewTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts","./Utils.ts","./Config.ts","./App.ts"],(function(t){var e,n,i,o,s,c,r,a,l,h,u,p,g,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator,r=t.Node,a=t.instantiate,l=t.Label,h=t.log,u=t.Component},function(t){p=t.setObjKeysAsValues},function(t){g=t.Utils},function(t){f=t.Config},function(t){d=t.gAppUI}],execute:function(){var w,T,m,v,y;s._RF.push({},"bd025836UpNOJE0TTTgy8GF","HomeViewTest",void 0);var b=c.ccclass,C=c.property,H=function(t){return t.showTips="",t.showMessageBox="",t.showWaiting="",t.showHotUpdateTest="",t}(H||{});p(H);var k=!1;t("HomeViewTest",(w=b("HomeViewTest"),T=C(r),w((y=e((v=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s))||this,i(e,"content",y,o(e)),e}n(e,t);var s=e.prototype;return s.start=function(){if(f.testing){for(var t=Object.getOwnPropertyNames(H),e=0;e<t.length;e++){var n=t[e],i=this.content.children.length<t.length?a(this.content.children[0]):this.content.children[0];i.parent=this.content,i.getComponent(l).string=n,g.bindClick(i,this.onItemClick,this,n)}this.content.active=k}else this.node.active=!1},s.update=function(t){},s.onToggleClick=function(){k=!k,this.content.active=k},s.onItemClick=function(t){h("onItemClick("+t+")"),t==H.showTips?d.showTips("Tips, hello!"):t==H.showMessageBox?d.showMessageBox("Title","Hello World!",(function(){h("OK button clicked.")})):t==H.showWaiting?(d.showWaiting(),this.scheduleOnce((function(){d.hideWaiting()}),10)):t==H.showHotUpdateTest&&d.showHotUpdateTest()},e}(u)).prototype,"content",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/interstitial_callback.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"6411bouaRJEL7M0PLkZMUWj","interstitial_callback",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/interstitial_type.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"cef0byCVRpEu6ac8K6ynQ8l","interstitial_type",void 0);t("InterstitialType",function(t){return t.START="start",t.PAUSE="pause",t.NEXT="next",t.BROWSE="browse",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/JsonOb.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"1ffd3Wve91BGZGBFT0qs0S8","JsonOb",void 0);var e=Object.prototype,o="[object Object]",c="[object Array]",i=["push","pop","shift","unshift","sort","reverse","splice"];t("JsonOb",function(){function t(t,r){this._callback=void 0,e.toString.call(t)!==o&&e.toString.call(t)!==c&&console.error("请传入一个对象或数组"),this._callback=r,this.observe(t,[])}var r=t.prototype;return r.observe=function(t,r){var i=this;e.toString.call(t)===c&&this.overrideArrayProto(t,r),Object.keys(t).forEach((function(n){var s=i,a=t[n],l=r&&r.slice();l?l.push(n):l=[n],Object.defineProperty(t,n,{get:function(){return a},set:function(t){if(a!==t){var r=e.toString.call(t);r!==o&&r!==c||s.observe(t,l);var i=a;a=t,s._callback(t,i,l)}}}),e.toString.call(t[n])!==o&&e.toString.call(t[n])!==c||i.observe(t[n],l)}),this)},r.overrideArrayProto=function(t,r){var e,o=Array.prototype,c=Object.create(Array.prototype),n=this;i.forEach((function(t){Object.defineProperty(c,t,{value:function(){var c=this.slice();return e=o[t].apply(this,arguments),n.observe(this,r),n._callback(this,c,r),e}})})),t.__proto__=c},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./Common.ts","./App.ts"],(function(e){var t,r,o,i,s,a,n,l,c,u,d,p,g,h,b,f,m,w,y,v,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,n=e.ProgressBar,l=e.Label,c=e.Node,u=e.sys,d=e.log,p=e.js,g=e.tween,h=e.v3,b=e.view,f=e.easing,m=e.Component},function(e){w=e.Utils},function(e){y=e.VIEW},function(e){v=e.gApp,L=e.gAppViewMgr}],execute:function(){var V,B,R,S,H,P,z,N,k;s._RF.push({},"1eb52Zq8/BJYYBXRNqgtFk/","LoadingView",void 0);var C=a.ccclass,A=a.property;e("LoadingView",(V=C("LoadingView"),B=A(n),R=A(l),S=A(c),V((z=t((P=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,o(t,"progressBar",z,i(t)),o(t,"labelProgress",N,i(t)),o(t,"rocket",k,i(t)),t.bResLoaded=!1,t.bHomeViewLoad=!1,t.bReady=!1,t.bSceneLoaded=!1,t.timeStart=0,t}r(t,e);var s=t.prototype;return s.start=function(){var e=this;if(this.timeStart=u.now(),u.isBrowser&&window&&document){var t=document.getElementById("loading");t&&t.remove()}this.progressBar.progress=0,this.schedule((function(){e.updateProgress()}),.02,98),v.loadRes((function(){e.bResLoaded=!0,e.readyGo()})),L.preloadView(y.HomeView,(function(){e.bHomeViewLoad=!0,d(p.getClassName(e)+".bHomeViewLoad=true"),e.readyGo()}))},s.updateProgress=function(){var e=w.formatFloat(this.progressBar.progress+.01,3);this.progressBar.progress=Math.min(1,e),this.labelProgress.string=Math.floor(100*this.progressBar.progress)+"%",this.progressBar.progress>=1&&this.showHomeScene()},s.readyGo=function(){var e=this;d(p.getClassName(this)+".readGo()"),this.bHomeViewLoad&&this.bResLoaded&&(this.bReady||(this.bReady=!0,d(p.getClassName(this)+".bReady=true;"),this.schedule((function(){e.updateProgress()}),.01,100)))},s.showHomeScene=function(){var e=this;if(!this.bSceneLoaded){this.bSceneLoaded=!0;var t=(u.now()-this.timeStart)/1e3,r=u.isNative&&t<3.5?3.5-t:.1;g(this.rocket).delay(r).by(.5,{position:h(0,b.getVisibleSize().height,0)},{easing:f.expoOut}).call((function(){L.loadView(y.HomeView),e.node.destroy()})).start()}},t}(m)).prototype,"progressBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(P.prototype,"labelProgress",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(P.prototype,"rocket",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=P))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./SpaceMapDropMove.ts","./SpaceMapLevelPoint.ts","./ad_event.ts","./h5_games_ads.ts","./interstitial_callback.ts","./interstitial_type.ts","./preroll_callback.ts","./rewarded_callback.ts","./App.ts","./AppAdHelper.ts","./AppAudio.ts","./AppAudioSounds.ts","./AppData.ts","./AppHelper.ts","./AppHotUpdate.ts","./AppLayoutHelper.ts","./AppNative.ts","./AppPlatformWeb.ts","./AppRemoteConfig.ts","./AppRes.ts","./AppStoreHelper.ts","./AppUI.ts","./AppUser.ts","./AppViewMgr.ts","./Common.ts","./Config.ts","./Global.ts","./Utils.ts","./AppCoinInfo.ts","./AppGrid.ts","./AppLayout.ts","./AppLayoutAdaptor.ts","./AppRatingButton.ts","./AppSafeArea.ts","./AppSceneLoader.ts","./AppSetterForEditor.ts","./AppShareButton.ts","./AppSoundButton.ts","./AppVideoAdButton.ts","./FollowCamera.ts","./TapAndHold.ts","./AppAboutUsUI.ts","./AppBlockerUI.ts","./AppDebugUI.ts","./AppFadeOutUI.ts","./AppHotUpdateTestUI.ts","./AppLuckyButton.ts","./AppLuckyUI.ts","./AppMessageBoxUI.ts","./AppPrivacyDialogUI.ts","./AppPrivacyPolicy.ts","./AppRatingBoxUI.ts","./AppRewardCollectUI.ts","./AppRewardMessageUI.ts","./AppRewardUI.ts","./AppSceneLoaderUI.ts","./AppStoreItem.ts","./AppStoreUI.ts","./AppTextViewerUI.ts","./AppTipsUI.ts","./AppVideoAdMessageUI.ts","./AppWaitingUI.ts","./Base64.ts","./Guid.ts","./Md5.ts","./JsonOb.ts","./StringFormat.ts","./VMBase.ts","./VMLabel.ts","./ViewModel.ts","./Pop.ts","./PopCommon.ts","./PopConfirmDialogUI.ts","./PopData.ts","./PopEffect.ts","./PopGame.ts","./PopGameHelpUI.ts","./PopGameOverUI.ts","./PopGem.ts","./PopGlobal.ts","./PopGrid.ts","./PopHelper.ts","./PopInterstitialUI.ts","./PopMagic.ts","./PopMagicButton.ts","./PopMagicCollectUI.ts","./PopMagicStoreUI.ts","./PopRes.ts","./PopResultUI.ts","./PopRetryDialogUI.ts","./PopSettingUI.ts","./PopStageBg.ts","./PopStageIntroUI.ts","./PopStageStar.ts","./PopStarGameLayout.ts","./PopStarTest.ts","./PopTargetProgressInfo.ts","./PopUI.ts","./PopView.ts","./AppStarterScene.ts","./MainScene.ts","./FloatingSmokes.ts","./FloatingStone.ts","./FloatingStones.ts","./TestControl.ts","./Tests.ts","./HomeView.ts","./HomeViewTest.ts","./LoadingView.ts","./TestTogglePwd.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Common.ts"],(function(n){var e,t,o,c,i,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,c=n.Component},function(n){i=n.gAppViewMgr},function(n){r=n.VIEW}],execute:function(){var u;t._RF.push({},"bc332gU8TlA8ajU92B3qDFQ","MainScene",void 0);var a=o.ccclass;o.property,n("MainScene",a("MainScene")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.start=function(){i.loadView(r.HomeView)},o.update=function(n){},t}(c))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/Md5.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"62b22A0gKBFHrf9NWrsHoiK","Md5",void 0);var s=t("Md5",function(){function t(){}return t.prototype.encode=function(i){return t.init(i)},t.AddUnsigned=function(t,i){var s,h,d,n,c;return d=2147483648&t,n=2147483648&i,c=(1073741823&t)+(1073741823&i),(s=1073741824&t)&(h=1073741824&i)?2147483648^c^d^n:s|h?1073741824&c?3221225472^c^d^n:1073741824^c^d^n:c^d^n},t.FF=function(t,i,s,h,d,n,c){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.F(i,s,h),d),c)),this.AddUnsigned(this.RotateLeft(t,n),i)},t.GG=function(t,i,s,h,d,n,c){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.G(i,s,h),d),c)),this.AddUnsigned(this.RotateLeft(t,n),i)},t.HH=function(t,i,s,h,d,n,c){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.H(i,s,h),d),c)),this.AddUnsigned(this.RotateLeft(t,n),i)},t.II=function(t,i,s,h,d,n,c){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.I(i,s,h),d),c)),this.AddUnsigned(this.RotateLeft(t,n),i)},t.ConvertToWordArray=function(t){for(var i,s=t.length,h=s+8,d=16*((h-h%64)/64+1),n=Array(d-1),c=0,a=0;a<s;)c=a%4*8,n[i=(a-a%4)/4]=n[i]|t.charCodeAt(a)<<c,a++;return c=a%4*8,n[i=(a-a%4)/4]=n[i]|128<<c,n[d-2]=s<<3,n[d-1]=s>>>29,n},t.WordToHex=function(t){var i,s="",h="";for(i=0;i<=3;i++)s+=(h="0"+(t>>>8*i&255).toString(16)).substr(h.length-2,2);return s},t.Utf8Encode=function(t){var i,s="";t=t.replace(/\r\n/g,"\n");for(var h=0;h<t.length;h++)(i=t.charCodeAt(h))<128?s+=String.fromCharCode(i):i>127&&i<2048?(s+=String.fromCharCode(i>>6|192),s+=String.fromCharCode(63&i|128)):(s+=String.fromCharCode(i>>12|224),s+=String.fromCharCode(i>>6&63|128),s+=String.fromCharCode(63&i|128));return s},t.init=function(t){for("string"!=typeof t&&(t=JSON.stringify(t)),this._string=this.Utf8Encode(t),this.x=this.ConvertToWordArray(this._string),this.a=1732584193,this.b=4023233417,this.c=2562383102,this.d=271733878,this.k=0;this.k<this.x.length;this.k+=16)this.AA=this.a,this.BB=this.b,this.CC=this.c,this.DD=this.d,this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k],this.S11,3614090360),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+1],this.S12,3905402710),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S13,606105819),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+3],this.S14,3250441966),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S11,4118548399),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+5],this.S12,1200080426),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S13,2821735955),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+7],this.S14,4249261313),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S11,1770035416),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+9],this.S12,2336552879),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S13,4294925233),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+11],this.S14,2304563134),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S11,1804603682),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+13],this.S12,4254626195),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S13,2792965006),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+15],this.S14,1236535329),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S21,4129170786),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+6],this.S22,3225465664),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S23,643717713),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k],this.S24,3921069994),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S21,3593408605),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+10],this.S22,38016083),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S23,3634488961),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+4],this.S24,3889429448),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S21,568446438),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+14],this.S22,3275163606),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S23,4107603335),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+8],this.S24,1163531501),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S21,2850285829),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+2],this.S22,4243563512),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S23,1735328473),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+12],this.S24,2368359562),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S31,4294588738),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+8],this.S32,2272392833),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S33,1839030562),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+14],this.S34,4259657740),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S31,2763975236),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+4],this.S32,1272893353),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S33,4139469664),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+10],this.S34,3200236656),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S31,681279174),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k],this.S32,3936430074),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S33,3572445317),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+6],this.S34,76029189),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S31,3654602809),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+12],this.S32,3873151461),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S33,530742520),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+2],this.S34,3299628645),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k],this.S41,4096336452),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+7],this.S42,1126891415),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S43,2878612391),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+5],this.S44,4237533241),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S41,1700485571),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+3],this.S42,2399980690),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S43,4293915773),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+1],this.S44,2240044497),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S41,1873313359),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+15],this.S42,4264355552),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S43,2734768916),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+13],this.S44,1309151649),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S41,4149444226),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+11],this.S42,3174756917),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S43,718787259),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+9],this.S44,3951481745),this.a=this.AddUnsigned(this.a,this.AA),this.b=this.AddUnsigned(this.b,this.BB),this.c=this.AddUnsigned(this.c,this.CC),this.d=this.AddUnsigned(this.d,this.DD);return(this.WordToHex(this.a)+this.WordToHex(this.b)+this.WordToHex(this.c)+this.WordToHex(this.d)).toLowerCase()},t}());s._string=void 0,s.x=Array(),s.k=void 0,s.AA=void 0,s.BB=void 0,s.CC=void 0,s.DD=void 0,s.a=void 0,s.b=void 0,s.c=void 0,s.d=void 0,s.S11=7,s.S12=12,s.S13=17,s.S14=22,s.S21=5,s.S22=9,s.S23=14,s.S24=20,s.S31=4,s.S32=11,s.S33=16,s.S34=23,s.S41=6,s.S42=10,s.S43=15,s.S44=21,s.RotateLeft=function(t,i){return t<<i|t>>>32-i},s.F=function(t,i,s){return t&i|~t&s},s.G=function(t,i,s){return t&s|i&~s},s.H=function(t,i,s){return t^i^s},s.I=function(t,i,s){return i^(t|~s)};t("md5",new s);i._RF.pop()}}}));

System.register("chunks:///_virtual/Pop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopGame.ts","./PopRes.ts","./PopEffect.ts","./PopGrid.ts","./PopMagic.ts","./PopUI.ts","./PopHelper.ts"],(function(e){var i,t,n,r,o,l,p,u,a,c,f,g,s,P;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,p=e.Component},function(e){u=e.PopGame},function(e){a=e.PopRes},function(e){c=e.PopEffect},function(e){f=e.PopGrid},function(e){g=e.PopMagic},function(e){s=e.PopUI},function(e){P=e.PopHelper}],execute:function(){var b,h,m,y,d,z,v,w,G,I,M,R,E,H,U,_,D,L;o._RF.push({},"55a2czOv01B+r0fygcjhv20","Pop",void 0);var j=l.ccclass,x=l.property,B=l.executeInEditMode;e("Pop",(b=j("Pop"),h=B(!0),m=x(u),y=x(a),d=x(s),z=x(P),v=x(c),w=x(f),G=x(g),b(I=h((R=i((M=function(i){function o(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return e=i.call.apply(i,[this].concat(o))||this,n(e,"game",R,r(e)),n(e,"res",E,r(e)),n(e,"ui",H,r(e)),n(e,"helper",U,r(e)),n(e,"effect",_,r(e)),n(e,"grid",D,r(e)),n(e,"magic",L,r(e)),e}return t(o,i),o.prototype.onLoad=function(){e("gPop",this),e("gPopGame",this.game),e("gPopRes",this.res),e("gPopUI",this.ui),e("gPopHelper",this.helper),e("gPopEffect",this.effect),e("gPopGrid",this.grid),e("gPopMagic",this.magic)},o}(p)).prototype,"game",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(M.prototype,"res",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(M.prototype,"ui",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(M.prototype,"helper",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(M.prototype,"effect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(M.prototype,"grid",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(M.prototype,"magic",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=M))||I)||I)),e("gPop",null),e("gPopGame",null),e("gPopRes",null),e("gPopUI",null),e("gPopHelper",null),e("gPopEffect",null),e("gPopGrid",null),e("gPopMagic",null);o._RF.pop()}}}));

System.register("chunks:///_virtual/PopCommon.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){function o(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=t[e];("string"!=typeof o||o.trim().length<=0)&&isNaN(Number(e))&&(t[e]=e)}}e._RF.push({},"92addg0IJ9AP7TL7KxkOHEl","PopCommon",void 0),o(t("PopStatus",function(t){return t.init="",t.ready="",t.playing="",t.paused="",t.end="",t.retry="",t.passed="",t.failed="",t}({}))),o(t("PopMagicId",function(t){return t.bomb="",t.color="",t.shuffle="",t}({})));t("PopGemType",{Empty:0,Min:1,Max:5}),t("PopGemColors",["#FFFFFF","#30FF30","#FC5050","#00B8FF","#EF30FF","#FFFF30"]);e._RF.pop()}}}));

System.register("chunks:///_virtual/PopConfirmDialogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,l,s,c,a,u,f,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Toggle,c=t.Button,a=t.v3,u=t.tween,f=t.Sprite,h=t.Component}],execute:function(){var p,g,C,d,m,b,y;r._RF.push({},"a573dU0kNJENZCosiQKFj/T","PopConfirmDialogUI",void 0);var K=l.ccclass,v=l.property;t("PopConfirmDialogUI",(p=K("PopConfirmDialogUI"),g=v(s),C=v(c),p((b=n((m=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=t.call.apply(t,[this].concat(r))||this,e(n,"toggleConfirm",b,i(n)),e(n,"buttonOK",y,i(n)),n.funcOK=null,n.funcClose=null,n}o(n,t);var r=n.prototype;return r.setParams=function(t,n){this.funcOK=t,this.funcClose=n},r.start=function(){this.updateButton(),this.show()},r.show=function(){var t=this.node.getChildByName("Panel");t.setScale(a(0,0,1)),u(t).to(.1,{scale:a(1,1,1)}).start()},r.close=function(){var t=this,n=this.node.getChildByName("Panel");u(n).to(.1,{scale:a(0,0,1)}).call((function(){t.node.destroy()})).start()},r.updateButton=function(){this.buttonOK.interactable=this.toggleConfirm.isChecked,this.buttonOK.getComponent(f).grayscale=!this.buttonOK.interactable},r.onToggleClick=function(){this.updateButton()},r.onOKClick=function(){this.funcOK&&this.funcOK(),this.close()},r.onCloseClick=function(){this.funcClose&&this.funcClose(),this.close()},n}(h)).prototype,"toggleConfirm",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(m.prototype,"buttonOK",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./Utils.ts","./PopCommon.ts","./Config.ts","./AppData.ts"],(function(t){var e,a,r,n,o,c,i,u,g,s,h,l,f;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator,n=t.log,o=t.randomRangeInt,c=t.js,i=t.warn,u=t.Component},function(t){g=t.VM},function(t){s=t.Utils},function(t){h=t.PopStatus},function(t){l=t.Config},function(t){f=t.gAppData}],execute:function(){var d,S;a._RF.push({},"1bb6bKJHaVKTaqgLQDuNsXE","PopData",void 0);var m=r.ccclass,p=(r.property,[{id:"bomb",count:5,max:5,price:2,name:"BOMB"},{id:"color",count:5,max:5,price:2,name:"COLOR SWITCHER"},{id:"shuffle",count:5,max:5,price:1,name:"SHUFFLE"}]),v=[{id:"1",gemTypeCount:5,target:1e3},{id:"2",gemTypeCount:4,target:1500},{id:"3",gemTypeCount:4,target:2e3},{id:"4",gemTypeCount:5,target:2e3},{id:"5",gemTypeCount:5,target:2500},{id:"6",gemTypeCount:5,target:3e3},{id:"7",gemTypeCount:4,target:3e3},{id:"8",gemTypeCount:4,target:3e3},{id:"9",gemTypeCount:5,target:3500},{id:"10",gemTypeCount:3,target:4e3},{id:"11",gemTypeCount:5,target:4500},{id:"12",gemTypeCount:4,target:5e3},{id:"13",gemTypeCount:5,target:4500},{id:"14",gemTypeCount:5,target:4e3},{id:"15",gemTypeCount:5,target:3500}],C=function(){this.version=l.version,this.curStage=0,this.bestStage=0,this.basicScore=0,this.curScore=0,this.targetScore=1e3,this.highScore=0,this.status=h.init,this.row=10,this.col=10,this.arrGems=[],this.magicQuota=5,this.magics=[{id:"bomb",count:5},{id:"color",count:5},{id:"shuffle",count:5}],this.consecutiveWins=0,this.consecutiveFails=0,this.doubleClickModeOn=!1},M=t("gPopData",new C),T="gPopData",D="PopDataV2",b=(t("PopDataCtl",m("PopDataCtl")(((S=function(a){function r(){return a.apply(this,arguments)||this}e(r,a);var u=r.prototype;return u.onLoad=function(){n("PopDataCtl.onLoad()"),b||(b=t("gPopDataCtl",this),this.loadData(),this.bindVM())},u.bindVM=function(){var t=this;g.add(M,T,!0),g.bindPath(T,(function(e,a,r){t.scheduleOnce((function(){t.saveData()}))}),this)},u.loadData=function(){var t="PopData",e=localStorage.getItem(t);if(e&&e.length>0)return n("Loading previous data of PopData, "+e),s.loadObject(t,M),M.curStage>0&&(M.curScore=this.getTargetScore(M.curStage-1),M.basicScore=M.curScore,M.status=h.init,this.saveData()),void localStorage.removeItem(t);s.loadObject(D,M)},u.saveData=function(){s.saveObject(D,M)},u.prepare=function(){switch(M.status){case h.retry:M.curScore=M.basicScore;break;case h.passed:M.curStage+=1,M.bestStage=Math.max(M.curStage,M.bestStage),M.status=h.init;break;case h.failed:M.curStage=Math.max(0,M.curStage-1),M.curScore=M.curStage>0?this.getTargetScore(M.curStage-1):0,M.status=h.init}h.init!=M.status&&h.retry!=M.status||(h.init==M.status&&(M.basicScore=M.curScore,M.targetScore=this.getTargetScore(M.curStage)),M.arrGems=this.generateGems(),M.status=h.ready,M.magicQuota=this.getMagicMaxInCurrentStage(M.curStage)),console.log("DataPop:",JSON.stringify(M))},u.generateGems=function(t){var e=[1,2,3,4,5],a=.01,r=M.targetScore-M.curScore;M.curStage>0&&(a=r>=5e3?100:r>=4e3?80:r>=3e3?50:20,o(0,100)<a&&e.splice(Math.floor(Math.random()*e.length),1)[0]);for(var n=[],c=0;c<100;c++)n[c]=e[Math.floor(Math.random()*e.length)];return n},u.generateGems_org=function(t){var e=[1,2,3,4,5],a=.01;M.targetScore-M.curScore<=1e3?a=10:M.targetScore-M.curScore<=1500?a=20:M.targetScore-M.curScore<=2e3?a=50:M.targetScore-M.curScore<=3e3?a=60:M.targetScore-M.curScore<=4e3?a=80:M.targetScore-M.curScore<=5e3&&(a=100),f.launchCount<3&&0==M.curStage&&(a=100),M.consecutiveFails>=5&&(a+=M.consecutiveFails),o(0,100)<a&&e.splice(Math.floor(Math.random()*e.length),1);for(var r=[],n=0;n<100;n++)r[n]=e[Math.floor(Math.random()*e.length)];return r},u.resetData=function(){var t=new C;s.saveObject(D,t),this.loadData()},u.addScore=function(t){M.curScore+=t},u.setStatus=function(t){M.status=t},u.getTargetScore=function(t){var e=t,a=0,r=[1e3,3e3,6e3,9e3,13e3,16e3,2e4,23e3,27e3,32e3],n=[3e3,4e3,5e3,3e3,4e3,5e3,4e3,5e3,5e3,5e3],o=0;if(n.forEach((function(t){o+=t})),e<r.length)a=r[e];else{for(var c=r[r.length-1]+Math.floor((e-r.length)/r.length)*o,i=e%n.length,u=0;u<i+1;u++)c+=n[u];a=c}return a},u.getTargetScore2=function(t){var e=0,a=[1e3,3e3,6e3,8e3,1e4,13e3,15e3,17e3,2e4,24e3];if(t<a.length)e=a[t];else{var r=Math.floor(M.curScore/1e3),n=M.curScore<20?2:3;e=1e3*r+1e3*o(n,6)}return e},u.getTargetScore_org=function(t){var e=[1e3,3e3,6e3,8e3,1e4,13e3,15e3,17e3,2e4,24e3];return t<e.length?e[t]:e[e.length-1]+4e3*(t-(e.length-1))},u.getTargetScore2_=function(t){for(var e=[],a=0,r=t,n=0;n<v.length;n++){var o=v[n];e[n]=o.target,n>0&&(e[n]=o.target+e[n-1])}if(r<e.length)a=e[r],v[r].gemTypeCount;else{var c=[3e3,3500,4e3,4500,5e3,4500,4e3,3500],i=(r-e.length)%c.length,u=0;c.forEach((function(t){u+=t}));var g=Math.floor((r-(e.length-1))/(c.length+1e-4));a=e[e.length-1]+g*u;for(var s=0;s<c.length;s++){c[s];i>=s&&(a+=c[s])}}return a},u.getMagicMaxInCurrentStage=function(t){for(var e=5,a=[10,20,30,40,50,60,70,80,90,100,150,200,300,400,500,1e3,1e4],r=0;r<a.length;r++){if(!(t>=a[r]))break;e+=1}return e},u.getMagicInfo=function(t){n(c.getClassName(this)+".getMagicInfo()");var e=p.find((function(e,a,r){return e.id==t}));if(e){var a=M.magics.find((function(e,a,r){return e.id==t}));return a||i("!magicUser"),e.count=a.count,e}console.warn("getMagicInfo(), can't find magic id:",t)},u.getMagicCount=function(t){var e=0,a=M.magics.find((function(e,a,r){return e.id==t}));return a&&(e=a.count),e},u.useMagic=function(t){var e=M.magics.find((function(e,a,r){return e.id==t}));return!!(e&&e.count>0)&&(e.count--,M.magicQuota--,this.node.emit(r.EVT_MAGIC_CHANGED),!0)},u.addMagic=function(t,e){var a=M.magics.find((function(e,a,r){return e.id==t}));return!!a&&(a.count+=e,this.node.emit(r.EVT_MAGIC_CHANGED),!0)},r}(u)).EVT_MAGIC_CHANGED="EVT_MAGIC_CHANGED",d=S))||d),t("gPopDataCtl",null));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./AppAudioSounds.ts","./App.ts"],(function(e){var o,t,n,i,a,r,l,c,s,p,d,u,f,g,y,S,h,m,b,v,w,C,P,G;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.Label,s=e.v3,p=e.instantiate,d=e.ParticleSystem2D,u=e.tween,f=e.UIOpacity,g=e.log,y=e.UITransform,S=e.easing,h=e.Widget,m=e.Component},function(e){b=e.gPopGame,v=e.gPopRes,w=e.gPopGrid},function(e){C=e.SND},function(e){P=e.gAppAudio,G=e.gAppLayoutHelper}],execute:function(){var E,N,H,x,J,z,A,I,O,R,D,L,F,B,T,W,_,k,j;a._RF.push({},"76b38yImcJD0KXNWpjHw0Ay","PopEffect",void 0);var U=r.ccclass,V=r.property;e("PopEffect",(E=U("PopEffect"),N=V(l),H=V(l),x=V(c),J=V(c),z=V(l),A=V(l),I=V(l),O=V(l),E((L=o((D=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return o=e.call.apply(e,[this].concat(a))||this,n(o,"nodeParticleEraseGem",L,i(o)),n(o,"nodeParticleColorSwitch",F,i(o)),n(o,"labelSingleScore",B,i(o)),n(o,"labelSumScore",T,i(o)),n(o,"nodeGoodJobSamples",W,i(o)),n(o,"nodeGoodJobContainer",_,i(o)),n(o,"nodeComboSample",k,i(o)),n(o,"nodeNewHighScore",j,i(o)),o}t(o,e);var a=o.prototype;return a.onLoad=function(){this.nodeGoodJobSamples.active=!1},a.start=function(){},a.playEraseItemEffect=function(e,o){var t=s(e),n=p(this.nodeParticleEraseGem);n.parent=this.node,n.active=!0,n.worldPosition=t;var i=n.getComponent(d);i&&(i.startColor=o,i.endColor=o,i.autoRemoveOnFinish=!0,i.resetSystem())},a.playItemScoreEffect=function(e,o){var t=s(e);this.labelSingleScore.string=o.toString();var n=p(this.labelSingleScore.node);n.parent=this.node,n.active=!0,n.worldPosition=t;var i=b.labelCurScore.node.worldPosition;u(n).by(.3,{worldPosition:s(0,10,0)}).to(.38,{worldPosition:i,scale:s(.5,.5,1)}).call((function(){b.addScore(o),n.destroy()})).start()},a.playSumScoreEffect=function(e,o){var t=s(e);this.labelSumScore.string=o.toString();var n=p(this.labelSumScore.node);n.parent=this.node,n.active=!0,t.y+=50,n.setWorldPosition(t);var i=s(n.position);i.x<-260?i.x=-260:i.x>260&&(i.x=260),n.setPosition(i),u(n).set({scale:s(.001,.001)}).to(.2,{scale:s(1,1)}).by(1.5,{position:s(0,60,0)}).call((function(){u(n.getComponent(f)).to(.2,{opacity:0}).start()})).to(.3,{scale:s(.001,.001)}).removeSelf().start()},a.playGoodJobEffect=function(e){var o=[7,10,15,25,30];if(e>=o[0]){for(var t=o.length-1;t>=0&&!(e>=o[t]);t--);var n=p(this.nodeGoodJobSamples.getChildByName("GoodJob"+(t+1)));n.parent=this.nodeGoodJobContainer,n.setScale(3,3),u(n).to(.2,{scale:s(1,1)},{easing:"backIn"}).call((function(){u(n.getComponent(f)).to(.05,{opacity:0}).to(.05,{opacity:255}).union().repeat(3*t).delay(1.5).to(t<4?.5:2,{opacity:0}).start()})).delay(t<4?2.6:5).removeSelf().start(),C.GoodJobs.length>0&&t<C.GoodJobs.length&&P.playSound(C.GoodJobs[t])}},a.playComboEffect=function(e,o){var t=this,n=200,i=s(e),a=p(this.nodeComboSample),r=a.getChildByName("LabelComboValue").getComponent(c);r.string="7",a.parent=this.node,a.active=!0,a.setWorldPosition(i);var l=s(a.position);l.x<-200?l.x=-200:l.x>n&&(l.x=n),a.setPosition(l);for(var d=function(e){t.scheduleOnce((function(){r.string=""+(e+1),u(r.node).to(.1,{scale:s(1.2,1.2,1.2)}).to(.1,{scale:s(1,1,1)}).start()}),.1*e)},f=0;f<o;f++)d(f);u(a).set({scale:s(.001,.001)}).to(.2,{scale:s(1,1)}).delay(.1*o+2).removeSelf().start()},a.playExposeGemEffect=function(e){var o=s(e),t=p(v.ParticleExposeGem);t.parent=this.node,t.active=!0,t.worldPosition=o,t.getComponent(d).autoRemoveOnFinish=!0,P.playSound(C.Bomb)},a.playColorSwitcherEffect=function(e){var o=s(e),t=p(this.nodeParticleColorSwitch);t.parent=this.node,t.active=!0,t.worldPosition=o,t.getComponent(d).autoRemoveOnFinish=!0,P.playSound(C.ReplaceGem)},a.playTargetClearEffect=function(){b.targetCleared.active=!0;var e=s(b.targetCleared.worldPosition),o=s(b.targetCleared.scale);g("scaleOrg:"+o.toString());var t=b.targetCleared;t.getComponent(f).opacity=0;var n=p(b.targetCleared);n.getComponent(f).opacity=255,n.parent=this.node,n.active=!0;var i=w.node.worldPosition.x,a=w.node.worldPosition.y+(320-1.5*n.getComponent(y).height);n.worldPosition=s(i,a,0),n.setScale(3*o.x,3*o.y),u(n).to(.2,{scale:s(1.5*o.x,1.5*o.y)},{easing:"backIn"}).call((function(){u(n.getComponent(f)).to(.1,{opacity:0}).to(.1,{opacity:255}).union().repeat(3).delay(1.5).start()})).delay(1.5).to(.5,{worldPosition:e,scale:o},{easing:S.circOut}).call((function(){t.getComponent(f).opacity=255,t.setScale(o),n.destroy()})).start(),P.playSound(C.TargetClear)},a.playNewHighScoreEffect=function(){var e=this;if(!this.nodeNewHighScore.active){this.nodeNewHighScore.active=!0;var o=this.nodeNewHighScore.worldPosition;this.scheduleOnce((function(){e.nodeNewHighScore.worldPosition=o;var t=e.nodeNewHighScore.getComponent(h),n=e.nodeNewHighScore.getComponent(y),i=G.getSafeArea();u(t).to(.3,{top:i.y}).delay(2).to(.3,{top:-(n.height+i.y)}).call((function(){e.nodeNewHighScore.active=!1,u(b.labelHighScoreValue.node).hide().delay(.2).show().delay(.1).union().repeat(3).start()})).start(),P.playSound(C.NewHighScore)}))}},o}(m)).prototype,"nodeParticleEraseGem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=o(D.prototype,"nodeParticleColorSwitch",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=o(D.prototype,"labelSingleScore",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=o(D.prototype,"labelSumScore",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=o(D.prototype,"nodeGoodJobSamples",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=o(D.prototype,"nodeGoodJobContainer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=o(D.prototype,"nodeComboSample",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=o(D.prototype,"nodeNewHighScore",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=D))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppLayout.ts","./PopData.ts","./Pop.ts","./PopCommon.ts","./App.ts","./Common.ts"],(function(e){var t,r,a,i,o,l,n,u,c,p,s,g,b,f,y,S,h,m,d,w,C,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,n=e.Label,u=e.Node,c=e.tween,p=e.UIOpacity,s=e.v3,g=e.Component},function(e){b=e.AppLayout},function(e){f=e.gPopDataCtl,y=e.gPopData},function(e){S=e.gPopGrid,h=e.gPopUI,m=e.gPopEffect},function(e){d=e.PopStatus},function(e){w=e.gAppNative,C=e.gAppViewMgr},function(e){P=e.VIEW}],execute:function(){var V,v,z,D,H,F,I,M,N,A,G,E,L,T,_,j,B,R,U,k,x,O,Q,W,Y,q;o._RF.push({},"33ccdPGSHlEMYjmtcS0ijQ3","PopGame",void 0);var J=l.ccclass,K=l.property;e("PopGame",(V=J("PopGame"),v=K(b),z=K(n),D=K(n),H=K(n),F=K(n),I=K(n),M=K(n),N=K(u),A=K(u),G=K(u),E=K(u),V(((q=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,a(t,"layout",_,i(t)),a(t,"labelCurScore",j,i(t)),a(t,"labelHighScoreValue",B,i(t)),a(t,"labelStageValue",R,i(t)),a(t,"labelTargetValue",U,i(t)),a(t,"labelCoinValue",k,i(t)),a(t,"labelCurStarNumber",x,i(t)),a(t,"targetInfo",O,i(t)),a(t,"targetCleared",Q,i(t)),a(t,"stageBg",W,i(t)),a(t,"fg",Y,i(t)),t.curScoreForDisplay=0,t}r(t,e);var o=t.prototype;return o.start=function(){var e=this;f.prepare(),this.labelCurScore.string=""+y.curScore,this.curScoreForDisplay=y.curScore,this.labelStageValue.string=""+(y.curStage+1),this.labelCurStarNumber.string=""+(y.curStage+1),c(this.labelCurStarNumber.getComponent(p)).delay(2).to(1,{opacity:50}).start(),this.fg.active=!0,c(this.fg.getComponent(p)).to(2.5,{opacity:0}).call((function(){e.fg.destroy()})).start(),c(this.layout.getComponent(p)).set({opacity:0}).to(.5,{opacity:255}).start(),S.node.active=!1,d.end==y.status?h.showRetryDialog():h.showStageIntro()},o.addScore=function(e){if(0!=e&&(this.curScoreForDisplay+=e,this.labelCurScore.string=this.curScoreForDisplay.toString(),c(this.labelCurScore.node).to(.1,{scale:s(1.2,1.2,1.2)}).to(.1,{scale:s(1,1,1)}).start(),!this.targetCleared.active&&this.curScoreForDisplay>=y.targetScore&&(this.targetCleared.active=!0,m.playTargetClearEffect()),t.newHighScoreMade)){var r=parseInt(this.labelHighScoreValue.string);r>0&&this.curScoreForDisplay>r&&(m.playNewHighScoreEffect(),w.reportScore(y.highScore),w.reportMagics(y.bestStage),t.newHighScoreMade=!1)}},o.goHome=function(){C.loadView(P.HomeView)},o.reload=function(){C.loadView(P.PopView)},t}(g)).newHighScoreMade=!1,_=t((T=q).prototype,"layout",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(T.prototype,"labelCurScore",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"labelHighScoreValue",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(T.prototype,"labelStageValue",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"labelTargetValue",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"labelCoinValue",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"labelCurStarNumber",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(T.prototype,"targetInfo",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(T.prototype,"targetCleared",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(T.prototype,"stageBg",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(T.prototype,"fg",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=T))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopGameHelpUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts"],(function(e){var t,n,i,r,o,l,a,c,s,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.TextAsset,c=e.RichText,s=e.Node,p=e.Component},function(e){u=e.gAppHelper}],execute:function(){var f,h,b,g,y,v,d,m,P;o._RF.push({},"80480uUcINHro7WapgyvvZt","PopGameHelpUI",void 0);var x=l.ccclass,A=l.property;e("PopGameHelpUI",(f=x("PopGameHelpUI"),h=A(a),b=A(c),g=A(s),f((d=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"txtAsset",d,r(t)),i(t,"labelContent",m,r(t)),i(t,"loading",P,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;u.showPanel(this),this.scheduleOnce((function(){e.labelContent.string=e.txtAsset.text,e.loading.active=!1}),.2)},o.onCloseClick=function(){u.closePanel(this)},t}(p)).prototype,"txtAsset",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(v.prototype,"labelContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"loading",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopGameOverUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./AppAudioSounds.ts"],(function(e){var t,o,n,i,r,s,a,l,c,u,p,d,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,l=e.Layout,c=e.view,u=e.Component,p=e.v3,d=e.tween},function(e){f=e.gAppAudio},function(e){h=e.SND}],execute:function(){var v,y,g,E,O,P;r._RF.push({},"d213fMps+dKHa8huHw2weox","PopGameOverUI",void 0);var m=s.ccclass,w=s.property;e("PopGameOverUI",(v=m("PopGameOverUI"),y=w(a),v(((P=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"letters",O,i(t)),t.destroyOnClose=!1,t}o(t,e);var r=t.prototype;return r.setParams=function(e){this.node.on(t.EVT_COMPLETE,(function(){e&&e()}))},r.onLoad=function(){this.letters.getComponent(l).enabled=!1},r.start=function(){this.show()},r.show=function(){var e=this,o=c.getVisibleSize().width;console.log("view.getVisibleSize():",o);for(var n=0,i=this.letters.children,r=function(){var r=i[s],a=s;n+=.1;var l=p(r.position);r.setPosition(l.x+o,l.y,l.z),d(r).delay(n).to(.5,{position:l}).delay(1).by(.2,{position:p(0,100,0)}).to(.2,{position:l}).call((function(){a==i.length-1&&e.scheduleOnce((function(){e.node.emit(t.EVT_COMPLETE),e.destroyOnClose&&e.node.destroy()}),1)})).start()},s=0;s<i.length;s++)r();f.playSound(h.GameOver)},t}(u)).EVT_COMPLETE="EVT_COMPLETE",O=t((E=P).prototype,"letters",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=E))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopGem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./PopCommon.ts"],(function(t){var e,i,n,o,s,r,c,l,f,a,h,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Sprite,l=t.tween,f=t.v3,a=t.color,h=t.Component},function(t){p=t.gPop},function(t){u=t.PopGemType}],execute:function(){var g,y,d,b,m,E,w,v,_;s._RF.push({},"72cbcYmy9FEyrEuM0FFumd2","PopGem",void 0);var P=r.ccclass,F=r.property,H=r.executeInEditMode;t("PopGem",(g=P("PopGem"),y=H(!0),d=F(c),b=F(c),g(m=y((w=e((E=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"bg",w,o(e)),n(e,"fg",v,o(e)),n(e,"type",_,o(e)),e._tweenSelectEffect=null,e._tweenHighlightedEffect=null,e}i(e,t);var s=e.prototype;return s.start=function(){},s.updateType=function(){this.type>=0&&(this.bg.spriteFrame=p.res.gemBgs[this.type],this.fg.spriteFrame=p.res.gemFgs[this.type]),this.node.active=!this.isEmpty()},s.isEmpty=function(){return this.type==u.Empty},s.setEmpty=function(){this.type=u.Empty},s.blink=function(){l(this.node).hide().delay(.2).show().delay(.1).union().repeat(3).start()},s.setEditing=function(t){var e=t?f(.9,.9,1):f(1,1,1);l(this.bg.node).to(.1,{scale:e}).start();var i=t?a(180,180,180,255):a(255,255,255,255);this.bg.color=i,this.fg.color=i},s.setHighlighted=function(t){this.bg.node.scale=t?f(1,1,1):f(.9,.9,1),this.bg.color=t?a(255,255,255,255):a(180,180,180,255),this.fg.color=t?a(255,255,255,255):a(180,180,180,255),t?(this._tweenHighlightedEffect&&(this._tweenHighlightedEffect.stop(),this._tweenHighlightedEffect=null),this._tweenHighlightedEffect=l(this.fg.node).to(.3,{scale:f(1.2,1.2,1)}).to(.3,{scale:f(1,1,1)}).union().repeatForever().start()):(this._tweenHighlightedEffect&&(this._tweenHighlightedEffect.stop(),this._tweenHighlightedEffect=null),this.fg.node.scale=f(1,1,1))},s.move=function(t,e){var i=this.node,n=f(i.position),o=f(n),s=0,r=0;l(n).by(.3,{x:t,y:e},{easing:"backIn",onUpdate:function(t,e){i&&i.position&&(s+=i.position.x-o.x,r+=i.position.y-o.y,i.setPosition(t.x+s,t.y+r,n.z),o=f(i.position))}}).start()},s.playSelectEffect=function(){var t=a(this.bg.color);t.a=100,this.bg.color=t,this._tweenSelectEffect=l(this.fg.node).to(1,{angle:360}).set({angle:0}).union().repeatForever().start()},s.stopSelectEffect=function(){this._tweenSelectEffect&&(this._tweenSelectEffect.stop(),this._tweenSelectEffect=null);var t=a(this.bg.color);t.a=255,this.bg.color=t,l(this.fg.node).set({angle:0}).start()},s.onClick=function(){},e}(h)).prototype,"bg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(E.prototype,"fg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(E.prototype,"type",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Empty}}),m=E))||m)||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/PopGlobal.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"824a0DTsh9Fvqp9l82eoVh3","PopGlobal",void 0);var c=e("PopGlobal",(function(){}));c.newBestScoreShowed=!1,c.adClickTime=0,o._RF.pop()}}}));

System.register("chunks:///_virtual/PopGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopGem.ts","./TapAndHold.ts","./Pop.ts","./PopData.ts","./PopCommon.ts","./App.ts","./AppAudioSounds.ts","./PopGame.ts"],(function(e){var t,n,o,i,r,s,a,c,h,l,u,f,d,m,p,g,v,I,E,y,S,P,T,b,C;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.v3,r=e.Node,s=e.log,a=e.tween,c=e.randomRangeInt,h=e.js,l=e.easing,u=e.Component,f=e.color},function(e){d=e.PopGem},function(e){m=e.default},function(e){p=e.gPop,g=e.gPopEffect,v=e.gPopUI},function(e){I=e.gPopData},function(e){E=e.PopStatus,y=e.PopGemType,S=e.PopGemColors},function(e){P=e.gAppLayoutHelper,T=e.gAppAudio},function(e){b=e.SND},function(e){C=e.PopGame}],execute:function(){var G,O;n._RF.push({},"400de14GE5PR4BrXkgR/lEl","PopGrid",void 0);var x=o.ccclass,w=(o.property,10),A=10;e("PopGrid",x("PopGrid")(((O=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).arrPositions=[],t.arrItems=[],t.arrSelectedItems=[],t.isEditing=!1,t.interactable=!1,t}t(n,e);var o=n.prototype;return o.start=function(){for(var e=this,t=0;t<this.node.children.length;t++){this.arrPositions[t]=i(this.node.children[t].position);var n=this.node.children[t].getComponent(d);n.node.active=!1,this.arrItems[t]=n}this.scheduleOnce((function(){e.fromData(I.arrGems);var t=e.showUp();e.scheduleOnce((function(){e.isConnectable()?(e.arrItems.forEach((function(t){t.node.on(r.EventType.TOUCH_START,e.onItemTouchStart,e),t.node.on(r.EventType.TOUCH_END,e.onItemTouchEnd,e),t.node.on(m.EVT_TAP_AND_HOLD,e.onItemTapAndHold,e)})),e.interactable=!0):e.handleGameEnd(t)}),t)}))},o.onItemTouchStart=function(e){console.log("onItemTouchStart()"),(I.doubleClickModeOn||p.helper.isMagicToolBarAvailable())&&this.onItemTouch(e)},o.onItemTapAndHold=function(e,t){s("PopGrid.onItemTapAndHold()"),e.active&&this.deselect()},o.onItemTouchEnd=function(e){console.log("onItemTouchEnd()"),e.propagationImmediateStopped?console.log("evt.evt.propagationImmediateStopped"):I.doubleClickModeOn||p.helper.isMagicToolBarAvailable()||this.onItemTouch(e)},o.onItemTouch=function(e){var t=e.target.getComponent(d);t&&!t.isEmpty()&&(this.isEditing?this.node.emit(n.EVT_ITEM_SELECT,t):this.touchItem(t))},o.selectItems=function(e){this.arrSelectedItems=e,this.arrSelectedItems.forEach((function(e){e.playSelectEffect()}))},o.deselect=function(){this.arrSelectedItems.forEach((function(e){e.stopSelectEffect()})),this.arrSelectedItems=[]},o.touchItem=function(e){var t=this.arrItems.indexOf(e);if(t>=0&&t<this.arrItems.length)if(this.arrSelectedItems.length>0&&this.arrSelectedItems.indexOf(e)>=0){var n=this.arrSelectedItems.slice(0);this.eraseItems(n),this.arrSelectedItems=[]}else{this.deselect();var o=[];this.findConnectableAtIndex(t,o),o.length>=2&&(this.selectItems(o),I.doubleClickModeOn||this.touchItem(e))}},o.eraseItems=function(e){for(var t=this,n=5*e.length,o=e.length*n,i=0,r=function(){var r=e[s],a=f(S[r.type]);r.setEmpty(),t.scheduleOnce((function(){r.updateType(),p.effect.playEraseItemEffect(r.node.worldPosition,a),b.Combos.length>0&&T.playSound(b.PopStar),p.effect.playItemScoreEffect(r.node.worldPosition,n)}),i),s==e.length-1&&t.scheduleOnce((function(){g.playSumScoreEffect(r.node.worldPosition,o),g.playGoodJobEffect(e.length)}),i),e.length>=7&&0==s&&t.scheduleOnce((function(){g.playComboEffect(e[0].node.worldPosition,e.length)}),i),i+=.1},s=0;s<e.length;s++)r();i+=this.arrangeItems(i);var a=I;a.curScore+=o,a.arrGems=this.toData(),this.isConnectable()||this.handleGameEnd(i)},o.replaceItem=function(e,t){if(e){e.type=t,I.arrGems=this.toData();var n=i(e.node.worldPosition);g.playColorSwitcherEffect(n),this.scheduleOnce((function(){e.updateType()}),.38)}},o.index2Pos=function(e){return this.arrPositions[e]},o.fromData=function(e){if(e.length==this.arrItems.length)for(var t=0;t<this.arrItems.length;t++){this.arrItems[t].type=e[t]}else console.warn("arr.length != this.arrItems.length")},o.toData=function(){for(var e=[],t=0;t<this.arrItems.length;t++)e[t]=this.arrItems[t].type;return e},o.showUp=function(){this.arrItems.forEach((function(e){e.node.active=!0,e.updateType()}));for(var e=0,t=0,n=0;n<this.arrItems.length;n++){var o=this.arrItems[n],r=Math.floor(n/A),s=n%A,c=i(o.node.position),h=i(c);h.y+=P.canvasSize.height,t=.1*(w-r-1)+.5*Math.random(),e=Math.max(t,e);var l=r==s&&o.type>0?function(){T.playSound(b.MoveDown)}:function(){};o.node.setPosition(h),a(o.node).delay(t).to(.5,{position:c},{easing:"sineIn"}).call(l).start()}return e+.5},o.findConnectableAtIndex=function(e,t){var n=Math.floor(e/A),o=e%A,i=this.arrItems;if(e>=0&&e<i.length){var r=i[e];if(r&&r.type>0){0==t.length&&t.push(r);for(var s=[n-1<0?-1:(n-1)*A+o,n+1>=w?-1:(n+1)*A+o,o-1<0?-1:n*A+(o-1),o+1>=A?-1:n*A+o+1],a=0;a<s.length;a++){var c=s[a];if(c>=0&&c<i.length){var h=i[c];r.type==h.type&&t.indexOf(h)<0&&(t.push(h),this.findConnectableAtIndex(c,t))}}}}},o.isConnectable=function(){for(var e=!1,t=this.arrItems.length-1;t>=0;t--){var n=[];if(this.findConnectableAtIndex(t,n),n.length>1){e=!0;break}}return e},o.moveItem=function(e,t,n){var o=this.index2Pos(t),i=this.index2Pos(n);e.move(i.x-o.x,i.y-o.y)},o.arrangeItems=function(e){for(var t=this,n=0,o=this.arrItems,i=!1,r=0;r<w;r++)for(var s=function(){var s=a*A+r,c=o[s];if(c&&0==c.type)for(var h=function(){var a=l*A+r,h=o[a];if(h&&h.type>0)return o[a]=c,o[s]=h,t.scheduleOnce((function(){c.node.active=!1,t.moveItem(h,a,s)}),e+n),i=!0,"break"},l=a-1;l>=0;l--){if("break"===h())break}},a=9;a>=0;a--)s();n=i?n+.3:n,i&&this.scheduleOnce((function(){T.playSound(b.MoveDown)}),e+n);for(var c=!1,h=0;h<A;h++){var l=o[90+h];if(l&&0==l.type)for(var u=h+1;u<A;u++){var f=o[90+u];if(f&&f.type>0){for(var d=function(){var i=m*A+h,r=m*A+u,s=o[i],a=o[r];o[r]=s,o[i]=a,t.scheduleOnce((function(){s.node.active=!1,t.moveItem(a,r,i)}),e+n),c=!0},m=9;m>=0;m--)d();break}}}return n=c?n+.3:n,c&&this.scheduleOnce((function(){T.playSound(b.MoveDown2)}),e+n),n},o.calcBonus=function(){var e=2e3;return e=(e-=200*this.getRemainingGems().length)>=0?e:0},o.handleGameEnd=function(e){e+=this.blink(e),e+=this.showResult(e);var t=I;t.curScore+=this.calcBonus(),t.curScore>=t.targetScore?(t.status=E.passed,t.consecutiveWins++,t.consecutiveFails=0):(t.status=E.end,t.consecutiveWins=0,t.consecutiveFails++,t.curScore>t.highScore&&(t.highScore=t.curScore,C.newHighScoreMade=!0))},o.blink=function(e){var t=this;return this.scheduleOnce((function(){for(var e=0;e<t.arrItems.length;e++){t.arrItems[e].blink()}T.playSound(b.LevelEnd)}),e),1},o.showResult=function(e){return this.scheduleOnce((function(){v.showResult()}),e),1},o.eraseRemainingItems=function(e,t){for(var n=this,o=0,i=this.getRemainingGems(),r=function(r){var s=i[r],a=r,c=f(S[s.type]);s.setEmpty(),n.scheduleOnce((function(){s.updateType(),g.playEraseItemEffect(s.node.worldPosition,c),a<10?T.playSound(b.CalcRemaining):10==r&&T.playSound(b.CalcRemainingEnd),t(s,i)}),e+o),o=r<9?o+.2:o,o=9==r?o+.8:o},s=0;s<i.length;s++)r(s);return o},o.getRemainingGems=function(){for(var e=[],t=0;t<this.arrItems.length;t++){var n=this.arrItems[t];n.type!=y.Empty&&e.push(n)}return e},o.autoErase=function(){var e=this;if(this.interactable){var t=c(0,this.arrItems.length),n=t;do{var o=[];if(this.findConnectableAtIndex(n,o),o.length>1){this.eraseItems(o),this.scheduleOnce((function(){e.autoErase()}),.1*o.length);break}n=(n+1)%this.arrItems.length}while(n!=t)}},o.exposeGem=function(e){for(var t=this.arrItems,n=t[e],o=A,i=Math.floor(e/o),r=e%o,s=[i-1<0?-1:(i-1)*o+r,i+1>=10?-1:(i+1)*o+r,r-1<0?-1:i*o+(r-1),r+1>=o?-1:i*o+r+1],a=[n],c=0;c<s.length;c++){var h=s[c];if(h>=0&&h<t.length){var l=t[h];l.type!=y.Empty&&a.push(l)}}g.playExposeGemEffect(n.node.worldPosition),this.eraseItems(a)},o.setEditing=function(e){this.isEditing=e;for(var t=0;t<this.arrItems.length;t++){this.arrItems[t].setEditing(e)}},o.shuffle=function(){console.log(h.getClassName(this)+" shuffle()");var e=l.smooth;s("easing:"+e.toString());for(var t=!1,n=this.arrItems,o=this.getRemainingGems();o.length>=2;){var i=c(0,o.length),r=o.splice(i,1)[0],u=c(0,o.length),f=o.splice(u,1)[0],d=n.indexOf(r),m=n.indexOf(f);n[d]=f,n[m]=r;var p=this.index2Pos(d),g=this.index2Pos(m);a(r.node).to(.5,{position:g},{easing:e}).start(),a(f.node).to(.5,{position:p},{easing:e}).start(),t||(t=!0)}return I.arrGems=this.toData(),T.playSound(b.Shuffle),t},n}(u)).EVT_ITEM_SELECT="EVT_ITEM_SELECT",O.iRandIndex=0,G=O))||G);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,o,n;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,n=e.Component}],execute:function(){var c;t._RF.push({},"f40bbfLtyRCgqHPnf5PYoW/","PopHelper",void 0);var p=o.ccclass;o.property,e("PopHelper",p("PopHelper")(c=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var o=t.prototype;return o.start=function(){},o.isMagicToolBarAvailable=function(){return!0},t}(n))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/PopInterstitialUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./App.ts"],(function(t){var e,o,n,i,r,a,s,l,c,u,p,h,g,f,m,d,y,b,C,v,w,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.warn,c=t.log,u=t.js,p=t.find,h=t.Camera,g=t.UIOpacity,f=t.tween,m=t.v3,d=t.ParticleSystem2D,y=t.UITransform,b=t.easing,C=t.Component},function(t){v=t.gPop,w=t.gPopGame},function(t){I=t.gAppAdHelper}],execute:function(){var k,P,z,D,T,F,U,x,H,O,R,A,B,L,_,M,N,S,j,G,E,J;r._RF.push({},"61b3alC5KJFZr4FMC/fe0MG","PopInterstitialUI",void 0);var K=a.ccclass,Z=a.property;t("PopInterstitialUI",(k=K("PopInterstitialUI"),P=Z(s),z=Z(s),D=Z(s),T=Z(s),F=Z(s),U=Z(s),x=Z(s),H=Z(s),O=Z(s),k(((J=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).levelDelta=1,e.bFinished=!1,e.orthoHeightOrg=480,e.camera=null,n(e,"container",B,i(e)),n(e,"containerBg",L,i(e)),n(e,"bgUp",_,i(e)),n(e,"bgDown",M,i(e)),n(e,"rocket",N,i(e)),n(e,"prevTarget",S,i(e)),n(e,"curTarget",j,i(e)),n(e,"nextTarget",G,i(e)),n(e,"fg",E,i(e)),e}o(e,t);var r=e.prototype;return r.onLoad=function(){e.loadCount>e.destroyCount&&l("PopInterstitialUI.loadCount > PopInterstitialUI.destroyCount, memory may leaks."),e.loadCount++,c(u.getClassName(this)+".onLoad(), loadCount:"+e.loadCount)},r.onDestroy=function(){e.destroyCount++,c(u.getClassName(this)+".onDestroy(), destroyCount:"+e.destroyCount)},r.start=function(){var t=this;if(this.camera=p("Canvas/Camera").getComponent(h),this.orthoHeightOrg=this.camera.orthoHeight,this.levelDelta<0){var e=p("Stones",v.node);e&&(e.active=!1)}this.container.getComponent(g).opacity=0,f(this.rocket).set({scale:m(.1,.1,1)}).to(1,{scale:m(1,1,1)}).start(),f(this.rocket.getComponent(g)).set({opacity:0}).to(1,{opacity:255}).start(),f(p("Rocket/Particle",this.rocket).getComponent(d)).set({emissionRate:1}).to(2.5,{emissionRate:100}).start(),f(this.curTarget.getComponent(g)).set({opacity:0}).to(2,{opacity:255}).start(),this.scheduleOnce((function(){var e=t.node.getComponent(y),o=t.containerBg.getComponent(y);t.containerBg.children.forEach((function(t){t.getComponent(y).height=e.height})),t.scheduleOnce((function(){t.fg.getComponent(y).height=o.height,t.show()}))}))},r.update=function(t){this.bFinished||(this.camera.node.position=m(this.rocket.position.x,this.rocket.position.y,this.camera.node.position.z))},r.show=function(){var t=this;f(this.container.getComponent(g)).to(.1,{opacity:255}).start(),f(w.layout.getComponent(g)).to(.5,{opacity:0}).start();var e=m(this.rocket.position),o=this.levelDelta>0?this.nextTarget:this.prevTarget;this.rocket.position=m(e.x,0,e.z);var n=p("Rocket",this.rocket),i=p("Particle",n);f(this.rocket).delay(.5).to(1,{worldPosition:m(o.worldPosition)},{easing:b.expoInOut}).call((function(){f(o.getComponent(g)).delay(1.2).to(.2,{opacity:0}).start(),f(n).to(1.2,{scale:m(.5,.5,1)}).start(),f(i.getComponent(d)).to(1.2,{emissionRate:0}).start(),f(t.fg.getComponent(g)).delay(1).to(.3,{opacity:255}).call((function(){})).start(),f(t.rocket.getComponent(g)).to(1.3,{opacity:0}).call((function(){t.onFinished()})).start()})).start()},r.onFinished=function(){this.camera.node.position=m(0,0,this.camera.node.position.z),this.camera.orthoHeight=this.orthoHeightOrg,this.bFinished||(this.bFinished=!0,w.reload(),this.levelDelta<0&&I.showInterstitialAd())},e}(C)).loadCount=0,J.destroyCount=0,B=e((A=J).prototype,"container",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(A.prototype,"containerBg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(A.prototype,"bgUp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(A.prototype,"bgDown",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(A.prototype,"rocket",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(A.prototype,"prevTarget",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(A.prototype,"curTarget",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(A.prototype,"nextTarget",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(A.prototype,"fg",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=A))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopCommon.ts","./Pop.ts","./PopGrid.ts","./PopData.ts","./Common.ts","./App.ts"],(function(e){var t,o,i,n,r,c,s,l,a,h,u,d,g,p,m,f,w,S,M,I,P,b,C,v,E,y,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,s=e.Node,l=e.director,a=e.log,h=e.js,u=e.input,d=e.Input,g=e.KeyCode,p=e.instantiate,m=e.Button,f=e.tween,w=e.v3,S=e.easing,M=e.Component},function(e){I=e.PopMagicId,P=e.PopGemType},function(e){b=e.gPopGrid,C=e.gPopEffect},function(e){v=e.PopGrid},function(e){E=e.gPopDataCtl},function(e){y=e.EVT},function(e){k=e.gAppLayoutHelper}],execute:function(){var T,x,_,G,B,F,K,L,O,z,H,A,N;r._RF.push({},"8b435OtZexET7c1+170Cd6i","PopMagic",void 0);var D=c.ccclass,V=c.property;e("PopMagic",(T=D("PopMagic"),x=V(s),_=V(s),G=V(s),B=V(s),F=V(s),T((O=t((L=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"mask",O,n(t)),i(t,"maskGridFrame",z,n(t)),i(t,"colorSwitcher",H,n(t)),i(t,"iconBomb",A,n(t)),i(t,"iconColor",N,n(t)),t.colorSwitcherPanel=null,t.colorSwitcherPanelColors=null,t.curSelectedItem=null,t.gridFrameOrg=null,t.curMagicId="",t.curMagicIcon=null,t}o(t,e);var r=t.prototype;return r.onLoad=function(){this.colorSwitcherPanel=this.colorSwitcher.getChildByName("Panel"),this.colorSwitcherPanelColors=this.colorSwitcherPanel.getChildByName("Colors"),this.mask.active=!1,this.colorSwitcher.active=!1,this.gridFrameOrg=b.node.parent},r.start=function(){var e=this;this.mask.on(s.EventType.TOUCH_START,this.onMaskTouchStart,this),l.on(y.VIEW_SIZE_CHANGE,(function(t,o,i){a(h.getClassName(e)+"."+y.VIEW_SIZE_CHANGE),e.mask.active&&e.exitEditMode()}),this),u.on(d.EventType.KEY_UP,this.onKeyUp,this)},r.onKeyUp=function(e){switch(console.log("Release "+e.keyCode+" key"),e.keyCode){case g.KEY_J:this.selectMagic(I.color);break;case g.KEY_K:this.selectMagic(I.bomb);break;case g.KEY_L:this.selectMagic(I.shuffle)}},r.selectMagic=function(e){b.interactable&&(this.mask.active&&this.exitEditMode(),this.curMagicId=e,e==I.bomb||e==I.color?this.enterEditMode():e==I.shuffle&&this.useShuffle())},r.enterEditMode=function(){var e=this;b.setEditing(!0),this.mask.active=!0,this.scheduleOnce((function(){e.maskGridFrame.worldPosition=b.node.worldPosition,b.node.parent=e.maskGridFrame}));var t=this.curMagicId==I.bomb?this.iconBomb:this.iconColor;this.curMagicIcon=p(t),this.curMagicIcon.getComponent(m).destroy(),this.curMagicIcon.parent=this.node,f(this.curMagicIcon).to(.3,{scale:w(1.2,1.2,1)}).to(.3,{scale:w(1,1,1)}).union().repeatForever().start(),this.curMagicIcon.worldPosition=t.worldPosition,b.node.on(v.EVT_ITEM_SELECT,this.onMagicModeSelectItem,this)},r.exitEditMode=function(){b.node.parent=this.gridFrameOrg,this.hideColorSwitcher(),b.setEditing(!1),this.mask.active=!1,this.curMagicIcon&&(this.curMagicIcon.destroy(),this.curMagicIcon=null),this.curMagicId="",b.node.off(v.EVT_ITEM_SELECT,this.onMagicModeSelectItem,this)},r.onMaskTouchStart=function(e){this.exitEditMode()},r.onMagicModeSelectItem=function(e){console.log("PopMagic::onGridItemSelect()"),this.curMagicId==I.color?this.showColorSwitcher(e):this.curMagicId==I.bomb?this.useBomb(e):console.log("something might be wrong...")},r.showColorSwitcher=function(e){this.curSelectedItem&&this.hideColorSwitcher(),this.curSelectedItem=e,this.curSelectedItem.setHighlighted(!0),this.colorSwitcher.active=!0,this.colorSwitcher.worldPosition=w(e.node.worldPosition),this.colorSwitcher.angle=k.isLandscape&&b.arrItems.indexOf(e)<20?180:0;var t=b.node.worldPosition.x-320,o=w(this.colorSwitcherPanel.worldPosition);o.x<190+t?o.x=190+t:o.x>450+t&&(o.x=450+t),this.colorSwitcherPanel.setWorldPosition(o);for(var i=this.colorSwitcherPanelColors.children,n=0;n<i.length;n++){var r=i[n];r.active=r.name!=e.type.toString()}},r.hideColorSwitcher=function(){this.colorSwitcher.active=!1,this.curSelectedItem&&(this.curSelectedItem.setHighlighted(!1),this.curSelectedItem=null)},r.onColorSwitchItemClick=function(e){console.log("onColorTypeClick(),evt:",e);var t=e.target;if(console.log("type:",t.name),this.curSelectedItem){var o=parseInt(t.name);o<=0||o>P.Max?console.warn("parseInt(), type error:",o):this.useColorSwitcher(this.curSelectedItem,o,t)}else console.warn("this.curSelectedItem is null")},r.useColorSwitcher=function(e,t,o){if(b.replaceItem(e,t),this.spendMagic(I.color),o){var i=w(e.node.worldPosition),n=p(o);n.parent=C.node,n.worldPosition=i,f(n).set({scale:w(2.5,2.5,1)}).to(.45,{angle:180,worldPosition:i,scale:w(1,1,1)},{easing:S.linear}).removeSelf().start()}this.exitEditMode()},r.useBomb=function(e){var t=this,o=w(e.node.worldPosition),i=p(this.iconBomb);i.parent=C.node,i.worldPosition=e.node.worldPosition,i.setScale(2,2,1),f(i).to(.5,{worldPosition:o,scale:w(.5,.5,1)},{easing:"fade"}).call((function(){b.exposeGem(b.arrItems.indexOf(e)),t.spendMagic(I.bomb)})).removeSelf().start(),this.exitEditMode()},r.useShuffle=function(){b.shuffle()&&this.spendMagic(I.shuffle)},r.spendMagic=function(e){E.useMagic(e)},t}(M)).prototype,"mask",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"maskGridFrame",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(L.prototype,"colorSwitcher",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(L.prototype,"iconBomb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(L.prototype,"iconColor",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=L))||K));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagicButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts","./PopData.ts","./Pop.ts","./App.ts"],(function(t){var i,n,e,o,a,r,c,u,s,l,p,g,d,h,f,m,C,b,I,v,M,S,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Label,u=t.Node,s=t.size,l=t.UITransform,p=t.log,g=t.js,d=t.director,h=t.v3,f=t.UIOpacity,m=t.Component},function(t){C=t.EVT},function(t){b=t.gPopDataCtl,I=t.PopDataCtl,v=t.gPopData},function(t){M=t.gPopMagic,S=t.gPopUI},function(t){w=t.gAppUI}],execute:function(){var y,z,P,A,B,D,_,E,O,N;a._RF.push({},"b7fb2XK0uBO5LUIch5QDmJ0","PopMagicButton",void 0);var T=r.ccclass,U=r.property;t("PopMagicButton",(y=T("PopMagicButton"),z=U(c),P=U(u),A=U(u),y((_=i((D=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,e(i,"labelCount",_,o(i)),e(i,"iconAdd",E,o(i)),e(i,"iconMagic",O,o(i)),e(i,"magicId",N,o(i)),i.parentOriginSize=s(100,100),i}n(i,t);var a=i.prototype;return a.onLoad=function(){this.parentOriginSize=s(this.node.parent.getComponent(l).width,this.node.parent.getComponent(l).height),p("parentOriginSize:"+this.parentOriginSize.toString())},a.start=function(){var t=this;p(g.getClassName(this)+".start"),d.on(C.VIEW_SIZE_CHANGE,(function(i){p(g.getClassName(t)+".VIEW_SIZE_CHANGE"),t.scheduleOnce((function(){var i=s(t.node.parent.getComponent(l).width,t.node.parent.getComponent(l).height);p("szParentNew:"+i.toString()),t.node.scale=h(i.width/t.parentOriginSize.width,i.width/t.parentOriginSize.width,1),p(g.getClassName(t)+",node.scale:"+t.node.scale.toString())}))}),this),this.updateButton(),b.node.on(I.EVT_MAGIC_CHANGED,(function(){t.updateButton()}),this)},a.updateButton=function(){var t=b.getMagicInfo(this.magicId);t&&(this.getComponent(f).opacity=v.magicQuota>0?225:100,this.labelCount.string=""+t.count,this.labelCount.node.active=t.count>0,this.iconAdd.active=t.count<=0)},a.onButtonClick=function(){var t=b.getMagicInfo(this.magicId);if(t){if(v.magicQuota<=0){var i=b.getMagicMaxInCurrentStage(v.curStage);return void w.showTips("This level has used up its magic limit("+i+").")}t.count>0?M.selectMagic(this.magicId):(w.antiDoubleClicks(),S.showMagicStoreUI(this.magicId,1,this.node))}},i}(m)).prototype,"labelCount",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(D.prototype,"iconAdd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(D.prototype,"iconMagic",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(D.prototype,"magicId",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=D))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagicCollectUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./App.ts"],(function(t){var i,o,n,e,l,r,c,s,a,u,h,p,f,g,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,c=t.Node,s=t.Label,a=t.tween,u=t.warn,h=t.v3,p=t.bezier,f=t.Component},function(t){g=t.gPopDataCtl},function(t){d=t.gAppHelper}],execute:function(){var v,b,P,C,m,w,y,I,k;l._RF.push({},"6e819ZKmP9HNbsymjIBSYJL","PopMagicCollectUI",void 0);var z=r.ccclass,M=r.property;t("PopMagicCollectUI",(v=z("PopMagicCollectUI"),b=M(c),P=M(c),C=M(s),v((y=i((w=function(t){function i(){for(var i,o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return i=t.call.apply(t,[this].concat(l))||this,n(i,"lighting",y,e(i)),n(i,"icons",I,e(i)),n(i,"labelCount",k,e(i)),i.magicId="",i.count=3,i.invoker=null,i.onComplete=null,i.bCollected=!1,i}o(i,t);var l=i.prototype;return l.setParams=function(t,i,o,n){this.magicId=t,this.count=i,this.invoker=o,this.onComplete=n},l.start=function(){this.show()},l.show=function(){var t=this;a(this.lighting).by(5,{angle:360}).union().repeatForever().start(),this.labelCount.string=""+this.count;var i=g.getMagicInfo(this.magicId);i&&this.icons.children.forEach((function(t){t.active=t.name==i.id})),d.showPanel(this),this.scheduleOnce((function(){t.onClick()}))},l.close=function(){d.closePanel(this)},l.onClick=function(){var t=this;if(!this.bCollected){if(!g.getMagicInfo(this.magicId))return u("!info"),void this.close();this.bCollected=!0;var i=this.icons.children.find((function(t,i,o){return t.active}));if(i&&this.invoker){var o=i,n=(o.worldPosition,this.invoker.worldPosition);a(i).to(.1,{scale:h(1.5,1.5)}).to(.5,{scale:h(.01,.01,1)},{onUpdate:function(t,i){var e=p(o.worldPosition.x,o.worldPosition.x+20,n.x+20,n.x,i),l=p(o.worldPosition.y,o.worldPosition.y+20,n.y+20,n.y,i);o.worldPosition=h(e,l,o.worldPosition.z)}}).call((function(){t.onComplete&&t.onComplete(),t.close()})).start()}else this.close()}},i}(f)).prototype,"lighting",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(w.prototype,"icons",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(w.prototype,"labelCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/PopMagicStoreUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppUser.ts","./PopData.ts","./Pop.ts","./App.ts"],(function(e){var t,i,n,o,a,c,r,l,s,u,g,h,p,f,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,r=e.Label,l=e.Node,s=e.v3,u=e.tween,g=e.Component},function(e){h=e.gUserData,p=e.gAppUser},function(e){f=e.gPopDataCtl},function(e){b=e.gPopUI},function(e){d=e.gAppUI}],execute:function(){var C,m,v,I,P,y,x,w,M,k,U;a._RF.push({},"05814TERKlCOZpT71Ik3VM5","PopMagicStoreUI",void 0);var D=c.ccclass,S=c.property;e("PopMagicStoreUI",(C=D("PopMagicStoreUI"),m=S(r),v=S(r),I=S(r),P=S(l),C((w=t((x=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,n(t,"labelExchangeCount",w,o(t)),n(t,"labelPrice",M,o(t)),n(t,"labelTitle",k,o(t)),n(t,"magicIcons",U,o(t)),t.magicId="",t.exchangeCount=3,t.invoker=null,t}i(t,e);var a=t.prototype;return a.setParams=function(e,t,i){this.magicId=e,this.exchangeCount=t,this.invoker=i},a.start=function(){this.show()},a.onExchangeClick=function(){d.antiDoubleClicks();var e=f.getMagicInfo(this.magicId);if(e){var t=e.price*this.exchangeCount;if(h.coin>=t){var i=this.magicId,n=this.exchangeCount;b.showMagicCollect(i,n,this.invoker,(function(){h.coin>=t&&(p.addCoin(-t),f.addMagic(i,n))}))}else d.showStore(),d.showTips("No enough coins, please exchange coins first.")}},a.onCloseClick=function(){d.antiDoubleClicks(),this.close()},a.show=function(){this.labelExchangeCount.string=""+this.exchangeCount;var e=f.getMagicInfo(this.magicId);if(e){var t=e.price*this.exchangeCount;this.labelPrice.string=""+t,this.labelTitle.string=e.name,this.magicIcons.children.forEach((function(t){t.active=t.name==e.id}))}var i=this.node.getChildByName("Panel");i.setScale(s(0,0,1)),u(i).to(.1,{scale:s(1,1,1)}).start()},a.close=function(){var e=this,t=this.node.getChildByName("Panel");u(t).to(.1,{scale:s(0,0,1)}).call((function(){e.node.destroy()})).start()},t}(g)).prototype,"labelExchangeCount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(x.prototype,"labelPrice",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"labelTitle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(x.prototype,"magicIcons",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=x))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopRes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,l,a,u,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.SpriteFrame,u=e.Prefab,p=e.Component}],execute:function(){var c,b,f,g,s,m,P,I,y,U,z,w,v,R,S,h,D,d,C,G,F,M,_,x,B,H,E,L,O,j,k;o._RF.push({},"b00e1vr56RCfJvSrnv0d092","PopRes",void 0);var A=l.ccclass,J=l.property;e("PopRes",(c=A("PopRes"),b=J([a]),f=J([a]),g=J([a]),s=J(u),m=J(u),P=J(u),I=J(u),y=J(u),U=J(u),z=J(u),w=J(u),v=J(u),R=J(u),S=J(u),c((d=r((D=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o))||this,i(r,"gemBgs",d,n(r)),i(r,"gemFgs",C,n(r)),i(r,"starIcons",G,n(r)),i(r,"PopResultUI",F,n(r)),i(r,"PopRetryDialogUI",M,n(r)),i(r,"PopConfirmDialogUI",_,n(r)),i(r,"PopStageIntroUI",x,n(r)),i(r,"PopGameOverUI",B,n(r)),i(r,"ParticleExposeGem",H,n(r)),i(r,"PopMagicStoreUI",E,n(r)),i(r,"PopMagicCollectUI",L,n(r)),i(r,"PopSettingUI",O,n(r)),i(r,"PopInterstitialUI",j,n(r)),i(r,"PopGameHelpUI",k,n(r)),r}return t(r,e),r.prototype.start=function(){},r}(p)).prototype,"gemBgs",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=r(D.prototype,"gemFgs",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=r(D.prototype,"starIcons",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=r(D.prototype,"PopResultUI",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=r(D.prototype,"PopRetryDialogUI",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(D.prototype,"PopConfirmDialogUI",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(D.prototype,"PopStageIntroUI",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=r(D.prototype,"PopGameOverUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=r(D.prototype,"ParticleExposeGem",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(D.prototype,"PopMagicStoreUI",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(D.prototype,"PopMagicCollectUI",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=r(D.prototype,"PopSettingUI",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(D.prototype,"PopInterstitialUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(D.prototype,"PopGameHelpUI",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=D))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopResultUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopCommon.ts","./PopData.ts","./Pop.ts","./App.ts","./AppAudioSounds.ts","./AppUser.ts"],(function(n){var e,t,o,i,a,l,r,u,s,c,p,d,f,b,g,h,P,m,y,C,v;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,r=n.Label,u=n.Node,s=n.v3,c=n.tween,p=n.v2,d=n.UIOpacity,f=n.Component},function(n){b=n.PopStatus},function(n){g=n.gPopData},function(n){h=n.gPopGrid,P=n.gPopGame,m=n.gPopUI},function(n){y=n.gAppAudio},function(n){C=n.SND},function(n){v=n.gAppUser}],execute:function(){var B,w,R,A,S,U,I,V,z,D,x,F,G,_,k;a._RF.push({},"f4a1dUBTbRAkKYFk0Cggj2F","PopResultUI",void 0);var L=l.ccclass,N=l.property;n("PopResultUI",(B=L("PopResultUI"),w=N(r),R=N(r),A=N(u),S=N(u),U=N(u),I=N(u),B((D=e((z=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a))||this,o(e,"labelBonusValue",D,i(e)),o(e,"labelRemainingValue",x,i(e)),o(e,"bonusPanel",F,i(e)),o(e,"remainingPanel",G,i(e)),o(e,"allClearPanel",_,i(e)),o(e,"nodeBonusCoin",k,i(e)),e.bonus=2e3,e}t(e,n);var a=e.prototype;return a.start=function(){this.calc()},a.calc=function(){var n=this,e=h.getRemainingGems();if(this.setRemainingCount(e.length),this.allClearPanel.active=0==e.length,this.remainingPanel.active=e.length>0,this.allClearPanel.active){this.allClearPanel.scale=s(.001,.001,1),c(this.allClearPanel).to(.1,{scale:s(1,1,1)}).call((function(){})).start();var t=s(P.labelCoinValue.node.worldPosition);this.nodeBonusCoin.active=!0;var o=this.nodeBonusCoin.worldPosition;c(this.nodeBonusCoin).set({scale:s(.001,.001,.001)}).to(.2,{scale:s(1,1,1)}).delay(.5).to(.8,{scale:s(.1,.1,1)},{onUpdate:function(e,i){var a,l,r,u,c,d,f=p(o.x,o.y),b=p(o.x+20,o.y);n.nodeBonusCoin.worldPosition=(r=b,u=t,c=(1-(a=i))*(1-a)*(l=f).x+2*a*(1-a)*r.x+a*a*u.x,d=(1-a)*(1-a)*l.y+2*a*(1-a)*r.y+a*a*u.y,s(c,d,0))}}).call((function(){v.addCoin(1),y.playSound(C.AddGold),c(n.allClearPanel.getComponent(d)).to(1,{opacity:0}).start()})).hide().start()}var i=1;i+=h.eraseRemainingItems(i,(function(){n.subtractBonus()})),i+=1,i+=this.collectFinalBonus(i)},a.onComplete=function(){if(b.end==g.status)m.showRetryDialog(),this.node.active=!1;else{m.showInterstitial()}},a.setRemainingCount=function(n){this.labelRemainingValue.string=n.toString()},a.subtractBonus=function(){this.bonus=this.bonus>=200?this.bonus-200:0,this.updateBonus()},a.collectFinalBonus=function(n){var e=this;return this.scheduleOnce((function(){var n=e.allClearPanel.active?.3:0;e.allClearPanel.active;var t=s(P.labelCurScore.node.worldPosition);c(e.labelBonusValue.node).delay(n).to(.5,{worldPosition:t,scale:s(.5,.5,1)}).call((function(){P.addScore(e.bonus),e.bonus>0&&y.playSound(C.GainBonus),c(e.node.getChildByName("Panel").getComponent(d)).to(1,{opacity:0}).start(),e.scheduleOnce((function(){e.onComplete()}),1)})).hide().start()}),n),.5},a.updateBonus=function(){this.labelBonusValue.string=this.bonus.toString(),c(this.labelBonusValue.node).to(.1,{scale:s(1.2,1.2,1.2)}).to(.1,{scale:s(1,1,1)}).start()},e}(f)).prototype,"labelBonusValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"labelRemainingValue",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(z.prototype,"bonusPanel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(z.prototype,"remainingPanel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(z.prototype,"allClearPanel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(z.prototype,"nodeBonusCoin",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=z))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopRetryDialogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./PopCommon.ts","./Config.ts","./App.ts","./Pop.ts","./AppUser.ts","./AppVideoAdButton.ts"],(function(t){var o,e,n,i,r,a,s,u,c,l,p,f,g,h,d,b,P,y,A;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,u=t.macro,c=t.Component},function(t){l=t.gPopData},function(t){p=t.PopStatus},function(t){f=t.Config},function(t){g=t.gAppHelper,h=t.gAppUI},function(t){d=t.gPopGame,b=t.gPopUI},function(t){P=t.gUserData,y=t.gAppUser},function(t){A=t.AppVideoAdButton}],execute:function(){var v,D,m,w,R,U,I;r._RF.push({},"32051j1LdxFQ4Tmivh+2bIG","PopRetryDialogUI",void 0);var C=a.ccclass,S=a.property;t("PopRetryDialogUI",(v=C("PopRetryDialogUI"),D=S(s),m=S(A),v((U=o((R=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,n(o,"labelStage",U,i(o)),n(o,"buttonVideoAd",I,i(o)),o}e(o,t);var r=o.prototype;return r.start=function(){var t=this;this.show(),this.schedule((function(){t.buttonVideoAd.updateButton()}),30,u.REPEAT_FOREVER,30)},r.show=function(){this.labelStage.string=""+(l.curStage+1),g.showPanel(this)},r.close=function(){g.closePanel(this,(function(){}))},r.onRetryClick=function(){h.antiDoubleClicks(),P.coin>=5?(y.addCoin(-5),l.status=p.retry,g.closePanel(this,(function(){d.reload()}))):(f.storeEnabled&&h.showStore(),h.showTips("No enough coins."))},r.onGiveUpClick=function(){var t=this;l.status=p.failed,t.node.active=!1,l.curStage>0?b.showInterstitial(-1):b.showGameOver()},o}(c)).prototype,"labelStage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=o(R.prototype,"buttonVideoAd",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=R))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopSettingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Pop.ts"],(function(t){var o,n,e,i,c,p,s;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,i=t.Component},function(t){c=t.gAppHelper},function(t){p=t.gPopGame,s=t.gPopUI}],execute:function(){var r;n._RF.push({},"2acc0JfI5BFVbYjjhRiKLis","PopSettingUI",void 0);var u=e.ccclass;e.property,t("PopSettingUI",u("PopSettingUI")(r=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.start=function(){c.showPanel(this)},e.onCloseClick=function(){c.closePanel(this)},e.onHomeClick=function(){p.goHome()},e.onHelpClick=function(){s.showGameHelp()},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopStageBg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./Pop.ts"],(function(t){var e,a,n,o,r,i,s,c,p,l,g,u,F;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator,s=t.find,c=t.Sprite,p=t.Label,l=t.color,g=t.Component},function(t){u=t.gPopData},function(t){F=t.gPopRes}],execute:function(){var h,f,P;r._RF.push({},"abf58xpWn1KjbGDc2KykOo0","PopStageBg",void 0);var d=i.ccclass,y=i.property,v=["#B800FF","#00FFE0","#0AFF00","#FFFF00","#FF0000","#FF00F5"];t("PopStageBg",d("PopStageBg")((P=e((f=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,n(e,"stageDelta",P,o(e)),e.stage=0,e}a(e,t);var r=e.prototype;return r.start=function(){this.stage=u.curStage+this.stageDelta,this.updatePlanet()},r.updatePlanet=function(){var t=s("Planet/Icon",this.node).getComponent(c),e=s("Planet/Label",this.node).getComponent(p);t.spriteFrame=F.starIcons[this.stage%F.starIcons.length];var a=this.stage,n=l(v[a%v.length]);t.color=n,e.string=""+(this.stage+1)},e}(g)).prototype,"stageDelta",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=f))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/PopStageIntroUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./PopCommon.ts","./App.ts","./Pop.ts","./AppAudioSounds.ts"],(function(e){var t,n,a,i,o,l,r,u,c,s,p,g,f,y,d,h,b,S,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Node,u=e.Label,c=e.view,s=e.v3,p=e.tween,g=e.easing,f=e.UIOpacity,y=e.Component},function(e){d=e.gPopData},function(e){h=e.PopStatus},function(e){b=e.gAppAudio},function(e){S=e.gPopGame},function(e){m=e.SND}],execute:function(){var v,P,T,C,I,B,w,z,V,N,O,D,k;o._RF.push({},"5d4d0FY6z1KyIYZBXrnNpM7","PopStageIntroUI",void 0);var A=l.ccclass,U=l.property;e("PopStageIntroUI",(v=A("PopStageIntroUI"),P=U(r),T=U(r),C=U(r),I=U(u),B=U(u),v((V=t((z=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,a(t,"panelStage",V,i(t)),a(t,"panelTarget",N,i(t)),a(t,"panelContinue",O,i(t)),a(t,"labelStageValue",D,i(t)),a(t,"labelTargetValue",k,i(t)),t.readyCalled=!1,t.funcReady=null,t}n(t,e);var o=t.prototype;return o.setParams=function(e){this.funcReady=e},o.start=function(){this.labelStageValue.string=(d.curStage+1).toString(),this.labelTargetValue.string=d.targetScore.toString(),this.show()},o.onTouch=function(){},o.show=function(){var e=this;this.panelContinue.active=h.playing==d.status,this.panelTarget.active=!this.panelContinue.active;var t=c.getVisibleSize().width,n=(c.getVisibleSize().height,this.node.getChildByName("Panel")),a=s(t,0),i=s(0,0);s(-t,0);p(n).set({position:a}).call((function(){b.playSound(m.StageIntroIn),p(n.getChildByName("Bg")).set({scale:s(1,0,1)}).delay(.5).to(.2,{scale:s(1,1,1)}).start()})).to(.5,{position:i},{easing:g.backOut}).delay(1).call((function(){e.blinkTarget()})).delay(1.5).delay(.5).call((function(){p(n.getChildByName("Bg")).to(.2,{scale:s(1,0,1)}).start(),b.playSound(m.StageIntroOut),b.curPlayingMusic!=m.GamePlayBg&&b.scheduleOnce((function(){b.pauseMusic()}),.3),b.scheduleOnce((function(){b.playMusic(m.GamePlayBg)}),2),e.scheduleOnce((function(){e.node.destroy()}),.3)})).start();for(var o=this.panelTarget.active?[this.panelStage,this.panelTarget]:[this.panelStage,this.panelContinue],l=0;l<o.length;l++){var u=o[l].position.y;p(o[l]).set({position:s(t,u)}).delay(.5*l).call((function(){})).to(.5,{position:s(0,u)},{easing:"backOut"}).delay(.5).call((function(){})).delay(1.5).to(.5,{position:s(-t,u)},{easing:"backIn"}).call((function(){})).start()}this.node.once(r.EventType.TOUCH_END,(function(){p(n.getChildByName("Bg").getComponent(f)).to(.1,{opacity:0}).start(),p(n.getChildByName("Bg")).to(.2,{scale:s(1,0,1)}).start()}),this)},o.blinkTarget=function(){[this.labelTargetValue.node,S.labelTargetValue.node].forEach((function(e){p(e).hide().delay(.2).show().delay(.2).union().repeat(2).start()}))},t}(y)).prototype,"panelStage",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(z.prototype,"panelTarget",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(z.prototype,"panelContinue",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"labelStageValue",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(z.prototype,"labelTargetValue",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopStageStar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts","./PopData.ts"],(function(t){var e,r,a,o,n,i,s,c,p,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,i=t._decorator,s=t.Sprite,c=t.color,p=t.Component},function(t){l=t.gPopRes},function(t){u=t.gPopData}],execute:function(){var g,h,f;n._RF.push({},"25ee0xXR3xGvIzg6VlXhoey","PopStageStar",void 0);var F=i.ccclass,S=i.property,v=["#FFFFFF","#00FF00","#A000FF"];t("PopStageStar",F("PopStageStar")((f=e((h=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=t.call.apply(t,[this].concat(n))||this,a(e,"stageDelta",f,o(e)),e.stage=0,e}r(e,t);var n=e.prototype;return n.start=function(){this.stage=u.curStage+this.stageDelta,this.updateStar()},n.updateStar=function(){var t=this.getComponent(s);t.spriteFrame=l.starIcons[this.stage%l.starIcons.length];var e=Math.floor(this.stage/l.starIcons.length),r=c(v[e%v.length]);t.color=r},e}(p)).prototype,"stageDelta",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=h))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/PopStarGameLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppLayout.ts","./AppSetterForEditor.ts","./App.ts","./Common.ts"],(function(e){var t,r,a,n,o,i,s,u,l,c,p,d,h,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.UITransform,u=e.director,l=e.log,c=e.js,p=e.view,d=e.Component},function(e){h=e.AppLayout},null,function(e){y=e.gAppLayoutHelper},function(e){f=e.EVT}],execute:function(){var g,m,w,H,R,v,L,b,C,I,E,A;o._RF.push({},"ed437yiLJhC+6lGDtzoTJWX","PopStarGameLayout",void 0);var N=i.ccclass,S=i.property,_=i.executeInEditMode;e("PopStarGameLayout",(g=N("PopStarGameLayout"),m=_(!0),w=S(s),H=S(s),R=S(s),v=S(s),g(L=m((C=t((b=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,a(t,"transHeaderRow0",C,n(t)),a(t,"transHeaderRow1",I,n(t)),a(t,"transHeaderRow2",E,n(t)),a(t,"transHeaderRow3",A,n(t)),t}r(t,e);var o=t.prototype;return o.start=function(){var e=this;u.on(f.VIEW_SIZE_CHANGE,(function(t,r,a){l(c.getClassName(e)+"."+f.VIEW_SIZE_CHANGE),e.updateLayout()}),this)},o.updateLayout=function(){l(c.getClassName(this)+".updateLayout");var e=this.getComponent(h),t=y.isLandscape;this.transHeaderRow1.height=p.getViewportRect().width>p.getViewportRect().height&&!t?0:60;var r=0;[this.transHeaderRow0,this.transHeaderRow1,this.transHeaderRow2].forEach((function(e){r+=e.height})),this.transHeaderRow3.height=e.transHeader.height-r,e.transHeader.node.getChildByName("Items").active=!t,e.transFooter.node.getChildByName("Items").active=!t,e.transLeft.node.getChildByName("Items").active=t,e.transRight.node.getChildByName("Items").active=t},t}(d)).prototype,"transHeaderRow0",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(b.prototype,"transHeaderRow1",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(b.prototype,"transHeaderRow2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(b.prototype,"transHeaderRow3",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=b))||L)||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopStarTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts","./Utils.ts","./Pop.ts","./Config.ts","./App.ts"],(function(t){var o,e,n,i,r,s,a,c,l,h,p,u,f,g,w,y,d,C,b;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,c=t.instantiate,l=t.Label,h=t.log,p=t.randomRangeInt,u=t.Component},function(t){f=t.setObjKeysAsValues},function(t){g=t.Utils},function(t){w=t.gPopGrid,y=t.gPopUI,d=t.gPopEffect},function(t){C=t.Config},function(t){b=t.gAppUI}],execute:function(){var I,P,v,T,m;r._RF.push({},"2abe12o77RBSbukLCLLQGlA","PopStarTest",void 0);var S=s.ccclass,k=s.property,R=function(t){return t.autoPlay="",t.showRetryDialog="",t.showGoodJobs="",t.showTargetClear="",t.showHighScore="",t.showTips="",t.showIntertitial="",t.showIntro="",t}(R||{});f(R);var D=!1;t("PopStarTest",(I=S("PopStarTest"),P=k(a),I((m=o((T=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,n(o,"content",m,i(o)),o}e(o,t);var r=o.prototype;return r.start=function(){if(C.testing){for(var t=Object.getOwnPropertyNames(R),o=0;o<t.length;o++){var e=t[o],n=o<this.content.children.length?this.content.children[o]:c(this.content.children[0]);n.parent=this.content,n.getComponent(l).string=e,g.bindClick(n,this.onItemClick,this,e)}this.content.active=D}else this.node.destroy()},r.update=function(t){},r.onToggleClick=function(){D=!D,this.content.active=D},r.onItemClick=function(t){h("onItemClick("+t+")"),t==R.autoPlay?w.autoErase():t==R.showRetryDialog?y.showRetryDialog():t==R.showGoodJobs?d.playGoodJobEffect(p(7,40)):t==R.showTargetClear?d.playTargetClearEffect():t==R.showHighScore?d.playNewHighScoreEffect():t==R.showTips?b.showTips("Hello"):t==R.showIntertitial?y.showInterstitial():t==R.showIntro&&y.showStageIntro()},o}(u)).prototype,"content",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopTargetProgressInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopData.ts","./Pop.ts"],(function(e){var r,t,o,a,i,n,c,s,l,g,u,p,f,h,b,y,P;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,n=e._decorator,c=e.ProgressBar,s=e.Node,l=e.Label,g=e.UIOpacity,u=e.color,p=e.Sprite,f=e.tween,h=e.Component},function(e){b=e.gPopDataCtl,y=e.gPopData},function(e){P=e.gPopGame}],execute:function(){var B,S,v,m,w,L,T,d,D,z,I,C,M,F,O,_,x;i._RF.push({},"0c8f48pfLVDN6DMKsULB/WW","PopTargetProgressInfo",void 0);var H=n.ccclass,N=n.property;e("PopTargetProgressInfo",(B=H("PopTargetProgressInfo"),S=N(c),v=N(c),m=N(c),w=N(s),L=N(l),T=N(g),d=N(l),B((I=r((z=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return r=e.call.apply(e,[this].concat(i))||this,o(r,"progressBar",I,a(r)),o(r,"progressBar2",C,a(r)),o(r,"progressBarCircle",M,a(r)),o(r,"targetIcon",F,a(r)),o(r,"labelTarget",O,a(r)),o(r,"iconOpacity",_,a(r)),o(r,"labelPecentage",x,a(r)),r.targetBetweenLevel=1500,r.curScore=0,r}t(r,e);var i=r.prototype;return i.start=function(){this.targetBetweenLevel=b.getTargetScore2(0);var e=b.getTargetScore2(y.curStage);if(y.curStage>0){var r=b.getTargetScore2(y.curStage-1);this.targetBetweenLevel=e-r}this.updateProgress()},i.updateProgress=function(){this.curScore=P.curScoreForDisplay;var e=Math.max(0,y.targetScore-this.curScore),r=Math.min(1,(this.targetBetweenLevel-(y.targetScore-this.curScore))/this.targetBetweenLevel);this.progressBar.progress=r,this.progressBar.barSprite.color=r>=1?u(0,255,0):u(0,235,255);var t=Math.min(1,(y.targetScore-this.curScore)/this.targetBetweenLevel);this.progressBar2.progress=t,this.progressBarCircle.progress=r,this.progressBarCircle.barSprite.color=r>=1?u(0,255,0):u(255,255,255),this.labelPecentage.string=""+Math.min(100,Math.floor(100*r)),this.targetIcon.getComponent(p).grayscale=e<=.001,this.labelTarget.string=""+e},i.update=function(e){this.curScore!=P.curScoreForDisplay&&this.updateProgress()},i.playBeingHitEffect=function(){f(this.iconOpacity).to(.1,{opacity:128}).to(.1,{opacity:255}).call((function(){})).start()},r}(h)).prototype,"progressBar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(z.prototype,"progressBar2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=r(z.prototype,"progressBarCircle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(z.prototype,"targetIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=r(z.prototype,"labelTarget",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(z.prototype,"iconOpacity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(z.prototype,"labelPecentage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=z))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Pop.ts","./PopGameHelpUI.ts","./Common.ts","./PopMagicCollectUI.ts","./PopSettingUI.ts","./PopConfirmDialogUI.ts","./PopResultUI.ts","./PopRetryDialogUI.ts","./PopStageIntroUI.ts","./PopGameOverUI.ts","./PopMagicStoreUI.ts","./PopInterstitialUI.ts"],(function(t){var n,o,e,i,a,s,p,r,c,u,l,f,m,I,P,g,h,d,U,C,v,w,S;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.log,a=t.js,s=t.error,p=t.Component},function(t){r=t.gAppHelper,c=t.gAppViewMgr},function(t){u=t.gPopRes,l=t.gPop,f=t.gPopGrid},function(t){m=t.PopGameHelpUI},function(t){I=t.VIEW},function(t){P=t.PopMagicCollectUI},function(t){g=t.PopSettingUI},function(t){h=t.PopConfirmDialogUI},function(t){d=t.PopResultUI},function(t){U=t.PopRetryDialogUI},function(t){C=t.PopStageIntroUI},function(t){v=t.PopGameOverUI},function(t){w=t.PopMagicStoreUI},function(t){S=t.PopInterstitialUI}],execute:function(){var R;o._RF.push({},"66c97hvWZtHjbLia8Zt2m0Z","PopUI",void 0);var y=e.ccclass;e.property,t("PopUI",y("PopUI")(R=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.instantiateComponent=function(t){i("AppUI.instantiateComponent()");var n=a.getClassName(t),o=u[n];if(o)return r.instantiateComponent(o,t);s("!prefab!!!"+a.getClassName(this)+":"+n)},e.showResult=function(){this.instantiateComponent(d).node.parent=l.node},e.showRetryDialog=function(){this.instantiateComponent(U).node.parent=l.node},e.showConfirmDialog=function(t,n){var o=this.instantiateComponent(h);o.setParams(t,n),o.node.parent=l.node},e.showStageIntro=function(t){var n=this;f.node.active=!0,this.scheduleOnce((function(){n.instantiateComponent(C).node.parent=l.node}),.5)},e.showGameHelp=function(){this.instantiateComponent(m).node.parent=l.node},e.showGameOver=function(){var t=this.instantiateComponent(v);t.setParams((function(){c.loadView(I.HomeView)})),t.node.parent=l.node},e.showMagicStoreUI=function(t,n,o){var e=this.instantiateComponent(w);e.setParams(t,n,o),e.node.parent=l.node},e.showInterstitial=function(t){var n=this.instantiateComponent(S);t&&(n.levelDelta=t),n.node.parent=l.node},e.showMagicCollect=function(t,n,o,e){var i=this.instantiateComponent(P);i.setParams(t,n,o,e),i.node.parent=l.node},e.showSetting=function(){this.instantiateComponent(g).node.parent=l.node},o}(p))||R);o._RF.pop()}}}));

System.register("chunks:///_virtual/PopView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pop.ts"],(function(o){var e,n,t,i,r,c;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy,t=o._decorator,i=o.Component},function(o){r=o.gPopUI,c=o.gPopGame}],execute:function(){var p;n._RF.push({},"88971rvEX9Krr8Bm4oawd6p","PopView",void 0);var u=t.ccclass;t.property,o("PopView",u("PopView")(p=function(o){function n(){return o.apply(this,arguments)||this}e(n,o);var t=n.prototype;return t.start=function(){},t.onPauseClick=function(){r.showSetting()},t.onHomeClick=function(){c.goHome()},t.onGameHelpClick=function(){r.showGameHelp()},n}(i))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/preroll_callback.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"e5ca4TDvLRF5L1ZZ+J5idHJ","preroll_callback",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/rewarded_callback.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"6de33gn7T9FSbVA4JrTScSx","rewarded_callback",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/SpaceMapDropMove.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,o,n,a,c,p,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,c=e.Camera,p=e.Canvas,u=e.Node,l=e.Component}],execute:function(){var s,h,m,f,d,v,y,b,M;n._RF.push({},"0977ccHbnJL/orzglWZFeev","SpaceMapDropMove",void 0);var g=a.ccclass,X=a.property;e("SpaceMapDropMove",(s=g("SpaceMapDropMove"),h=X(c),m=X(p),s((v=t((d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"camer2d",v,o(t)),i(t,"minX",y,o(t)),i(t,"maxX",b,o(t)),i(t,"touchLayer",M,o(t)),t}r(t,e);var n=t.prototype;return n.start=function(){this.touchLayer.node.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this)},n.onTouchMove=function(e){var t=this.camer2d.node.position.x;(t-=e.getDeltaX())<this.minX?t=this.minX:t>this.maxX&&(t=this.maxX),this.camer2d.node.setPosition(t,this.camer2d.node.position.y,this.camer2d.node.position.z)},t}(l)).prototype,"camer2d",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(d.prototype,"minX",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-366}}),b=t(d.prototype,"maxX",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 366}}),M=t(d.prototype,"touchLayer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpaceMapLevelPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o,i,a,l,s,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,p=e.Label,c=e.Component}],execute:function(){var u,v,f,y,h,b,g,m;a._RF.push({},"7b3f0mAhFFFt5N9tDLBAZE+","SpaceMapLevelPoint",void 0);var L=l.ccclass,_=l.property;e("SpaceMapLevelPoint",(u=L("SpaceMapLevelPoint"),v=_([s]),f=_(p),u((b=t((h=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"stars",b,o(t)),t._starCount=0,n(t,"levelName",g,o(t)),n(t,"_level",m,o(t)),t}return r(t,e),i(t,[{key:"starCount",get:function(){return this._starCount},set:function(e){this._starCount=e;for(var t=0;t<this.stars.length;t++)this.stars[t].active=t<e}},{key:"Level",get:function(){return this._level},set:function(e){this._level=e,this.levelName&&(this.levelName.string=e.toString(),this.levelName.markForUpdateRenderData())}}]),t}(c)).prototype,"stars",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t(h.prototype,"starCount",[_],Object.getOwnPropertyDescriptor(h.prototype,"starCount"),h.prototype),g=t(h.prototype,"levelName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(h.prototype,"_level",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(h.prototype,"Level",[_],Object.getOwnPropertyDescriptor(h.prototype,"Level"),h.prototype),y=h))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/StringFormat.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3389exqH/lN1qME6YDtEF+x","StringFormat",void 0);t("StringFormatFunction",new(function(){function t(){}var e=t.prototype;return e.deal=function(t,e){if(""===e)return t;var n=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),i=e.match(/\d+$/gi),r="",o=0,u="";if(n&&(r=n[0]),i&&(o=parseInt(i[0])),"number"==typeof t)switch(r){case"int":u=this.int(t);break;case"fix":u=this.fix(t,o);break;case"kmbt":u=this.KMBT(t);break;case"per":u=this.per(t,o);break;case"sep":u=this.sep(t)}else{switch(r){case"limit":u=this.limit(t,o)}u=t}return u},e.sep=function(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")},e.time_m=function(t){},e.time_s=function(t){},e.time_ms=function(t){},e.timeStamp=function(t){return new Date(t).toString()},e.per=function(t,e){return Math.round(100*t).toFixed(e)},e.int=function(t){return Math.round(t)},e.fix=function(t,e){return t.toFixed(e)},e.limit=function(t,e){return t.substring(0,e)},e.KMBT=function(t,e){return this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)},e.compressUnit=function(t,e,n,i){void 0===i&&(i=2);var r,o=e,u=n,c="";for(r=0;r<o.length;r++){if(t<o[r]){c=r>0?(t/o[r-1]).toFixed(i):t.toFixed(0);break}}return c+u[r]},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/TapAndHold.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,t,e,i,h,c,s;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,i=o.v2,h=o.Node,c=o.sys,s=o.Component}],execute:function(){var d,u;t._RF.push({},"bb8efNpmZVGypnnP+75rWiT","TapAndHold",void 0);var a=e.ccclass;e.property,o("default",a("TapAndHold")(((u=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),h=0;h<t;h++)e[h]=arguments[h];return(n=o.call.apply(o,[this].concat(e))||this).touchingIndex=-1,n.touchingPos=i(),n.touchingTime=0,n}n(t,o);var e=t.prototype;return e.start=function(){this.node.on(h.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(h.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.checkTapAndHold=function(){(console.log("checkTapAndHold:touchIndex:"+this.touchingIndex),-1==this.touchingIndex)?this.unschedule(this.checkTapAndHold):c.now()-this.touchingTime>600&&(console.log("onTapAndHoldOnGem:touchIndex:"+this.touchingIndex),this.node.emit(t.EVT_TAP_AND_HOLD,this.node,this.touchingPos),this.exitCheckTapAndHold())},e.startCheckTapAndHold=function(){this.touchingIndex=1,this.touchingTime=c.now(),this.schedule(this.checkTapAndHold,.1)},e.exitCheckTapAndHold=function(){console.log("exitTapAndHold"),this.touchingIndex=-1,this.touchingPos=i()},e.onTouchStart=function(o){var n=o.getUILocation();this.touchingPos=n,this.startCheckTapAndHold()},e.onTouchMove=function(o){var n=o.getUILocation().subtract(this.touchingPos);(Math.abs(n.x)>20||Math.abs(n.y)>20)&&this.exitCheckTapAndHold()},e.onTouchEnd=function(o){-1==this.touchingIndex&&(o.propagationImmediateStopped=!0,console.log("onTouchEnd():e.stopPropagationImmediate();")),this.exitCheckTapAndHold()},e.onTouchCancel=function(o){this.exitCheckTapAndHold()},t}(s)).EVT_TAP_AND_HOLD="EVT_TAP_AND_HOLD",d=u))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/TestControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./App.ts"],(function(t){var n,e,i,o,r,s,a,c,u,l,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,c=t.Label,u=t.find,l=t.Component},function(t){p=t.Config},function(t){f=t.gAppRes}],execute:function(){var g,d,C,h,y;r._RF.push({},"813faFRgPBFUqLwBroj3P2f","TestControl",void 0);var v=s.ccclass,w=s.property;t("TestControl",(g=v("TestControl"),d=w(a),g((y=n((h=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,i(n,"testing",y,o(n)),n}e(n,t);var r=n.prototype;return r.start=function(){this.updateView()},r.update=function(t){},r.updateView=function(){this.testing.getComponent(c).string=p.testing?"testing:on":"testing:off"},r.onCloseClick=function(){this.node.destroy()},r.onTestSwitcherClick=function(){p.testing=!p.testing,this.updateView()},n.create=function(){f.instantiatePrefab("TestControl").parent=u("Canvas")},n}(l)).prototype,"testing",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=h))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/Tests.ts",["./rollupPluginModLoBabelHelpers.js","cc","./App.ts","./Utils.ts"],(function(t){var e,n,i,r,o,s,a,c,u,l,p,f,v,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.ScrollView,c=t.find,u=t.Button,l=t.Component,p=t.instantiate,f=t.Label},function(t){v=t.gAppHelper},function(t){y=t.Utils}],execute:function(){var h,d,g,L,T;o._RF.push({},"38f28a0es1OILaFqoYQdLvP","Tests",void 0);var C=s.ccclass,m=s.property,S=function(t){return t.TestAppLayout="",t}(S||{});y.enumSetKeysAsValues(S);t("Tests",(h=C("Tests"),d=m(a),h((T=e((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"sv",T,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){var t=this,e=y.enumGetKeys(S);if(e.length>0){for(var n=this.sv.content.children[0],i=function(){var i=e[r],o=p(n);o.getComponent(f).string=i,o.parent=t.sv.content,o.on(u.EventType.CLICK,(function(){v.loadScene(i)}),t)},r=0;r<e.length;r++)i();n.active=!1}c("Canvas/Button").on(u.EventType.CLICK,(function(){v.loadScene("MainScene")}),this)},o.update=function(t){},e}(l)).prototype,"sv",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=L))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/TestTogglePwd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./App.ts"],(function(t){var e,n,o,r,s,c,i,l,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.log,s=t.v3,c=t.tween,i=t.Component},function(t){l=t.Utils},function(t){u=t.gAppUI}],execute:function(){var a;n._RF.push({},"30f25JHZQJJZLuVpHBeS3GB","TestTogglePwd",void 0);var p=o.ccclass;o.property,t("TestTogglePwd",p("TestTogglePwd")(a=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).strInput="",e}e(n,t);var o=n.prototype;return o.start=function(){var t=this;this.node.children.forEach((function(e){l.bindClick(e,t.onLetterClick,t,e.name)}))},o.update=function(t){},o.onLetterClick=function(t){r("onLetterClick("+t+")"),this.strInput+=t,"R"==t&&("POPSR"==this.strInput&&u.showDebug(),this.strInput="");var e=s(this.node.parent.scale);c(this.node.parent).to(.1,{scale:s(e).multiplyScalar(1.1)}).to(.1,{scale:e}).start()},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(e){var t,n,o,r,i,l,s,a,c,u,g,d,h,f;return{setters:[function(e){t=e.cclegacy,n=e.log,o=e.Node,r=e.director,i=e.warn,l=e.js,s=e.Button,a=e.assetManager,c=e.error,u=e.view,g=e.find,d=e.UITransform,h=e.v3,f=e.tween}],execute:function(){t._RF.push({},"6dfc197ba5ChYaKYXNNeJxP","Utils",void 0);e("Utils",function(){function e(){}return e.enumGetKeys=function(e){return Object.keys(e).filter((function(e,t,n){return isNaN(Number(e))}))},e.enumSetKeysAsValues=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];("string"!=typeof n||n.trim().length<=0)&&isNaN(Number(t))&&(e[t]=t)}},e.createPersistNode=function(e){n("createPersistNode("+e);var t=new o(e);return t.parent=r.getScene(),r.addPersistRootNode(t),r.isPersistRootNode(t)||i("!director.isPersistRootNode()"),t},e.addComponentNodeTo=function(e,t){console.log("AppUtils::addComponentNodeTo()");var n=l.getClassName(e);console.log("js.getClassName(classConstructor):",n);var r=new o(n),i=r.addComponent(e);return r.parent=t,i},e.bindClick=function(e,t,n,o){e.on(s.EventType.CLICK,(function(){t.call(n,o)}),n)},e.loadBundleRes=function(e,t,o){n("loadBundleRes("+e+","+t+")"),a.loadBundle(e,(function(n,r){n?c("loadBundle"+e+" error!"):r.load(t,(function(e,n){e?c("bundle.load"+t+" error!"):o&&o(n)}))}))},e.loadBundleDir=function(e,t,n){console.log("loadBundleDir(bundle,"+t+")"),e?e.loadDir(t,(function(e,t){e?console.error("bundle.loadDir(Prefab) error:",e):n(t)})):console.error("bundle is null!")},e.getBundleAsset=function(e,t){var n=null;return e?((n=e.get(t))||console.error("bundle.get("+t+") error!"),n):(console.error("bundle null!"),n)},e.getDateString=function(){var e,t=function(e){return e<10?"0"+e:String(e)},n=new Date;return t(n.getFullYear())+t(n.getMonth()+1)+t(n.getDate())+t(n.getHours())+t(n.getMinutes())+t(n.getSeconds())+((e=n.getMilliseconds())<10?"00"+e:e<100?"0"+e:String(e))},e.loadObject=function(e,t){var n=localStorage.getItem(e);if(n){var o=JSON.parse(n);Object.getOwnPropertyNames(o).forEach((function(e){t.hasOwnProperty(e)&&(t[e]=o[e])}))}},e.saveObject=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.addItemTo=function(e,t,n){if(t.push(e),t.length>n){var o=t.length-n;o>0&&o<t.length&&t.splice(0,o)}},e.request=function(e,t){console.log("AppUtils::request()",e);var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&(console.log("xhr.status:",n.status),n.status>=200&&n.status<400?t(null,n.responseText):t("failed",n.status))},n.open("GET",e,!0),n.send()},e.printSizes=function(){var e=u.getDevicePixelRatio();console.log("view.getDevicePixelRatio():",e),console.log("view.getScaleX(),view.getScaleY():",u.getScaleX(),u.getScaleY());var t=u.getFrameSize();console.log("view.getFrameSize():",t.width,t.height),t=u.getCanvasSize(),console.log("view.getCanvasSize():",t.width,t.height);var n=g("Canvas").getComponent(d);console.log("find('Canvas'):",n.width,n.height),t=u.getVisibleSize(),console.log("view.getVisibleSize():",t.width,t.height),t=u.getVisibleSizeInPixel(),console.log("view.getVisibleSizeInPixel():",t.width,t.height),t=u.getViewportRect(),console.log("view.getViewportRect():",t.x,t.y,t.width,t.height),console.log("screen.width, height:",screen.width,screen.height),console.log("screen.availWidthHeight:",screen.availWidth,screen.availHeight),console.log("screen.pixelDepth:",screen.pixelDepth),console.log("window.devicePixelRatio:",window.devicePixelRatio)},e.bezierTo=function(e,t,n,o,r,i){i=i||Object.create(null);return i.onUpdate=function(t,i){var l,s,a,c,u,g;e.position=(a=o,c=r,u=(1-(l=i))*(1-l)*(s=n).x+2*l*(1-l)*a.x+l*l*c.x,g=(1-l)*(1-l)*s.y+2*l*(1-l)*a.y+l*l*c.y,h(u,g,0))},f(e).to(t,{},i)},e.compareVersion=function(e,t){for(var n=e.split("."),o=t.split("."),r=Math.max(n.length,o.length);n.length<r;)n.push("0");for(;o.length<r;)o.push("0");for(var i=0;i<r;i++){var l=parseInt(n[i]),s=parseInt(o[i]);if(l>s)return 1;if(l<s)return-1}return 0},e.formatFloat=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ViewModel.ts",["cc","./JsonOb.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.cclegacy,e=t.director},function(t){i=t.JsonOb}],execute:function(){n._RF.push({},"e6c35Yz+BpGIJU5OOuSNZ0y","ViewModel",void 0);var o="VC:";function r(t,n,e,i){void 0===i&&(i="");for(var o=n.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1){console.error("["+a+"] not find in "+i+"."+n);break}r==o.length-1?t[a]=e:t=t[a]}}function a(t,n,e,i){void 0===i&&(i="");for(var o=n.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1)return console.error("["+a+"] not find in "+i+"."+n),e;t=t[a]}return null==t&&(t=e),t}var s=function(){function t(t,n){this.$data=void 0,this._tag="",this.active=!0,this.emitToRootPath=!1,new i(t,this._callback.bind(this)),this.$data=t,this._tag=n}var n=t.prototype;return n._callback=function(t,n,i){if(1==this.active){var r=o+this._tag+"."+i.join(".");if(e.emit(r,t,n,[this._tag].concat(i)),this.emitToRootPath&&e.emit(o+this._tag,t,n,i),i.length>=2)for(var a=0;a<i.length-1;a++)i[a]}},n.setValue=function(t,n){r(this.$data,t,n,this._tag)},n.getValue=function(t,n){return a(this.$data,t,n,this._tag)},t}();t("VM",new(function(){function t(){this._mvs=[],this.EMIT_HEAD=o,this.setObjValue=r,this.getObjValue=a}var n=t.prototype;return n.add=function(t,n,e){void 0===n&&(n="global"),void 0===e&&(e=!1),console.log("VM.add() start,tag:",n,";data:",t);var i=new s(t,n),o=this._mvs.find((function(t){return t.tag===n}));n.includes(".")?console.error("cant write . in tag:",n):o?console.error("already set VM tag:"+n):(i.emitToRootPath=e,this._mvs.push({tag:n,vm:i}),console.log("VM.add() end;"))},n.remove=function(t){var n=this._mvs.findIndex((function(n){return n.tag===t}));n>=0&&this._mvs.splice(n,1)},n.get=function(t){var n=this._mvs.find((function(n){return n.tag===t}));if(null!=n)return n.vm;console.error("cant find VM from:",t)},n.addValue=function(t,n){var e=(t=t.trim()).split(".");e.length<2&&console.error("Cant find path:"+t);var i=this.get(e[0]);if(i){var o=e.slice(1).join(".");i.setValue(o,i.getValue(o)+n)}else console.error("Cant Set VM:"+e[0])},n.getValue=function(t,n){var e=(t=t.trim()).split(".");if(e.length<2)console.error("Get Value Cant find path:"+t);else{var i=this.get(e[0]);if(i)return i.getValue(e.slice(1).join("."),n);console.error("Cant Get VM:"+e[0])}},n.setValue=function(t,n){var e=(t=t.trim()).split(".");if(e.length<2)console.error("Set Value Cant find path:"+t);else{var i=this.get(e[0]);i?i.setValue(e.slice(1).join("."),n):console.error("Cant Set VM:"+e[0])}},n.bindPath=function(t,n,i,r){""!=(t=t.trim())?"*"!==t.split(".")[0]?e.on(o+t,n,i,r):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本"):console.error(i.node.name,"节点绑定的路径为空")},n.unbindPath=function(t,n,i){"*"!==(t=t.trim()).split(".")[0]?e.off(o+t,n,i):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本")},n.inactive=function(){this._mvs.forEach((function(t){t.vm.active=!1}))},n.active=function(){this._mvs.forEach((function(t){t.vm.active=!0}))},t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/VMBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts"],(function(t){var n,e,a,h,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,h=t.Component},function(t){i=t.VM}],execute:function(){var o;e._RF.push({},"20cb9U+EBlFFaM7zMLMEEl6","VMBase",void 0);var r=a.ccclass;a.property,t("default",r(o=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),h=0;h<e;h++)a[h]=arguments[h];return(n=t.call.apply(t,[this].concat(a))||this).watchPath="",n.watchPathArr=[],n.templateMode=!1,n.templateValueArr=[],n.VM=i,n}n(e,t);var a=e.prototype;return a.onLoad=function(){for(var t=this,n=this.watchPath.split("."),e=1;e<n.length;e++){if("*"==n[e]){var a=this.node.getParent().children.findIndex((function(n){return n===t.node}));a<=0&&(a=0),n[e]=a.toString();break}}this.watchPath=n.join(".");var h=this.watchPathArr;if(h.length>=1)for(var i=0;i<h.length;i++){for(var o=h[i].split("."),r=1;r<o.length;r++){if("*"==o[r]){var s=this.node.getParent().children.findIndex((function(n){return n===t.node}));s<=0&&(s=0),o[r]=s.toString();break}}this.watchPathArr[i]=o.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&console.log("可能未设置路径的节点:",this.node.getParent().name+"."+this.node.name)},a.onEnable=function(){this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit()},a.onDisable=function(){this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this)},a.setMultPathEvent=function(t){void 0===t&&(t=!0);for(var n=this.watchPathArr,e=0;e<n.length;e++){var a=n[e];t?this.VM.bindPath(a,this.onValueChanged,this):this.VM.unbindPath(a,this.onValueChanged,this)}},a.onValueInit=function(){},a.onValueChanged=function(t,n,e){},e}(h))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/VMLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./StringFormat.ts"],(function(t){var e,r,a,i,n,l,o,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,o=t.CCString,c=t.Label},function(t){s=t.default},function(t){u=t.StringFormatFunction}],execute:function(){var h,p,f,m,b,g,d,V,L,v,y,w;n._RF.push({},"b6c61mwNepBdJLfuUvnLdcN","VMLabel",void 0);var M=l.ccclass,T=l.property,x=l.menu,A=l.executeInEditMode,F=l.help,P="cc.Label";t("default",(h=x("ModelViewer/VM-Label(文本VM)"),p=F("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMLabel.md"),f=T({visible:function(){return!0}}),m=T({readonly:!0}),b=T({tooltip:"是否启用模板代码,只能在运行时之前设置,\n将会动态解析模板语法 {{0}},并且自动设置监听的路径"}),g=T({type:[o]}),M(d=A(d=h(d=p((L=e((V=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,a(e,"watchPath",L,i(e)),a(e,"labelType",v,i(e)),a(e,"templateMode",y,i(e)),a(e,"watchPathArr",w,i(e)),e.templateValueArr=[],e.templateFormatArr=[],e.originText="",e}r(e,t);var n=e.prototype;return n.onRestore=function(){this.checkLabel()},n.onLoad=function(){t.prototype.onLoad.call(this),this.checkLabel(),this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate())},n.start=function(){this.onValueInit()},n.parseTemplate=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(var r=0;r<e.length;r++){var a=e[r].match(t)[1].split(":")[1]||"";this.templateFormatArr[r]=a}},n.getReplaceText=function(){if(!this.originText)return"";var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";for(var r=this.originText,a=0;a<e.length;a++){var i,n=e[a],l=n.match(t),o=parseInt(l[1]||"0")||0,c=this.templateFormatArr[a];i=this.templateValueArr[o],r=r.replace(n,this.getValueFromFormat(i,c))}return r},n.getValueFromFormat=function(t,e){return u.deal(t,e)},n.onValueInit=function(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}},n.onValueChanged=function(t,e,r){if(!1===this.templateMode)this.setLabelValue(t);else{var a=r.join("."),i=this.watchPathArr.findIndex((function(t){return t===a}));i>=0&&(this.templateValueArr[i]=t,this.setLabelValue(this.getReplaceText()))}},n.setLabelValue=function(t){this.getComponent(c).string=t+""},n.getLabelValue=function(){return this.getComponent(c).string},n.checkLabel=function(){for(var t=["cc.Label","cc.RichText","cc.EditBox"],e=0;e<t.length;e++){var r=t[e];if(this.node.getComponent(r))return this.labelType=r,!0}return console.error("没有挂载任何label组件"),!1},e}(s)).prototype,"watchPath",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=e(V.prototype,"labelType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P}}),y=e(V.prototype,"templateMode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=e(V.prototype,"watchPathArr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=V))||d)||d)||d)||d));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});