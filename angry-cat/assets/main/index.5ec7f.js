window.__require=function e(t,o,i){function n(c,r){if(!o[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var p="function"==typeof __require&&__require;if(!r&&p)return p(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var d=o[c]={exports:{}};t[c][0].call(d.exports,function(e){return n(t[c][1][e]||e)},d,d.exports,e,t,o,i)}return o[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<i.length;c++)n(i[c]);return n}({AudioMgr:[function(e,t,o){"use strict";cc._RF.push(t,"91ce2cnt8JEJrUoSDxiwtX/","AudioMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioMgr=void 0;var i=e("../app"),n=cc._decorator,a=n.ccclass,c=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioArr=[],t.volume=1,t.effectClip=null,t.musicClip=null,t.clips={},t.maoShuijiaoAid=null,t}return __extends(t,e),t.prototype.play=function(e,t){void 0===t&&(t=!1),"string"==typeof e&&(e=this.clips[e]),this.effectClip=e,null!=this.maoShuijiaoAid&&(cc.audioEngine.stop(this.maoShuijiaoAid),this.maoShuijiaoAid=null);var o=cc.audioEngine.playEffect(e,t);return"\u732b\u7761\u89c9"==e.name&&(this.maoShuijiaoAid=o),this.init(),o},t.prototype.playMusic=function(e){null!=this.musicClip&&this.musicClip.name==e||("string"==typeof e&&(e=this.clips[e]),this.musicClip=e,cc.audioEngine.playMusic(e,!0),this.init())},t.prototype.pauseMusic=function(){this.musicClip&&cc.audioEngine.pauseMusic()},t.prototype.resumeMusic=function(){this.musicClip&&cc.audioEngine.resumeMusic()},t.prototype.init=function(){this.volume=1,!1===i.app.play.get("switchAudio")&&(this.volume=0),cc.audioEngine.setEffectsVolume(this.volume),cc.audioEngine.setMusicVolume(this.volume),this.parseAudioName()},t.prototype.parseAudioName=function(){var e=this;this.clips={},this.audioArr.forEach(function(t){t&&(e.clips[t.name]=t)})},t.prototype.handleEvent=function(){},t.prototype.start=function(){i.app.event.add(this)},t.prototype.onDisable=function(){i.app.event.remove(this)},__decorate([c([cc.AudioClip])],t.prototype,"audioArr",void 0),__decorate([c],t.prototype,"volume",void 0),__decorate([c],t.prototype,"effectClip",void 0),__decorate([c],t.prototype,"musicClip",void 0),__decorate([a],t)}(cc.Component);o.AudioMgr=r,cc._RF.pop()},{"../app":"app"}],BgCamera:[function(e,t,o){"use strict";cc._RF.push(t,"f345aFtAZNOMbqGyAQe5qoW","BgCamera"),Object.defineProperty(o,"__esModule",{value:!0}),o.BgCamera=void 0;var i=cc._decorator,n=i.ccclass,a=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mapBg=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.setUpdate=function(){this.node.x+=.5,this.node.x>=this.mapBg.children[0].width&&(this.node.x=0)},__decorate([a(cc.Node)],t.prototype,"mapBg",void 0),__decorate([n],t)}(cc.Component);o.BgCamera=c,cc._RF.pop()},{}],CHSdk:[function(e,t,o){"use strict";cc._RF.push(t,"ce6606KTiROMpzdnL0iOjY1","CHSdk"),Object.defineProperty(o,"__esModule",{value:!0}),o.CHSdk=void 0,e("../app");var i=e("./GamePixSDK"),n=e("./YandexSDK"),a=cc._decorator,c=a.ccclass,r=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._chsdk={},t}return __extends(t,e),t.prototype.init=function(){},t.prototype.creatorNativeAd=function(){},t.prototype.callAdVideo=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.gYandexSDK&&n.gYandexSDK.isReady()?[4,i.gGamePixSDK.showVideoAd(e)]:[3,2];case 1:return t.sent(),[3,3];case 2:e(!1),t.label=3;case 3:return[2]}})})},t.prototype.getNativeAd=function(){return null},t.prototype.videoShare=function(){},t.prototype.promotion=function(e,t){console.log("CHSdk.promotion()"),this._chsdk.promotion?this._chsdk.promotion(e,t):t(!1)},__decorate([c],t)}(cc.Component));o.CHSdk=r,cc._RF.pop()},{"../app":"app","./GamePixSDK":"GamePixSDK","./YandexSDK":"YandexSDK"}],GameMonetizeSDK:[function(e,t,o){"use strict";cc._RF.push(t,"c0811taiANIQIWyLHH0rV63","GameMonetizeSDK"),Object.defineProperty(o,"__esModule",{value:!0}),o.gGameMonetizeSDK=void 0;var i=e("../app"),n=cc._decorator,a=n.ccclass,c=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bReady=!1,t}return __extends(t,e),t.prototype.init=function(){o.gGameMonetizeSDK=this,window.gGameMonetizeSDK=o.gGameMonetizeSDK},t.prototype.onEvent=function(e){switch(console.log("GameMonetizeSDK.onEvent("+e+")"),e.name){case"SDK_GAME_PAUSE":i.app.audio.pauseMusic();break;case"SDK_GAME_START":i.app.audio.resumeMusic();break;case"SDK_READY":this.bReady=!0}},t.prototype.showBanner=function(){var e=window.sdk;void 0!==e&&"undefined"!==e.showBanner&&(i.app.audio.pauseMusic(),e.showBanner(),this.bReady=!1)},t.prototype.isReady=function(){var e=window.sdk;return void 0!==e&&"undefined"!==e.showBanner},__decorate([a],t)}(cc.Component));o.default=c,o.gGameMonetizeSDK=null,cc._RF.pop()},{"../app":"app"}],GameOverLayer:[function(e,t,o){"use strict";cc._RF.push(t,"0594cYbKXxL3aOvvgF0oSfh","GameOverLayer"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameOverLayer=void 0;var i=e("../Scene/GameScene"),n=e("../app"),a=window,c=cc._decorator,r=c.ccclass,s=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinNum=0,t.moneyNum=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.node.x=cc.winSize.width/2,this.node.y=cc.winSize.height/2,this.node.width=cc.winSize.width,this.node.height=cc.winSize.height},t.prototype.start=function(){this.coinNum=i.gGameScene.coinNum,this.moneyNum=i.gGameScene.moneyNum,cc.find("Bg/coinNum/num",this.node).getComponent(cc.Label).string=""+this.coinNum,cc.find("Bg/moneyNum/num",this.node).getComponent(cc.Label).string=""+this.moneyNum;var e=n.app.play.get("coin");e+=this.coinNum,n.app.play.set("coin",e),n.app.play.get("maxScore")<this.moneyNum&&n.app.play.set("maxScore",this.moneyNum),a.tt&&i.gGameScene.recorder.stop(),a.tt&&!a.ishei()?cc.find("Bg/videoSharing",this.node).active=!0:cc.find("Bg/videoSharing",this.node).active=!1},t.prototype.clickVideoSharing=function(){var e=this,t=function(){this.coinNum*=2;var e=n.app.play.get("coin");e+=this.coinNum,n.app.play.set("coin",e),this.hide()}.bind(this);n.app.chsdk.videoShare(function(o){o?t():e.scheduleOnce(function(){n.app.pop.showTipsLayer("\u5f55\u5c4f\u5206\u4eab\u5931\u8d25")},.75)})},t.prototype.getBtnCallBack=function(){var e=this,t=function(){console.log("\u5355\u500d\u9886\u53d60_1_2"),a.iswudian()&&a.app.fcUtil.random(0,100)<50?(console.log("\u5355\u500d\u9886\u53d61_1"),a.app.chsdk.callAdVideo(function(){console.log("\u5355\u500d\u9886\u53d62_1"),e.hide()})):(console.log("\u5355\u500d\u9886\u53d61_2"),e.hide())}.bind(this);a.tt&&a.ishei()?(console.log("\u5355\u500d\u9886\u53d60_1"),a.app.chsdk.videoShare(t)):(console.log("\u5355\u500d\u9886\u53d60_2"),t())},t.prototype.doubleGetBtnCallBack=function(){var e=function(e){if(e){this.coinNum*=2;var t=a.app.play.get("coin");t+=this.coinNum,a.app.play.set("coin",t),this.hide()}else a.app.pop.showTipsLayer("VIDEO NOT READY")}.bind(this);a.tt&&a.ishei()?a.app.chsdk.videoShare(function(){a.app.chsdk.callAdVideo(e)}):n.app.chsdk.callAdVideo(e)},t.prototype.hide=function(){console.log("\u9500\u6bc1\u7ed3\u7b97\u754c\u97621"),a.qg&&a.ishei()&&a.qg.hasShortcutInstalled({success:function(e){0==e&&a.qg.installShortcut({success:function(){},fail:function(){},complete:function(){}})},fail:function(){},complete:function(){}}),console.log("\u9500\u6bc1\u7ed3\u7b97\u754c\u97622"),this.node.destroy(),cc.director.loadScene("GameScene")},t.prototype.onDestroy=function(){},__decorate([r],t)}(cc.Component));o.GameOverLayer=s,cc._RF.pop()},{"../Scene/GameScene":"GameScene","../app":"app"}],GamePixSDK:[function(e,t,o){"use strict";cc._RF.push(t,"4a508HQkj1JjbfVSntMk8oE","GamePixSDK"),Object.defineProperty(o,"__esModule",{value:!0}),o.gGamePixSDK=void 0;var i=cc._decorator,n=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bReady=!1,t}return __extends(t,e),t.prototype.init=function(){o.gGamePixSDK=this,window.gGamePixSDK=o.gGamePixSDK},t.prototype.showVideoAd=function(e){window.GamePix?window.GamePix.rewardAd().then(function(t){t.success?e(!0):e(!1)}):e(!1)},t.prototype.isReady=function(){return!0},__decorate([n],t)}(cc.Component));o.default=a,o.gGamePixSDK=null,cc._RF.pop()},{}],GameScene:[function(e,t,o){"use strict";cc._RF.push(t,"b8a7d8W3SlPwp3k0Iskq/+C","GameScene"),Object.defineProperty(o,"__esModule",{value:!0}),o.gGameScene=o.GameScene=void 0;var i=e("../Camera/MainCamera"),n=e("../Common/G"),a=e("../GameUi"),c=e("../ResManage/ItemRes"),r=e("../ResManage/TmxRes"),s=e("../app"),p=e("../mao"),d=e("./Map"),h=window,l=cc._decorator,u=l.ccclass,m=l.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemRes=null,t.tmxRes=null,t.map=null,t.mainCamera=null,t.mao=null,t.gameUi=null,t.touchNode=null,t.qgNativeAdNode=null,t.isDie=!1,t.isStartGame=!1,t.isMoveMap=!1,t.speed=100,t.timeElapsed=0,t.coinNum=0,t.moneyNum=0,t.touchState="",t.recorder=null,t}return __extends(t,e),t.prototype.onLoad=function(){console.log("GameScene.onLoad()"),o.gGameScene=this,h.GameScene=this,cc.director.getCollisionManager().enabled=!0;var e=cc.director.getPhysicsManager();e.enabledAccumulator=!0,e.enabled=!0},t.prototype.start=function(){if(0==s.app.hasInitMainScene){var e=cc.find("PersistRootNode");cc.game.addPersistRootNode(e),s.app.initMainScene(e),s.app.audio.playMusic("\u80cc\u666f\u97f3\u4e50-\u666e\u901a\u5173\u5361")}this.speed=n.G.GameSpeed,this.timeElapsed=0,s.app.audio.play("\u732b\u7761\u89c9",!0),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.touchNode.on(cc.Node.EventType.TOUCH_START,this.touchStartCallBack,this),this.touchNode.on(cc.Node.EventType.TOUCH_END,this.touchEndCallBack,this),this.touchNode.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEndCallBack,this)},t.prototype.onKeyDown=function(e){switch(e.keyCode){case cc.macro.KEY.space:this.touchStartCallBack()}},t.prototype.onKeyUp=function(e){switch(e.keyCode){case cc.macro.KEY.space:this.touchEndCallBack()}},t.prototype.touchStartCallBack=function(){"touch"!=this.touchState&&1!=this.isDie&&0!=this.isStartGame&&(this.touchState="touch",this.mao.setJump())},t.prototype.touchEndCallBack=function(){this.touchState=""},t.prototype.startGame=function(){var e,t=this;e=function(){h.tt&&(t.recorder||(t.recorder=h.tt.getGameRecorderManager(),t.recorder.onStart(function(){console.log("\u5f55\u5c4f\u5f00\u59cb")}),t.recorder.onStop(function(e){console.log("\u5f55\u5c4f\u505c\u6b62"),console.log(e.videoPath),h.videoPath=e.videoPath})),t.recorder.start({duration:300})),t.mao.playerAction("xing"),t.isStartGame=!0,t.timeElapsed=0,s.app.audio.play("\u732b-1\u6bb5\u8df3")},h.intoJs=cc.js.isNumber(h.intoJs)?h.intoJs+1:0,h.ishei()&&h.intoJs%2==1?s.app.chsdk.callAdVideo(e):e()},t.prototype.update=function(e){(new Date).getTime(),this.timeElapsed+=e,this.updateProw(e),1!=this.isDie&&(this.mao.setUpdate(e),this.mainCamera.setUpdate(e),0!=this.isStartGame&&0!=this.isMoveMap&&this.map.setUpdate(e))},t.prototype.updateProw=function(){var e=s.app.play.get("power");if(null!=cc.find("MainUi/power/num",this.node)&&(cc.find("MainUi/power/num",this.node).getComponent(cc.Label).string=e+"/"+s.app.G.MaxPower),e>=s.app.G.MaxPower)null!=cc.find("MainUi/power/time",this.node)&&(cc.find("MainUi/power/time",this.node).active=!1);else{var t=s.app.play.get("proPowerTime"),o=parseInt(((new Date).getTime()/1e3).toFixed());if(null!=cc.find("MainUi/power/time",this.node)&&(cc.find("MainUi/power/time",this.node).active=!0,cc.find("MainUi/power/time/time",this.node).getComponent(cc.Label).string=s.app.fcUtil.secondConversion(s.app.G.PowerRecoveryTime-(o-Number(t)),2)),o-t>s.app.G.PowerRecoveryTime){var i=parseInt(((o-t)/s.app.G.PowerRecoveryTime).toFixed());e+i>=s.app.G.MaxPower?s.app.play.set("power",s.app.G.MaxPower):s.app.play.set("power",e+i),e+i<s.app.G.MaxPower&&s.app.play.set("proPowerTime",t+s.app.G.PowerRecoveryTime*i)}}},t.prototype.addCoin=function(e){this.coinNum+=e,this.gameUi.updateInfo()},t.prototype.addMoney=function(e){this.moneyNum+=e,this.gameUi.updateInfo(),this.gameUi.addMoney(e)},__decorate([m(c.default)],t.prototype,"itemRes",void 0),__decorate([m(r.TmxRes)],t.prototype,"tmxRes",void 0),__decorate([m(d.Map)],t.prototype,"map",void 0),__decorate([m(i.MainCamera)],t.prototype,"mainCamera",void 0),__decorate([m(p.mao)],t.prototype,"mao",void 0),__decorate([m(a.GameUi)],t.prototype,"gameUi",void 0),__decorate([m(cc.Node)],t.prototype,"touchNode",void 0),__decorate([m(cc.Node)],t.prototype,"qgNativeAdNode",void 0),__decorate([u],t)}(cc.Component);o.GameScene=y,o.gGameScene=null,cc._RF.pop()},{"../Camera/MainCamera":"MainCamera","../Common/G":"G","../GameUi":"GameUi","../ResManage/ItemRes":"ItemRes","../ResManage/TmxRes":"TmxRes","../app":"app","../mao":"mao","./Map":"Map"}],GameUi:[function(e,t,o){"use strict";cc._RF.push(t,"1ab19DW0uBMs5VL2thvRfbC","GameUi"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameUi=void 0;var i=e("./Scene/GameScene"),n=e("./addScore"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.addScore=null,t.moveTween=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.updateInfo()},t.prototype.addMoney=function(e){var t=this;null!=this.moveTween&&(this.moveTween.stop(),this.moveTween=null),this.addScore.node.y=-9,this.addScore.node.opacity=255,this.addScore.node.getChildByName("Num").getComponent(cc.Label).string=""+e,this.moveTween=cc.tween(this.addScore.node).to(.8,{y:0}).to(.8,{y:9,opacity:0}).call(function(){t.moveTween=null}).start()},t.prototype.updateInfo=function(){cc.find("money/num",this.node).getComponent(cc.Label).string=""+i.gGameScene.moneyNum,cc.find("coin/num",this.node).getComponent(cc.Label).string=""+i.gGameScene.coinNum},__decorate([r(n.addScore)],t.prototype,"addScore",void 0),__decorate([c],t)}(cc.Component);o.GameUi=s,cc._RF.pop()},{"./Scene/GameScene":"GameScene","./addScore":"addScore"}],G:[function(e,t,o){"use strict";cc._RF.push(t,"a2156VX2sVDrIgPhxT3zmb3","G"),Object.defineProperty(o,"__esModule",{value:!0}),o.G=void 0,o.G={GameSpeed:180,updatePlayerData:"update-player-data",PowerRecoveryTime:300,MinStartTime:60,MaxPower:6},cc._RF.pop()},{}],ItemRes:[function(e,t,o){"use strict";cc._RF.push(t,"4f020G18RZA5621XKVUqj2J","ItemRes"),Object.defineProperty(o,"__esModule",{value:!0}),o.itemPrefAttr=void 0;var i=cc._decorator,n=i.ccclass,a=i.property,c=function(){function e(){this.pref=null,this.popName=""}return __decorate([a(cc.Prefab)],e.prototype,"pref",void 0),__decorate([a(cc.String)],e.prototype,"popName",void 0),__decorate([n("itemPrefAttr")],e)}();o.itemPrefAttr=c;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pref_arr=[],t}return __extends(t,e),t.prototype.getAttrByName=function(e){for(var t in this.pref_arr){var o=this.pref_arr[t];if(o.popName==e)return o}return console.error("pop get error"),null},t.prototype.start=function(){},__decorate([a([c])],t.prototype,"pref_arr",void 0),__decorate([n],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],JsonMgr:[function(e,t,o){"use strict";cc._RF.push(t,"c3da8CAhQhGx5UMrk1dqcnw","JsonMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.JsonMgr=void 0;var i=cc._decorator,n=i.ccclass,a=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tbTask=null,t.tbCheckpoint=null,t.tbRoleAttribute=null,t}return __extends(t,e),__decorate([a(cc.JsonAsset)],t.prototype,"tbTask",void 0),__decorate([a(cc.JsonAsset)],t.prototype,"tbCheckpoint",void 0),__decorate([a(cc.JsonAsset)],t.prototype,"tbRoleAttribute",void 0),__decorate([n],t)}(cc.Component);o.JsonMgr=c,cc._RF.pop()},{}],LoadingScene:[function(e,t,o){"use strict";cc._RF.push(t,"84b3aHcHKpG7YZzyKo3EiiC","LoadingScene"),Object.defineProperty(o,"__esModule",{value:!0}),o.LoadingScene=void 0;var i=e("../app"),n=window;n.ishei=function(){return!0},n.isdaochu=function(){return!0},n.iswudian=function(){return!0},n.showbaner=function(){return!0},n.hideVideo=function(){return!1};var a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startNode=null,t.cdNode=null,t.cd=null,t.cdLabel=null,t.version="1.0.1",t.gameid="jm217",t.timeValue=0,t.isStaet=!1,t.newSceneValue="",t.newUser=!0,t.bMainSceneLoadComplete=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.getLocal("bzphm")||(cc.sys.localStorage.clear(),this.saveLocal("bzphm","1")),this.timeValue=0,this.cd.fillRange=0,this.isStaet=!1,this.startNode.active=!1,this.cdNode.active=!1},t.prototype.start=function(){var e=this;this._start(),this.scheduleOnce(function(){e.startBtnCallback()},.1)},t.prototype._start=function(){if(n.startTime=parseInt(((new Date).getTime()/1e3).toFixed()),n.gameid=this.gameid,null!=n.qg?n.version="vivo"+this.version:null!=n.tt?n.version="dy"+this.version:null!=n.wx?n.version="wx"+this.version:n.version="oppo"+this.version,n.hbswitch={},n.app=i.app,n.is_show_ad=1,null!=n.qg)n.scene="1001",this.preloadGameScene();else if(null!=n.tt)n.scene="1001";else if(null!=n.wx){this.wxShowShareBtn(),this.preloadGameScene();var e=n.wx.getLaunchOptionsSync();console.log("optionsInfo",e),e.scene&&(n.scene=e.scene),this.getSceneValue()}else n.scene="1001",this.preloadGameScene();var t=this.getLocal("MGZJZ");t?this.newSceneValue=t:(this.newUser=!0,this.newSceneValue=n.scene,this.saveLocal("MGZJZ",this.newSceneValue))},t.prototype.getSceneValue=function(){},t.prototype.wxShowShareBtn=function(){},t.prototype.startBtnCallback=function(){this.loadGameScene(),this.startNode.active=!1,this.cdNode.active=!0},t.prototype.preloadGameScene=function(){i.app.init(),this.isStaet=!0,this.loadScene()},t.prototype.loadSubpackage=function(e,t){var o=this;n.qg.loadSubpackage({name:"res"+t,success:function(){console.info("\u52a0\u8f7d\u5206\u5305 sub1Name \u6210\u529f"),t>=2?o.loadScene():o.loadSubpackage(o.loadScene,t+1)},fail:function(e){console.info("\u52a0\u8f7d\u5206\u5305 sub1Name \u5931\u8d25",e)},complete:function(){}}).onProgressUpdate(function(e){console.log("sub1Name \u4e0b\u8f7d\u8fdb\u5ea6",e.progress),console.log("sub1Name \u5df2\u7ecf\u4e0b\u8f7d\u7684\u6570\u636e\u957f\u5ea6",e.totalBytesWritten),console.log("sub1Name \u9884\u671f\u9700\u8981\u4e0b\u8f7d\u7684\u6570\u636e\u603b\u957f\u5ea6",e.totalBytesExpectedToWrite)})},t.prototype.loadScene=function(){var e=this;cc.director.preloadScene("GameScene",function(t,o,i){e.onProgress(t,o,i)},function(t,o){e.onLoadComplete(t,o)})},t.prototype.onProgress=function(e,t){this.cd&&(this.cd.fillRange=e/t,this.cdLabel.string=(e/t*100).toFixed()+"%")},t.prototype.onLoadComplete=function(){console.log("LoadingScene.onLoadComplete()"),this.getOpenBanner(),i.app.scheduleOnce(function(){},.1)},t.prototype.loadGameScene=function(){cc.director.loadScene("GameScene")},t.prototype.getOpenBanner=function(){if(n.arr)for(var e=!1,t=0;t<n.arr.length;t++)if(1==this.newUser){if(0==t)for(var o=0;o<n.arr[t].length;o++)if(n.scene==n.arr[t][o])return n.openBanner=!0,void console.log("\u573a\u666f\u503c\u662f\u5f00\u542fbanner\u8bef\u70b9",n.openBanner)}else if(0==t){for(o=0;o<n.arr[t].length;o++)if(this.newSceneValue==n.arr[t][o]){e=!0;break}}else if(1==t)for(o=0;o<n.arr[t].length;o++)if(n.scene==n.arr[t][o]&&1==e)return n.openBanner=!0,void console.log("\u573a\u666f\u503c\u662f\u5f00\u542fbanner\u8bef\u70b9",n.openBanner);n.openBanner=!1,console.log("\u573a\u666f\u503c\u662f\u5f00\u542fbanner\u8bef\u70b9",this.newSceneValue+";"+n.scene),console.log("\u573a\u666f\u503c\u662f\u5f00\u542fbanner\u8bef\u70b9",n.openBanner)},t.prototype.saveLocal=function(e,t){cc.log("saveLocal="+e,t),cc.sys.localStorage.setItem(e,t)},t.prototype.getLocal=function(e,t){return cc.log("getLocal="+e,t),cc.sys.localStorage.getItem(e)},t.prototype.update=function(){},__decorate([r(cc.Node)],t.prototype,"startNode",void 0),__decorate([r(cc.Node)],t.prototype,"cdNode",void 0),__decorate([r(cc.Sprite)],t.prototype,"cd",void 0),__decorate([r(cc.Label)],t.prototype,"cdLabel",void 0),__decorate([r],t.prototype,"version",void 0),__decorate([r],t.prototype,"gameid",void 0),__decorate([c],t)}(cc.Component);o.LoadingScene=s,cc._RF.pop()},{"../app":"app"}],MainCamera:[function(e,t,o){"use strict";cc._RF.push(t,"bbd9ffPXYhBKIuvfpYCwRTu","MainCamera"),Object.defineProperty(o,"__esModule",{value:!0}),o.MainCamera=void 0;var i=e("../Common/G"),n=e("../Scene/GameScene"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentSize=0,t.huoNode=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.setUpdate=function(){var e=(n.gGameScene.mao.node.y+100)/3;e>60?e=60:e<=0&&(e=0);var t=e-this.node.y,o=Math.abs(parseFloat(t.toFixed(3)))>1?1:Math.abs(parseFloat(t.toFixed(3)));if(t>0?o=o:t<0&&(o=-o),this.node.y=this.node.y+o,this.huoNode.y=this.node.y,n.gGameScene.moneyNum>1e3){if(0==this.huoNode.active){console.error("\u66f4\u65b0\u706b\u7684\u4f4d\u7f6e"),this.huoNode.active=!0,n.gGameScene.speed=1.2*i.G.GameSpeed;var a=cc.find("yan",this.huoNode);a.opacity=0,cc.tween(a).to(2,{opacity:255}).start();var c=cc.find("huo",this.huoNode);c.opacity=0,cc.tween(c).to(.1,{opacity:0}).delay(5).by(.1,{x:-50}).by(.1,{opacity:255}).by(5,{x:50}).call(function(){console.error("\u66f4\u65b0\u706b\u7684\u4f4d\u7f6e4",c.x)}).start()}}else this.huoNode.active=!1},__decorate([r],t.prototype,"currentSize",void 0),__decorate([r(cc.Node)],t.prototype,"huoNode",void 0),__decorate([c],t)}(cc.Component);o.MainCamera=s,cc._RF.pop()},{"../Common/G":"G","../Scene/GameScene":"GameScene"}],MainUi:[function(e,t,o){"use strict";cc._RF.push(t,"cfd71KH0dNHgIUTlaISWmBR","MainUi"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Common/G"),n=e("./Scene/GameScene"),a=e("./app"),c=cc._decorator,r=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainUiNode=null,t.gameUiNode=null,t}return __extends(t,e),t.prototype.onLoad=function(){a.app.event.add(this)},t.prototype.start=function(){this.mainUiNode.active=!0,this.gameUiNode.active=!1,this.updateWealth()},t.prototype.handleEvent=function(e,t){switch(e){case a.app.G.updatePlayerData:switch(t.name){case"coin":case"power":this.updateWealth()}}},t.prototype.updateWealth=function(){cc.find("power/num",this.node).getComponent(cc.Label).string=""+a.app.play.get("power"),cc.find("coin/num",this.node).getComponent(cc.Label).string=""+a.app.play.get("coin")},t.prototype.startBtnCallBack=function(){var e=this,t=a.app.play.get("power");t<=0?(a.app.pop.showAddCoinLayerr("power",function(t){t&&(n.gGameScene.startGame(),e.mainUiNode.active=!1,e.gameUiNode.active=!0)}),a.app.pop.showTipsLayer("NO ENOUGH POWER")):(a.app.play.set("power",t-1),t-1<=i.G.MaxPower&&a.app.play.set("proPowerTime",parseInt(((new Date).getTime()/1e3).toFixed())),n.gGameScene.startGame(),this.mainUiNode.active=!1,this.gameUiNode.active=!0)},t.prototype.addCoinBtnCallBack=function(){a.app.pop.showAddCoinLayerr("coin",function(){})},t.prototype.addPowerBtnCallBack=function(){a.app.pop.showAddCoinLayerr("power",function(){})},t.prototype.onDestroy=function(){a.app.event.remove(this)},__decorate([s(cc.Node)],t.prototype,"mainUiNode",void 0),__decorate([s(cc.Node)],t.prototype,"gameUiNode",void 0),__decorate([r],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./Common/G":"G","./Scene/GameScene":"GameScene","./app":"app"}],Map:[function(e,t,o){"use strict";cc._RF.push(t,"2fb9bBLO3pKEbpMb5fJW0uq","Map"),Object.defineProperty(o,"__esModule",{value:!0}),o.Map=void 0;var i=e("../app"),n=e("./GameScene"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mapBg=null,t.mapTmx=[],t.collisionLayer=null,t.tmxNode=null,t.currentIndex=0,t.currentSize=0,t.isNewStart=!0,t._testT=0,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.mapMove(0),cc.find("collision/maxScoreItem/num",this.node).getComponent(cc.Label).string="$"+i.app.play.get("maxScore")},t.prototype.setUpdate=function(e){this.mapMove(e)},t.prototype.mapMove=function(e){var t=n.gGameScene.speed;n.gGameScene.mao.flyTime1>0&&(t*=3);var o=t*e;this.mapBg.position=cc.v3(this.mapBg.x-o/2,this.mapBg.y,this.mapBg.z),this.mapBg.x<=-this.mapBg.children[0].width&&(this.mapBg.x=0);for(var a=0;a<this.mapTmx.length;a++)this.mapTmx[a].position=cc.v3(this.mapTmx[a].x-o,this.mapTmx[a].y,this.mapTmx[a].z);this.collisionLayer.x-=o;var c=!1,r=1==this.isNewStart?0:i.app.fcUtil.random(1,n.gGameScene.tmxRes.itemList.length-1);for(a=0;a<this.mapTmx.length;a++)(0==this.currentSize||this.mapTmx[a].x+this.currentSize-this.tmxNode.width<=0)&&(c=!0,this.isNewStart=!1,this.createNewNode(a,r));if(1==c&&(console.log("\u521b\u5efa\u5730\u56fe"),this.currentSize+=this.tmxNode.width,this.currentSize/this.tmxNode.width>2)){var s=!1;for(a=0;a<this.mapTmx.length;a++)for(var p=this.mapTmx[a].children,d=0;d<p.length;d++)null!=p[d]&&p[d].x<this.currentSize-2*this.tmxNode.width&&(console.info("\u9500\u6bc1\u4e00\u4e2a\u5730\u56fe",d),p[d].destroy(),s=!0);for(s&&console.log("\u9500\u6bc1\u5730\u56fe"),s=!1,p=this.collisionLayer.children,a=0;a<p.length;a++)null!=p[a]&&p[a].x<this.currentSize-2*this.tmxNode.width&&(p[a].destroy(),s=!0);s&&console.log("\u9500\u6bc1\u7269\u54c1")}},t.prototype.createNewNode=function(e,t){this.mapTmx[e].width+=this.tmxNode.width;var o=null;0==e?((o=cc.instantiate(n.gGameScene.tmxRes.houjingPrefabList[t])).parent=this.mapTmx[e],o.zIndex=19):1==e||2==e||3==e&&((o=cc.instantiate(n.gGameScene.tmxRes.qianjingPrefabList[t])).parent=this.mapTmx[e],o.zIndex=19,this.tmxNode.getComponent(cc.TiledMap).tmxAsset=n.gGameScene.tmxRes.itemList[t],this.createItem(this.tmxNode)),o&&(console.log("currentSize:"+this.currentSize),o.x=this.currentSize+this.tmxNode.width/2)},t.prototype.createItem=function(e){var t=e.getComponent(cc.TiledMap),o=cc.size(t.getMapSize().width*t.getTileSize().width,t.getMapSize().height*t.getTileSize().height),i=cc.size(t.getTileSize().width,t.getTileSize().height),a=t.getObjectGroup("obj").getObjects(),c=t.getObjectGroup("item").getObjects(),r=cc.size(0,0);r.width=parseInt((o.width/i.width).toFixed()),r.height=parseInt((o.height/i.height).toFixed());for(var s=0;s<a.length;s++)(p=new cc.Node).parent=this.collisionLayer,p.position=cc.v3(a[s].x+this.currentSize+a[s].width/2,a[s].y-e.height/2-a[s].height/2,p.z),p.width=a[s].width,p.height=a[s].height,p.group=a[s].name,p.name=a[s].name,this.addCom(p);for(s=0;s<c.length&&null!=c[s].itemName;s++){var p,d=n.gGameScene.itemRes.getAttrByName(c[s].itemName);(p=cc.instantiate(d.pref)).parent=this.collisionLayer,p.position=cc.v3(c[s].x+this.currentSize,c[s].y-e.height/2-c[s].height,p.z),p.group="item",p.name=c[s].itemName,p.getComponent("item").init(parseInt(c[s].angle))}},t.prototype.createCoin=function(e){var t=n.gGameScene.itemRes.getAttrByName("coin"),o=cc.instantiate(t.pref);o.parent=this.collisionLayer,o.position=cc.v3(e.x,e.y,o.z),o.group="item",o.name="coin"},t.prototype.createEffects_qitiao=function(e){var t=n.gGameScene.itemRes.getAttrByName("effects_pengzhuang"),o=cc.instantiate(t.pref);o.parent=this.collisionLayer,o.position=cc.v3(e.x,e.y,o.z)},t.prototype.addCom=function(e){e.addComponent(cc.BoxCollider).size=cc.size(e.width,e.height)},__decorate([r(cc.Node)],t.prototype,"mapBg",void 0),__decorate([r([cc.Node])],t.prototype,"mapTmx",void 0),__decorate([r(cc.Node)],t.prototype,"collisionLayer",void 0),__decorate([r(cc.Node)],t.prototype,"tmxNode",void 0),__decorate([r],t.prototype,"currentIndex",void 0),__decorate([r],t.prototype,"currentSize",void 0),__decorate([r],t.prototype,"isNewStart",void 0),__decorate([c],t)}(cc.Component);o.Map=s,cc._RF.pop()},{"../app":"app","./GameScene":"GameScene"}],PlayData:[function(e,t,o){"use strict";cc._RF.push(t,"211903MwsJHKY/UaaLLKo2J","PlayData"),Object.defineProperty(o,"__esModule",{value:!0}),o.PlayData=void 0;var i=e("../app"),n={power:{type:"number",default:function(){return 6},name:"power"},proPowerTime:{type:"number",default:function(){return 0},name:"proPowerTime"},coin:{type:"number",default:function(){return 100},name:"coin"},switchAudio:{type:"number",default:function(){return 1},name:"switchAudio"},maxScore:{type:"number",default:function(){return 0},name:"maxScore"},dailyResetTable:{type:"object",default:function(){return{__time:JSON.stringify(new Date).substring(1,11)}},name:"dailyResetTable"}},a=function(e,t){switch(e){case"number":return t?String:Number;case"string":return String;case"object":return t?JSON.stringify:function(e){return"string"!=typeof e?e:e.length?JSON.parse(e):{}};case"boolean":return t?String:function(e){return"string"!=typeof e?e:!!e.length&&"true"===e};default:return function(e){return e}}},c=cc._decorator,r=c.ccclass,s=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attr={},t.log=null,t}return __extends(t,e),t.prototype.init=function(){this.log=i.app.fcUtil.createLog("[ player-data ]",!0),this.parseLocalData()},t.prototype.keys=function(){return n},t.prototype.get=function(e){return void 0===this.attr[e]&&console.error("[player-data] get () key not found error ",e),"object"==typeof this.attr[e]?i.app.fcUtil.deepClone(this.attr[e]):this.attr[e]},t.prototype.set=function(e,t){if(this.log(e,t,typeof t,e.type),(e=n[e])&&typeof t===e.type){var o=a(e.type,!0)(t);this.log("setItem",e.name,o,typeof t),i.app.fcUtil.saveLocal(e.name,o),this.attr[e.name]=t,i.app.event.send(i.app.G.updatePlayerData,{name:e.name,val:t})}else console.error("player.data.set error",e,t)},t.prototype.checkDailyData=function(){var e=JSON.stringify(new Date).substring(1,11),t=this.get("dailyResetTable");t&&e!==t.__time&&(t={__time:e},this.set("dailyResetTable",t))},t.prototype.parseLocalData=function(){for(var e in this.log("-------- parseLocalData begin ----------"),n){var t=n[e],o=i.app.fcUtil.getLocal(t.name);"string"==typeof o&&this.log("string",o.length,!!o),this.log("parseLocalData",t.name,o),this.log("step1",o,"undefined"===o,"undefined"===o?t.default:o),o="function"==typeof(o=(o="undefined"===o?t.default:o)||t.default)?o():o;var c=a(t.type);try{o=c(o)}catch(r){console.error(r)}this.set(t.name,o)}this.log("-------- parseLocalData end ----------"),this.checkDailyData()},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){},__decorate([r],t)}(cc.Component));o.PlayData=s,cc._RF.pop()},{"../app":"app"}],Pop:[function(e,t,o){"use strict";cc._RF.push(t,"5b2fd+aT/lAvYQM/vSIPAv5","Pop"),Object.defineProperty(o,"__esModule",{value:!0}),o.Pop=void 0;var i=e("./TipsLayer"),n=e("./addCoinLayer"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(){function e(){this.pref=null,this.popName=""}return __decorate([r(cc.Prefab)],e.prototype,"pref",void 0),__decorate([r(cc.String)],e.prototype,"popName",void 0),__decorate([c("prefAttr")],e)}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pref_arr=[],t.node_gameScene=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.getAttrByName=function(e){for(var t in this.pref_arr){var o=this.pref_arr[t];if(o.popName==e)return o}return console.error("pop get error"),null},t.prototype.createNodeByName=function(e){var t=this.getAttrByName(e),o=cc.instantiate(t.pref);return o.parent=this.node,o},t.prototype.showGameOverLayer=function(){if(!this.node.getChildByName("GameOverLayer")){var e=this.getAttrByName("GameOverLayer"),t=cc.instantiate(e.pref);t.parent=this.node,t.name="GameOverLayer"}},t.prototype.showTipsLayer=function(e){var t=this.getAttrByName("TipsLayer"),o=cc.instantiate(t.pref);o.parent=this.node,o.getComponent(i.TipsLayer).init(e),o.name="TipsLayer"},t.prototype.showAddCoinLayerr=function(e,t){if(!this.node.getChildByName("GameOverLayer")){var o=this.getAttrByName("addCoinLayer"),i=cc.instantiate(o.pref);i.parent=this.node,i.getComponent(n.addCoinLayer).init(e,t),i.name="addCoinLayer"}},t.prototype.onDestroy=function(){console.error("pop destroy")},__decorate([r([s])],t.prototype,"pref_arr",void 0),__decorate([r(cc.Node)],t.prototype,"node_gameScene",void 0),__decorate([c],t)}(cc.Component);o.Pop=p,cc._RF.pop()},{"./TipsLayer":"TipsLayer","./addCoinLayer":"addCoinLayer"}],TipsLayer:[function(e,t,o){"use strict";cc._RF.push(t,"e4ecckmf69BHrkRopmdwZBA","TipsLayer"),Object.defineProperty(o,"__esModule",{value:!0}),o.TipsLayer=void 0;var i=cc._decorator,n=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.node.x=(cc.winSize.width-this.node.width)/2,this.node.y=(cc.winSize.height-this.node.height)/2,this.node.width=cc.winSize.width,this.node.height=cc.winSize.height},t.prototype.start=function(){},t.prototype.init=function(e){var t=this;this.node.getChildByName("Lable").getComponent(cc.Label).string=""+e;var o=this.node.y;cc.tween(this.node).to(1,{y:o+20}).to(1,{y:o+40,opacity:0}).call(function(){t.node.destroy()}).start()},__decorate([n],t)}(cc.Component));o.TipsLayer=a,cc._RF.pop()},{}],TmxRes:[function(e,t,o){"use strict";cc._RF.push(t,"d036bR5LWRLfbl4pDZZ75Hq","TmxRes"),Object.defineProperty(o,"__esModule",{value:!0}),o.TmxRes=void 0;var i=cc._decorator,n=i.ccclass,a=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.houjingPrefabList=[],t.qianjingPrefabList=[],t.itemList=[],t}return __extends(t,e),t.prototype.start=function(){},__decorate([a([cc.Prefab])],t.prototype,"houjingPrefabList",void 0),__decorate([a([cc.Prefab])],t.prototype,"qianjingPrefabList",void 0),__decorate([a([cc.TiledMapAsset])],t.prototype,"itemList",void 0),__decorate([n],t)}(cc.Component);o.TmxRes=c,cc._RF.pop()},{}],VideoIcon:[function(e,t,o){"use strict";cc._RF.push(t,"815abWqjkRBf5XtF9t64tjW","VideoIcon"),Object.defineProperty(o,"__esModule",{value:!0}),o.VideoIcon=void 0;var i=e("../app"),n=window,a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.videoSprArr=[],t}return __extends(t,e),t.prototype.onLoad=function(){n.hideVideo()&&this.hideVideoSpr(),1==i.app.G.STATE_VIODE&&this.hideVideoSpr()},t.prototype.start=function(){},t.prototype.hideVideoSpr=function(){for(var e in this.videoSprArr)this.videoSprArr[e].node.active=!1},__decorate([r([cc.Sprite])],t.prototype,"videoSprArr",void 0),__decorate([c],t)}(cc.Component);o.VideoIcon=s,cc._RF.pop()},{"../app":"app"}],YandexSDK:[function(e,t,o){"use strict";cc._RF.push(t,"ab50dKWBvVE4LqEZYfGOPYU","YandexSDK"),Object.defineProperty(o,"__esModule",{value:!0}),o.gYandexSDK=void 0;var i=cc._decorator,n=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bReady=!1,t}return __extends(t,e),t.prototype.init=function(){o.gYandexSDK=this,window.gYandexSDK=o.gYandexSDK},t.prototype.showVideoAd=function(e){window.YaGames?window.YaGames.init().then(function(t){t.adv.showFullscreenAdv(),e(!0)}):e(!1)},t.prototype.isReady=function(){return!0},__decorate([n],t)}(cc.Component));o.default=a,o.gYandexSDK=null,cc._RF.pop()},{}],addCoinLayer:[function(e,t,o){"use strict";cc._RF.push(t,"95c52AzUvREebZNBauVGOb9","addCoinLayer"),Object.defineProperty(o,"__esModule",{value:!0}),o.addCoinLayer=void 0;var i=e("../app"),n=cc._decorator,a=n.ccclass,c=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnExchange=null,t.coinNum=0,t.powerNum=0,t.type="",t.callBack=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.node.x=cc.winSize.width/2,this.node.y=cc.winSize.height/2,this.node.width=cc.winSize.width,this.node.height=cc.winSize.height},t.prototype.start=function(){},t.prototype.init=function(e,t){this.coinNum=600,this.powerNum=6,this.type=e,this.callBack=t,this.btnExchange.node.active=!1,cc.find("Bg/coin/num",this.node).getComponent(cc.Label).string="+ "+this.coinNum,cc.find("Bg/power/num",this.node).getComponent(cc.Label).string="+ "+this.powerNum,cc.find("Bg/coin",this.node).active=!1,cc.find("Bg/power",this.node).active=!1,"power"==this.type?(cc.find("Bg/power",this.node).active=!0,i.app.play.get("coin")>=600&&(this.btnExchange.node.active=!0)):"coin"==this.type&&(cc.find("Bg/coin",this.node).active=!0)},t.prototype.getBtnCallBack=function(){var e=function(e){if(e){if("power"==this.type){var t=i.app.play.get("power");t+=this.powerNum,i.app.play.set("power",t)}else if("coin"==this.type){var o=i.app.play.get("coin");o+=this.coinNum,i.app.play.set("coin",o)}this.callBack&&this.callBack(!0),this.node.destroy()}else i.app.pop.showTipsLayer("VIDEO NOT READY")}.bind(this);i.app.chsdk.callAdVideo(e)},t.prototype.onExchangeClick=function(){var e=i.app.play.get("coin");if(e>=600){e-=600,i.app.play.set("coin",e);var t=i.app.play.get("power");t+=6,i.app.play.set("power",t),this.node.destroy()}},t.prototype.closeCallBack=function(){this.callBack&&this.callBack(!1),this.node.destroy()},t.prototype.onDestroy=function(){},__decorate([c(cc.Button)],t.prototype,"btnExchange",void 0),__decorate([a],t)}(cc.Component);o.addCoinLayer=r,cc._RF.pop()},{"../app":"app"}],addScore:[function(e,t,o){"use strict";cc._RF.push(t,"246c20jqgdFyannXtt6vm0N","addScore"),Object.defineProperty(o,"__esModule",{value:!0}),o.addScore=void 0;var i=cc._decorator,n=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},__decorate([n],t)}(cc.Component));o.addScore=a,cc._RF.pop()},{}],app:[function(e,t,o){"use strict";cc._RF.push(t,"f3f94LTun9PK7PvFzVjw6A/","app"),Object.defineProperty(o,"__esModule",{value:!0}),o.app=o.App=void 0;var i=e("./Common/eventMgr"),n=e("./Common/fcUtil"),a=e("./Common/G"),c=e("./Common/PlayData"),r=e("./sdk/CHSdk"),s=e("./sdk/GameMonetizeSDK"),p=e("./sdk/GamePixSDK"),d=e("./sdk/YandexSDK"),h=cc._decorator,l=h.ccclass,u=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasInitMainScene=!1,t.G=null,t.fcUtil=null,t.play=null,t.event=null,t.chsdk=null,t.gameMonetizeSDK=null,t.gamePixSDK=null,t.gameYandexSDK=null,t.pop=null,t.audio=null,t.sidebarlist_home=null,t}return __extends(t,e),t.prototype.init=function(){this.G=a.G,this.fcUtil=new n.fcUtil,this.play=new c.PlayData,this.event=i.eventMgr,this.chsdk=new r.CHSdk,this.fcUtil.init(),this.play.init(),this.chsdk.init(),this.gameMonetizeSDK=new s.default,this.gameMonetizeSDK.init(),this.gamePixSDK=new p.default,this.gamePixSDK.init(),this.gameYandexSDK=new d.default,this.gameYandexSDK.init(),cc.director.getScheduler().setTimeScale(2)},t.prototype.initMainScene=function(e){console.log("~~~~~~~~~~~~~~initMainScene"),this.hasInitMainScene=!0;var t=e.getChildByName("pop").getComponent("Pop"),o=e.getChildByName("audio").getComponent("AudioMgr");this.pop=t,this.audio=o,this.audio.init()},__decorate([u],t.prototype,"hasInitMainScene",void 0),__decorate([l],t)}(cc.Component);o.App=m,o.app=new m,cc._RF.pop()},{"./Common/G":"G","./Common/PlayData":"PlayData","./Common/eventMgr":"eventMgr","./Common/fcUtil":"fcUtil","./sdk/CHSdk":"CHSdk","./sdk/GameMonetizeSDK":"GameMonetizeSDK","./sdk/GamePixSDK":"GamePixSDK","./sdk/YandexSDK":"YandexSDK"}],effects:[function(e,t,o){"use strict";cc._RF.push(t,"205baboQP5M+KCnyRabzhn1","effects"),Object.defineProperty(o,"__esModule",{value:!0}),o.effects=void 0;var i=cc._decorator,n=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bones=null,t}return __extends(t,e),t.prototype.start=function(){this.bones=this.node.getComponent(dragonBones.ArmatureDisplay),this.bones.addEventListener(dragonBones.EventObject.COMPLETE,this.animationEventHandler,this)},t.prototype.animationEventHandler=function(){this.bones.removeEventListener(dragonBones.EventObject.COMPLETE,this.animationEventHandler,this),this.node.active=!1},__decorate([n],t)}(cc.Component));o.effects=a,cc._RF.pop()},{}],eventMgr:[function(e,t,o){"use strict";cc._RF.push(t,"239bebnQHdPsrg7J1I71Czr","eventMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.eventMgr=o.EventMgr=void 0;var i=function(){function e(){this.objs=[]}return e.prototype.isAdded=function(e){return-1!==this.objs.indexOf(e)},e.prototype.add=function(e){this.isAdded(e)&&console.error("repeat object"),this.objs.push(e)},e.prototype.addIfNoExist=function(e){this.isAdded(e)||this.add(e)},e.prototype.remove=function(e){for(var t=0;t<this.objs.length;t++)this.objs[t]===e&&this.objs.splice(t,1)},e.prototype.send=function(e,t){for(var o in this.objs){var i=this.objs[o];i.handleEvent.call(i,e,t)}},e}();o.EventMgr=i,o.eventMgr=new i,cc._RF.pop()},{}],fcUtil:[function(e,t,o){"use strict";cc._RF.push(t,"ed27aFpTedGWbGgn4m9dPuw","fcUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.fcUtil=void 0;var i=window,n=cc._decorator,a=n.ccclass,c=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){},t.prototype.createLog=function(e,t){return function(){if(t){var o=[].slice.call(arguments);o.splice(0,0,e),console.log.apply(console,o)}}},t.prototype.deepClone=function(e){var t=e;return t=JSON.stringify(t),JSON.parse(t)},t.prototype.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},t.prototype.secondConversion=function(e,t){void 0===t&&(t=3);var o=Math.floor(e%60),i=Math.floor(e/60%60),n=Math.floor(e/3600);return 2==t?(i<10?"0"+i:i)+":"+(o<10?"0"+o:o):n+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},t.prototype.vibrateShort=function(e){var t=null;null!=i.qg?t=i.qg:null!=i.qq?t=i.qq:null!=i.wx?t=i.wx:null!=i.tt&&(t=i.tt),null!=t&&e.schedule(function(){t.vibrateShort()},.02,5,0)},t.prototype.getPosIndx=function(e,t,o){var i=parseInt((e.x/o.width).toFixed()),n=parseInt((e.y/o.height).toFixed());return n+=parseInt((e.y%o.height).toFixed())>=0?1:0,(n=t.height-n)*t.width+i},t.prototype.getIndxPos=function(e,t,o){var i=parseInt((e%t.width).toFixed());i*=o.width,i+=o.width/2;var n=parseInt((e/t.width).toFixed());return n*=o.height,n+=o.height/2,n=t.height*o.height-n,cc.v2(i,n)},t.prototype.getIndxsZindex=function(e,t){return parseInt((e/t.width).toFixed())+1},t.prototype.saveLocal=function(e,t){e="map_bzphm"+e,i.wx?i.wx.setStorage({key:e,data:t}):cc.sys.localStorage.setItem(e,t)},t.prototype.getLocal=function(e){return e="map_bzphm"+e,cc.sys.localStorage.getItem(e)},__decorate([a],t)}(cc.Component));o.fcUtil=c,cc._RF.pop()},{}],frameAnimation:[function(e,t,o){"use strict";cc._RF.push(t,"656d4rXESBFgp46w9cTaV13","frameAnimation"),Object.defineProperty(o,"__esModule",{value:!0}),o.frameAnimation=void 0;var i=cc._decorator,n=i.ccclass,a=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerTime=0,t.autioPlay=!0,t.isLoop=!0,t.frameList=[],t.currentInde=0,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){this.currentInde=0,1==this.autioPlay&&this.player()},t.prototype.player=function(){this.currentInde=0,this.unschedule(this.animation),this.schedule(this.animation,this.playerTime,cc.macro.REPEAT_FOREVER,.01)},t.prototype.animation=function(){if(this.currentInde>=this.frameList.length&&(this.currentInde=0,0==this.isLoop))return this.unschedule(this.animation),void(this.node.active=!1);this.node.getComponent(cc.Sprite).spriteFrame=this.frameList[this.currentInde],this.currentInde++},t.prototype.onDestroy=function(){this.unschedule(this.animation)},__decorate([a],t.prototype,"playerTime",void 0),__decorate([a],t.prototype,"autioPlay",void 0),__decorate([a],t.prototype,"isLoop",void 0),__decorate([a([cc.SpriteFrame])],t.prototype,"frameList",void 0),__decorate([n],t)}(cc.Component);o.frameAnimation=c,cc._RF.pop()},{}],item:[function(e,t,o){"use strict";cc._RF.push(t,"86cacfWMJJKtJHHJ7t1E4gP","item"),Object.defineProperty(o,"__esModule",{value:!0}),o.item=void 0;var i=e("./Scene/GameScene"),n=e("./app"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animationNode=null,t.destroyNode=null,t.targetAngle=90,t.isCollision=!1,t.addMusicTween=null,t}return __extends(t,e),t.prototype.start=function(){this.animationNode.active=!0,this.destroyNode.active=!1},t.prototype.init=function(e){void 0===e&&(e=0),this.targetAngle=e,"gou1"!=this.node.name&&"gou2"!=this.node.name||this.addMusic()},t.prototype.addMusic=function(){var e=this;this.addMusicTween&&(this.addMusicTween.stop(),this.addMusicTween=null);var t=Math.abs(this.node.x+i.gGameScene.map.collisionLayer.x);t>0&&t<i.gGameScene.node.width&&0==i.gGameScene.isDie&&("gou1"==this.node.name?n.app.audio.play("\u72d7\u53eb1",!1):n.app.audio.play("\u72d7\u53eb2",!1)),this.addMusicTween=cc.tween(this.node).delay(2).call(function(){e.addMusicTween=null,e.addMusic()}).start()},t.prototype.onCollisionEnter=function(e){if("mao"==e.node.name){var t=null;null!=this.node.getChildByName(this.node.name)?(this.node.getChildByName(this.node.name).active=!0,this.animationNode.active=!1,this.destroyNode.active=!0):((t=this.node.addComponent(cc.RigidBody)).type=cc.RigidBodyType.Dynamic,t.gravityScale=.7,t.linearVelocity=cc.v2(25,120),90==this.targetAngle?t.angularVelocity=110:360==this.targetAngle&&(n.app.fcUtil.random(0,100)<50?t.angularVelocity=0:t.angularVelocity=270))}else if("ground"==e.node.name){if(this.node.removeComponent(cc.RigidBody),this.animationNode.active=!1,this.destroyNode.active=!0,90==this.targetAngle&&this.destroyNode.children.length>0){var o=this.destroyNode.children[1],a=cc.v2(o.x,o.y+10);cc.tween(o).to(.4,{position:a}).union().start()}else 360==this.targetAngle&&this.destroyNode.children.length>0&&(o=this.destroyNode.children[1],a=cc.v2(o.x+10,o.y-10),cc.tween(o).to(.4,{position:a}).union().start());if(-1!=this.node.name.indexOf("luyinji"))n.app.audio.play("\u6253\u7834-\u5f55\u97f3\u673a");else if(-1!=this.node.name.indexOf("huapen"))n.app.audio.play("\u6253\u7834-\u76c6\u683d\u7c7b");else if(-1!=this.node.name.indexOf("jiuping"))(c=n.app.fcUtil.random(0,100))<30?n.app.audio.play("\u6253\u7834-\u74f6\u7f501"):c<60?n.app.audio.play("\u6253\u7834-\u74f6\u7f502"):n.app.audio.play("\u6253\u7834-\u74f6\u7f503");else if(-1!=this.node.name.indexOf("hua")){var c;(c=n.app.fcUtil.random(0,100))<50?n.app.audio.play("\u6253\u7834-\u5b57\u753b\u7c7b\u7269\u54c1"):n.app.audio.play("\u6253\u7834-\u5b57\u753b\u7c7b\u7269\u54c12")}else-1!=this.node.name.indexOf("saoba")?n.app.audio.play("\u6253\u7834-\u626b\u5730\u7c7b\u7269\u54c1"):n.app.audio.play("\u6253\u7834-\u7535\u5b50\u4ea7\u54c1\u7c7b");n.app.fcUtil.random(0,100)<50&&i.gGameScene.map.createCoin(cc.v2(this.node.x+this.node.height,e.node.y+e.node.height/2+7)),i.gGameScene.map.createEffects_qitiao(cc.v2(this.node.x+this.node.height/2,e.node.y+e.node.height/2))}},t.prototype.onCollisionExit=function(e){if("mao"==e.node.name)if(this.node.group="itemDestroy",-1!=this.node.name.indexOf("luyinji"))n.app.audio.play("\u6253\u7834-\u5f55\u97f3\u673a"),i.gGameScene.addMoney(100);else if(-1!=this.node.name.indexOf("huapen"))n.app.audio.play("\u6253\u7834-\u76c6\u683d\u7c7b"),i.gGameScene.addMoney(20);else if(-1!=this.node.name.indexOf("jiuping"))i.gGameScene.addMoney(10),(t=n.app.fcUtil.random(0,100))<30?n.app.audio.play("\u6253\u7834-\u74f6\u7f501"):t<60?n.app.audio.play("\u6253\u7834-\u74f6\u7f502"):n.app.audio.play("\u6253\u7834-\u74f6\u7f503");else if(-1!=this.node.name.indexOf("hua")){var t;i.gGameScene.addMoney(50),(t=n.app.fcUtil.random(0,100))<50?n.app.audio.play("\u6253\u7834-\u5b57\u753b\u7c7b\u7269\u54c1"):n.app.audio.play("\u6253\u7834-\u5b57\u753b\u7c7b\u7269\u54c12")}else-1!=this.node.name.indexOf("saoba")?(i.gGameScene.addMoney(15),n.app.audio.play("\u6253\u7834-\u626b\u5730\u7c7b\u7269\u54c1")):(i.gGameScene.addMoney(100),n.app.audio.play("\u6253\u7834-\u7535\u5b50\u4ea7\u54c1\u7c7b"))},t.prototype.update=function(){this.node.getComponent(cc.RigidBody)&&this.node.getComponent(cc.RigidBody).getWorldRotation()>=this.targetAngle&&(this.node.getComponent(cc.RigidBody).angularVelocity=0)},t.prototype.onDestroy=function(){this.addMusicTween&&(this.addMusicTween.stop(),this.addMusicTween=null)},__decorate([r(cc.Node)],t.prototype,"animationNode",void 0),__decorate([r(cc.Node)],t.prototype,"destroyNode",void 0),__decorate([r],t.prototype,"targetAngle",void 0),__decorate([r],t.prototype,"isCollision",void 0),__decorate([c],t)}(cc.Component);o.item=s,cc._RF.pop()},{"./Scene/GameScene":"GameScene","./app":"app"}],mao:[function(e,t,o){"use strict";cc._RF.push(t,"0e2484J2x9Mh5KgZjHqi6hW","mao"),Object.defineProperty(o,"__esModule",{value:!0}),o.mao=void 0;var i=e("./Scene/GameScene"),n=e("./app"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maoNode=null,t.qitiaoPrefab=null,t.erduantiaoPrefab=null,t.pengzhuangPrefab=null,t.luodiPrefab=null,t.actionState="",t.jumpState="",t.flyTime1=0,t.collisionList=[],t.originX=0,t.moveXtween=null,t.rigid=null,t}return __extends(t,e),t.prototype.start=function(){this.rigid=this.getComponent(cc.RigidBody),this.collisionList=[],this.maoNode.addEventListener(dragonBones.EventObject.COMPLETE,this.animationEventHandler,this),this.playerAction("pa"),this.originX=this.node.x},t.prototype.setJump=function(){"pao"!=this.jumpState&&"tiao"!=this.jumpState||this.flyTime1>0||(this.rigid.type=cc.RigidBodyType.Dynamic,"pao"==this.jumpState?(n.app.fcUtil.random(0,100)<50?n.app.audio.play("\u732b-1\u6bb5\u8df3"):n.app.audio.play("\u732b-1\u6bb5\u8df31"),this.rigid.applyLinearImpulse(cc.v2(0,140),cc.v2(this.node.width,this.node.height),!0),this.playerEffects("qitiao")):"tiao"==this.jumpState&&(n.app.fcUtil.random(0,100)<50?n.app.audio.play("\u732b-2\u6bb5\u8df3"):n.app.audio.play("\u732b-2\u6bb5\u8df31"),this.rigid.linearVelocity.y<0&&(this.rigid.linearVelocity=cc.v2(0,0)),this.rigid.applyLinearImpulse(cc.v2(0,95),cc.v2(this.node.width,this.node.height),!0),this.playerEffects("erduantiao")),this.playerAction("tiao"))},t.prototype.setRigidBodyType=function(e){0==e?console.error("!!!!!!!!!!!!!!!!!!!!Static",e):1==e?console.error("!!!!!!!!!!!!!!!!!!!!Kinematic",e):2==e?console.error("!!!!!!!!!!!!!!!!!!!!Dynamic",e):3==e&&console.error("!!!!!!!!!!!!!!!!!!!!Animated",e),this.node.getComponent(cc.RigidBody).type=e},t.prototype.callback=function(){this.setRigidBodyType(cc.RigidBodyType.Dynamic)},t.prototype.onCollisionEnter=function(e){var t=this;console.log("mao->onCollisionEnter",e.node.name);var o={name:e.node.name,x:e.node.x,y:e.node.y,height:e.node.height};"gou1"!=e.node.parent.name&&"gou2"!=e.node.parent.name&&"fei1"!=e.node.parent.name&&"fei2"!=e.node.parent.name||(o.x=e.node.x+e.node.parent.x,o.y=e.node.y+e.node.parent.y);var a=this.node.getComponent(cc.RigidBody);"fly"==o.name?(n.app.audio.play("\u5730\u4e0b\u5708\u52a0\u901f"),this.playerAction("fei"),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.setRigidBodyType(cc.RigidBodyType.Dynamic),this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(0,13e3),!0)):"fly1"==o.name?(n.app.audio.play("\u7a7a\u4e2d\u5708\u52a0\u901f"),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.node.y=o.y,this.setRigidBodyType(cc.RigidBodyType.Kinematic),this.moveXtween&&(this.moveXtween.stop(),this.moveXtween=null),this.playerAction("fei1"),this.moveXtween=cc.tween(this.node).to(.7,{x:this.originX+30}).call(function(){}).to(.5,{x:this.originX}).call(function(){t.moveXtween=null,t.setRigidBodyType(cc.RigidBodyType.Dynamic)}).union().start()):("ground"==o.name||"desktop"==o.name)&&a.linearVelocity.y<0?(this.setRigidBodyType(cc.RigidBodyType.Static),this.node.y=o.y+this.node.height/2+o.height/2):"groundDie"==o.name?(i.gGameScene.isDie=!0,this.playerEffects("pengzhuang"),this.node.group="default",this.setRigidBodyType(cc.RigidBodyType.Dynamic),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.node.getComponent(cc.RigidBody).applyLinearImpulse(cc.v2(20,200),cc.v2(this.node.width,this.node.height),!0),this.playerAction("si"),n.app.scheduleOnce(function(){n.app.pop.showGameOverLayer()},1.5)):"coin"==o.name&&(i.gGameScene.addCoin(1),cc.tween(e.node).to(.5,{x:Math.abs(i.gGameScene.map.collisionLayer.x-this.node.x),y:this.node.y}).call(function(){e.node.opacity=0}).start()),this.collisionList.push(e.node)},t.prototype.onCollisionStay=function(e){var t={name:e.node.name,y:e.node.y,height:e.node.height};"item32"!=t.name&&"item33"!=t.name||(t.y=e.node.y+e.node.parent.y);var o=this.node.getComponent(cc.RigidBody);"desktop"==t.name&&"pao"==this.jumpState&&o.linearVelocity.y<0&&(console.log("mao->onCollisionStay","\u6301\u7eed\u78b0\u649e"),this.setRigidBodyType(cc.RigidBodyType.Static),this.node.y=t.y+this.node.height/2+t.height/2)},t.prototype.onCollisionExit=function(e){for(var t=0;t<this.collisionList.length;t++)if(this.collisionList[t]==e.node){this.collisionList.splice(t,1);break}if(this.flyTime1>0);else{for(t=0;t<this.collisionList.length;t++)if("desktop"==this.collisionList[t].name||"ground"==this.collisionList[t].name)return;this.setRigidBodyType(cc.RigidBodyType.Dynamic)}},t.prototype.playerAction=function(e){var t=0,o="",i=.2;if("pao"==e)o="maopao",t=-1,this.jumpState="pao";else if("fei"==e)o="maoshangsheng",t=1,this.flyTime1=.5,this.node.getChildByName("frameAnimation").active=!0,this.node.getChildByName("frameAnimation").getComponent("frameAnimation").player();else if("fei1"==e)o="maoshangsheng",t=1,this.flyTime1=.5,this.node.getChildByName("frameAnimation").active=!1,this.node.getChildByName("frameAnimation1").active=!0,this.node.getChildByName("frameAnimation1").getComponent("frameAnimation").player();else if("tiao"==e&&"tiao1"!=this.jumpState)o="maoshangsheng",t=1,"tiao"==this.jumpState?this.jumpState="tiao1":this.jumpState="tiao";else if("shangsheng"==e)o="maoqitiao",t=1,i=.15;else if("xiajiang"==e)o="maoxiajiang",t=1;else if("luodi"==e)o="maoluodi",t=1,i=.15,this.jumpState="pao";else if("si"==e)o="maosi",t=1;else if("pa"==e)o="maopa",t=-1,i=.1;else{if("xing"!=e)return;o="maoxing",t=1}this.actionState=o,this.maoNode.playAnimation(o,t),this.maoNode.timeScale=i},t.prototype.playerEffects=function(e){var t=null,o=cc.v2(0,0);"qitiao"==e?t=cc.instantiate(this.qitiaoPrefab):"erduantiao"==e?t=cc.instantiate(this.erduantiaoPrefab):"luodi"==e?(t=cc.instantiate(this.luodiPrefab),o.x=this.node.width/2,o.y=-this.node.height/2):"pengzhuang"==e&&(t=cc.instantiate(this.pengzhuangPrefab),o.x=this.node.width/2),t.name=e,t.parent=i.gGameScene.map.collisionLayer,t.position=cc.v2(this.node.x+Math.abs(i.gGameScene.map.collisionLayer.x)+o.x,this.node.y+o.y)},t.prototype.animationEventHandler=function(){"maoluodi"==this.actionState?this.playerAction("pao"):"maoxing"==this.actionState&&(this.playerAction("pao"),i.gGameScene.isMoveMap=!0)},t.prototype.setUpdate=function(e){"maoshangsheng"==this.actionState&&this.flyTime1>0?this.flyTime1-=e:"maoshangsheng"==this.actionState&&this.node.getComponent(cc.RigidBody).linearVelocity.y<=85?this.playerAction("shangsheng"):"maoqitiao"!=this.actionState&&"maoxiajiang"!=this.actionState||!(this.collisionList.length>=1)||"desktop"!=this.collisionList[this.collisionList.length-1].name&&"ground"!=this.collisionList[this.collisionList.length-1].name?"maopao"==this.actionState&&this.collisionList.length<=0&&this.playerAction("xiajiang"):(this.playerAction("luodi"),this.playerEffects("luodi"))},__decorate([r(dragonBones.ArmatureDisplay)],t.prototype,"maoNode",void 0),__decorate([r(cc.Prefab)],t.prototype,"qitiaoPrefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"erduantiaoPrefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"pengzhuangPrefab",void 0),__decorate([r(cc.Prefab)],t.prototype,"luodiPrefab",void 0),__decorate([c],t)}(cc.Component);o.mao=s,cc._RF.pop()},{"./Scene/GameScene":"GameScene","./app":"app"}],promotionitem:[function(e,t,o){"use strict";cc._RF.push(t,"1d38a8zJUpFlZfPeAh0S3GG","promotionitem"),Object.defineProperty(o,"__esModule",{value:!0}),o.promotionitem=void 0;var i=e("../app"),n=window,a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.lblname=null,t.opt=[],t.m_tween=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.init=function(e){this.initData(e),this.initUI(e)},t.prototype.initData=function(e){this.opt=e},t.prototype.shakeAction=function(){this.m_tween&&this.m_tween.stop(),this.node&&(this.m_tween=cc.tween(this.node).to(.3,{angle:-30}).to(.3,{angle:30}).to(.3,{angle:-30}).to(.3,{angle:30}).to(.15,{angle:0}).union().start())},t.prototype.initUI=function(e){var t=this,o="https://game.lyqhw.cn/game/supperFLyMan/res_LY/HuTuiIcon/"+n.gameid+"/"+n.version+"/"+e.icon;try{cc.loader.load(o,function(e,o){if(e);else{var i=new cc.SpriteFrame(o);t.icon.spriteFrame=i}})}catch(i){}this.lblname.string=e.name},t.prototype.promotion=function(){if(null!=n.tt){var e=n.tt.getSystemInfoSync().SDKVersion.split("."),t=n.tt.getSystemInfoSync().SDKVersion;e.length>=3&&parseInt(e[1])>=33?n.tt.showMoreGamesModal({appLaunchOptions:[{appId:"ttc192b72f5ea96627"},{appId:"tt7e980825e1a2282a"},{appId:"tt69de1f63f6e5c22e"},{appId:"ttb55cc3e12a66755c"},{appId:"tt313e4783ae143a3f"},{appId:"tt48863e3bd7ac4cbc"},{appId:"tt60251698ff0f4aa5"},{appId:"tt38ad4e10a7873c9c"},{appId:"tta239d4843d1389b5"},{appId:"ttc3d2b56f5cf8f3e1"}],success:function(e){console.log("success",e.errMsg)},fail:function(e){console.log("fail",e.errMsg)}}):console.log("",t)}else n.qg,i.app.chsdk.promotion(this.opt,function(){}.bind(this))},t.prototype.click=function(){console.log(this.opt),this.promotion()},t.prototype.onDisable=function(){this.m_tween&&this.m_tween.stop()},__decorate([r],t.prototype,"icon",void 0),__decorate([r],t.prototype,"lblname",void 0),__decorate([r],t.prototype,"opt",void 0),__decorate([c],t)}(cc.Component);o.promotionitem=s,cc._RF.pop()},{"../app":"app"}],promotion:[function(e,t,o){"use strict";cc._RF.push(t,"5f585r4Z+RNGIINSkomaHQ2","promotion"),Object.defineProperty(o,"__esModule",{value:!0}),o.promotion=void 0;var i=e("../app"),n=window,a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemsParent=null,t.viewRoot=null,t.viewContent=null,t.showType="",t.isShakeAction=0,t.isAudioMove=!0,t.isAudioCreate=!1,t.isAudioInit=!1,t.isAudioRefresh=!1,t.isOrder=!1,t.items=[],t.isPortraitMove=!1,t.initPost=cc.v2(),t.sidebarList=[],t.shakeIdx=0,t.m_tween=[],t}return __extends(t,e),t.prototype.onLoad=function(){1==this.isAudioInit&&this.init(i.app.sidebarlist_home)},t.prototype.onEnable=function(){!n.isdaochu()||n.qg?this.node.active=!1:this.node.active=!0},t.prototype.init=function(e){var t=this.itemsParent.children;if(this.items=[],this.isPortraitMove=!(this.itemsParent.height<this.itemsParent.width),null!=this.viewRoot){this.viewRoot.node.on("scroll-began",this.viewTouchBegan,this),this.viewRoot.node.on("scrolling",this.viewTouchling,this),this.viewRoot.node.on("scroll-ended",this.viewTouchEnded,this),this.initPost=cc.v2(0,0);var o=function(){1==this.isAudioMove&&(0==this.isPortraitMove?(this.viewRoot.scrollToOffset(cc.v2(this.initPost.x+1,this.initPost.y)),this.initPost=this.viewRoot.getScrollOffset(),this.initPost.x=Math.abs(this.initPost.x)):(this.viewRoot.scrollToOffset(cc.v2(this.initPost.x,this.initPost.y+1.6)),this.initPost=this.viewRoot.getScrollOffset(),this.initPost.y=Math.abs(this.initPost.y))),this.viewTouchling()}.bind(this);this.schedule(o,.02)}if(this.sidebarList=e||[],this.sidebarList.length){if(1==this.isAudioCreate){for(var i=0;i<e.length-2;i++)cc.instantiate(t[0]).parent=this.itemsParent;this.itemsParent.getComponent(cc.Layout).updateLayout();var n=this.itemsParent.children[e.length-2];1==this.isPortraitMove?(this.itemsParent.height=-(n.y-n.height),this.node.parent.height=this.itemsParent.height+-this.node.y):this.itemsParent.width=n.x+n.width,t=this.itemsParent.children}for(var a=0;a<t.length;a++)this.items.push(t[a].getComponent("promotionitem"));1==this.isShakeAction&&this.startShakeIcon(),this.startFadeToIcon(),this.startRandShow()}},t.prototype.viewTouchBegan=function(){this.isAudioMove=!1},t.prototype.viewTouchling=function(){var e=this.viewRoot.getScrollOffset(),t=this.viewRoot.getMaxScrollOffset();0==this.isPortraitMove?e.x<-(t.x-10)?(this.initPost=cc.v2(0,0),this.viewRoot.scrollToLeft(.01)):(this.initPost=this.viewRoot.getScrollOffset(),this.initPost.x=Math.abs(this.initPost.x)):e.y>t.y-10?(this.initPost=cc.v2(0,0),this.viewRoot.scrollToTop(.01)):(this.initPost=this.viewRoot.getScrollOffset(),this.initPost.y=Math.abs(this.initPost.y))},t.prototype.viewTouchEnded=function(){this.isAudioMove=!0},t.prototype.startRandShow=function(){1==this.isAudioRefresh?(this.randShowCfg(),this.schedule(function(){this.randShowCfg()}.bind(this),5)):this.randShowCfg()},t.prototype.startShakeIcon=function(){null==this.shakeIdx&&(this.shakeIdx=-1),0==this.node.activeInHierarchy?this.scheduleOnce(function(){this.startShakeIcon()}.bind(this),1):(++this.shakeIdx,this.shakeIdx=this.shakeIdx%this.items.length,this.items[this.shakeIdx].shakeAction(),this.scheduleOnce(function(){this.startShakeIcon()}.bind(this),4))},t.prototype.startFadeToIcon=function(){this.m_tween=[];for(var e=0;e<this.items.length;e++){var t=i.app.fcUtil.random(0,100),o=this.items[e].node.getChildByName("New Sprite");o&&(t<30?(o.active=!0,this.m_tween[e]&&this.m_tween[e].stop(),this.m_tween[e]=cc.tween(o).to(.15,{scale:1.2}).to(.15,{scale:.9}).union().repeatForever().start()):o.active=!1)}},t.prototype.randShowCfg=function(){if(n.randStartIdx=n.randStartIdx||0,this.items)for(var e=0;e<this.items.length;e++){1==this.isOrder?n.randStartIdx+=1:n.randStartIdx+=i.app.fcUtil.random(1,2);var t=n.randStartIdx%this.sidebarList.length;n.randStartIdx=t;var o={};Number(t)>Number(this.sidebarList.length-1)||!this.items[e]||(this.sidebarList[t]?(this.items[e].node.active=!0,null!=n.tt?(o.appId=this.sidebarList[t].appId,o.name=this.sidebarList[t].name,o.icon=this.sidebarList[t].icon):null!=n.qg?(o.name=this.sidebarList[t].name,o.icon=this.sidebarList[t].icon,o.pkgName=this.sidebarList[t].pkgName):(o.appId=this.sidebarList[t].appId,o.name=this.sidebarList[t].name,o.icon=this.sidebarList[t].icon,o.path=this.sidebarList[t].path),o.isShakeAction=this.isShakeAction,o.showType=this.showType,o.sidebarList=this.sidebarList,this.items[e].init(o)):this.items[e].node.active=!1)}},t.prototype.setBanner=function(e){if(this.items)for(var t=0;t<this.items.length;t++)this.items[t].banner=e},t.prototype.onDisable=function(){if(this.items)for(var e=0;e<this.items.length;e++)this.m_tween[e]&&this.m_tween[e].stop()},__decorate([r],t.prototype,"itemsParent",void 0),__decorate([r],t.prototype,"viewRoot",void 0),__decorate([r],t.prototype,"viewContent",void 0),__decorate([r],t.prototype,"showType",void 0),__decorate([r],t.prototype,"isShakeAction",void 0),__decorate([r],t.prototype,"isAudioMove",void 0),__decorate([r],t.prototype,"isAudioCreate",void 0),__decorate([r],t.prototype,"isAudioInit",void 0),__decorate([r],t.prototype,"isAudioRefresh",void 0),__decorate([r],t.prototype,"isOrder",void 0),__decorate([c],t)}(cc.Component);o.promotion=s,cc._RF.pop()},{"../app":"app"}],qgNativeAd:[function(e,t,o){"use strict";cc._RF.push(t,"3bf1c5+MQxP+ZsjZkp0LHXT","qgNativeAd"),Object.defineProperty(o,"__esModule",{value:!0}),o.qgNativeAd=void 0;var i=e("../app"),n=cc._decorator,a=n.ccclass,c=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getBtn=null,t._nativeAd=null,t._adData=null,t}return __extends(t,e),t.prototype.start=function(){var e=this,t=this,o=parseInt(((new Date).getTime()/1e3).toFixed());this.getBtn.active=!1,window.qg&&window.startTime+i.app.G.MinStartTime>o||window.tt?this.hide():null!=window.qg?window.app.chsdk.creatorNativeAd(function(o,i,n){console.log("qgNativeAd->creatorNativeAd",o,i,n),o?(e.node.getChildByName("adBtn").active=!0,t.init(i,n)):t.node.getChildByName("adBtn").active=!1}):this.node.getChildByName("adBtn").active=!1},t.prototype.init=function(e,t){this._nativeAd=t,this._adData=e[0],console.log("qgNativeAd->init",this._adData),this.initData(),this.initUi()},t.prototype.initData=function(){this.node.getChildByName("adBtn").active=!0,this.getBtn.active=!0,window.iswudian()&&i.app.fcUtil.random(0,100)<=50||(this.getBtn.active=!1)},t.prototype.initUi=function(){var e=this,t=this._adData.imgUrlList[0];console.log("qgNativeAd->initUi",t),cc.loader.load(t,function(t,o){if(t);else{var i=new cc.SpriteFrame(o);e.node.getChildByName("adBtn").getChildByName("adImage").getComponent(cc.Sprite).spriteFrame=i}}),console.log("qgNativeAd->initUi",this._adData.title),this.node.getChildByName("adBtn").getChildByName("name").getComponent(cc.Label).string=this._adData.title,console.log("qgNativeAd->initUi",this._adData.desc),this.node.getChildByName("adBtn").getChildByName("describe").getComponent(cc.Label).string=this._adData.desc,console.log("qgNativeAd->initUi",this._adData.adId),this._nativeAd&&this._nativeAd.reportAdShow({adId:this._adData.adId})},t.prototype.hide=function(){this.getBtn.active=!1,this.node.getChildByName("adBtn").active=!1},t.prototype.clickAdCallBack=function(){this._nativeAd&&this._nativeAd.reportAdClick({adId:this._adData.adId}),this.getBtn.active=!1},__decorate([c(cc.Node)],t.prototype,"getBtn",void 0),__decorate([a],t)}(cc.Component);o.qgNativeAd=r,cc._RF.pop()},{"../app":"app"}],use_reversed_rotateBy:[function(e,t){"use strict";cc._RF.push(t,"089f4djtitMHLlepj4leVjv","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}]},{},["BgCamera","MainCamera","AudioMgr","G","JsonMgr","PlayData","VideoIcon","eventMgr","fcUtil","qgNativeAd","GameUi","MainUi","GameOverLayer","Pop","TipsLayer","addCoinLayer","ItemRes","TmxRes","GameScene","LoadingScene","Map","addScore","app","effects","frameAnimation","item","mao","promotion","promotionitem","CHSdk","GameMonetizeSDK","GamePixSDK","YandexSDK","use_reversed_rotateBy"]);